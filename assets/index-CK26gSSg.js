function TN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function gw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var I_={exports:{}},td={},T_={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function SN(){if(PT)return je;PT=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,S={};function b(q,ie,Te){this.props=q,this.context=ie,this.refs=S,this.updater=Te||T}b.prototype.isReactComponent={},b.prototype.setState=function(q,ie){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ie,"setState")},b.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function V(){}V.prototype=b.prototype;function L(q,ie,Te){this.props=q,this.context=ie,this.refs=S,this.updater=Te||T}var M=L.prototype=new V;M.constructor=L,I(M,b.prototype),M.isPureReactComponent=!0;var z=Array.isArray,j=Object.prototype.hasOwnProperty,W={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(q,ie,Te){var ke,Ve={},Ue=null,Ke=null;if(ie!=null)for(ke in ie.ref!==void 0&&(Ke=ie.ref),ie.key!==void 0&&(Ue=""+ie.key),ie)j.call(ie,ke)&&!D.hasOwnProperty(ke)&&(Ve[ke]=ie[ke]);var qe=arguments.length-2;if(qe===1)Ve.children=Te;else if(1<qe){for(var st=Array(qe),Kt=0;Kt<qe;Kt++)st[Kt]=arguments[Kt+2];Ve.children=st}if(q&&q.defaultProps)for(ke in qe=q.defaultProps,qe)Ve[ke]===void 0&&(Ve[ke]=qe[ke]);return{$$typeof:n,type:q,key:Ue,ref:Ke,props:Ve,_owner:W.current}}function C(q,ie){return{$$typeof:n,type:q.type,key:ie,ref:q.ref,props:q.props,_owner:q._owner}}function E(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function O(q){var ie={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Te){return ie[Te]})}var k=/\/+/g;function x(q,ie){return typeof q=="object"&&q!==null&&q.key!=null?O(""+q.key):ie.toString(36)}function ee(q,ie,Te,ke,Ve){var Ue=typeof q;(Ue==="undefined"||Ue==="boolean")&&(q=null);var Ke=!1;if(q===null)Ke=!0;else switch(Ue){case"string":case"number":Ke=!0;break;case"object":switch(q.$$typeof){case n:case e:Ke=!0}}if(Ke)return Ke=q,Ve=Ve(Ke),q=ke===""?"."+x(Ke,0):ke,z(Ve)?(Te="",q!=null&&(Te=q.replace(k,"$&/")+"/"),ee(Ve,ie,Te,"",function(Kt){return Kt})):Ve!=null&&(E(Ve)&&(Ve=C(Ve,Te+(!Ve.key||Ke&&Ke.key===Ve.key?"":(""+Ve.key).replace(k,"$&/")+"/")+q)),ie.push(Ve)),1;if(Ke=0,ke=ke===""?".":ke+":",z(q))for(var qe=0;qe<q.length;qe++){Ue=q[qe];var st=ke+x(Ue,qe);Ke+=ee(Ue,ie,Te,st,Ve)}else if(st=_(q),typeof st=="function")for(q=st.call(q),qe=0;!(Ue=q.next()).done;)Ue=Ue.value,st=ke+x(Ue,qe++),Ke+=ee(Ue,ie,Te,st,Ve);else if(Ue==="object")throw ie=String(q),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return Ke}function F(q,ie,Te){if(q==null)return q;var ke=[],Ve=0;return ee(q,ke,"","",function(Ue){return ie.call(Te,Ue,Ve++)}),ke}function fe(q){if(q._status===-1){var ie=q._result;ie=ie(),ie.then(function(Te){(q._status===0||q._status===-1)&&(q._status=1,q._result=Te)},function(Te){(q._status===0||q._status===-1)&&(q._status=2,q._result=Te)}),q._status===-1&&(q._status=0,q._result=ie)}if(q._status===1)return q._result.default;throw q._result}var oe={current:null},X={transition:null},pe={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:X,ReactCurrentOwner:W};function me(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:F,forEach:function(q,ie,Te){F(q,function(){ie.apply(this,arguments)},Te)},count:function(q){var ie=0;return F(q,function(){ie++}),ie},toArray:function(q){return F(q,function(ie){return ie})||[]},only:function(q){if(!E(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},je.Component=b,je.Fragment=t,je.Profiler=i,je.PureComponent=L,je.StrictMode=r,je.Suspense=d,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,je.act=me,je.cloneElement=function(q,ie,Te){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var ke=I({},q.props),Ve=q.key,Ue=q.ref,Ke=q._owner;if(ie!=null){if(ie.ref!==void 0&&(Ue=ie.ref,Ke=W.current),ie.key!==void 0&&(Ve=""+ie.key),q.type&&q.type.defaultProps)var qe=q.type.defaultProps;for(st in ie)j.call(ie,st)&&!D.hasOwnProperty(st)&&(ke[st]=ie[st]===void 0&&qe!==void 0?qe[st]:ie[st])}var st=arguments.length-2;if(st===1)ke.children=Te;else if(1<st){qe=Array(st);for(var Kt=0;Kt<st;Kt++)qe[Kt]=arguments[Kt+2];ke.children=qe}return{$$typeof:n,type:q.type,key:Ve,ref:Ue,props:ke,_owner:Ke}},je.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:o,_context:q},q.Consumer=q},je.createElement=A,je.createFactory=function(q){var ie=A.bind(null,q);return ie.type=q,ie},je.createRef=function(){return{current:null}},je.forwardRef=function(q){return{$$typeof:u,render:q}},je.isValidElement=E,je.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:fe}},je.memo=function(q,ie){return{$$typeof:h,type:q,compare:ie===void 0?null:ie}},je.startTransition=function(q){var ie=X.transition;X.transition={};try{q()}finally{X.transition=ie}},je.unstable_act=me,je.useCallback=function(q,ie){return oe.current.useCallback(q,ie)},je.useContext=function(q){return oe.current.useContext(q)},je.useDebugValue=function(){},je.useDeferredValue=function(q){return oe.current.useDeferredValue(q)},je.useEffect=function(q,ie){return oe.current.useEffect(q,ie)},je.useId=function(){return oe.current.useId()},je.useImperativeHandle=function(q,ie,Te){return oe.current.useImperativeHandle(q,ie,Te)},je.useInsertionEffect=function(q,ie){return oe.current.useInsertionEffect(q,ie)},je.useLayoutEffect=function(q,ie){return oe.current.useLayoutEffect(q,ie)},je.useMemo=function(q,ie){return oe.current.useMemo(q,ie)},je.useReducer=function(q,ie,Te){return oe.current.useReducer(q,ie,Te)},je.useRef=function(q){return oe.current.useRef(q)},je.useState=function(q){return oe.current.useState(q)},je.useSyncExternalStore=function(q,ie,Te){return oe.current.useSyncExternalStore(q,ie,Te)},je.useTransition=function(){return oe.current.useTransition()},je.version="18.3.1",je}var CT;function Do(){return CT||(CT=1,T_.exports=SN()),T_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function RN(){if(kT)return td;kT=1;var n=Do(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var m,g={},_=null,T=null;h!==void 0&&(_=""+h),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(T=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(g[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:u,key:_,ref:T,props:g,_owner:i.current}}return td.Fragment=t,td.jsx=l,td.jsxs=l,td}var xT;function AN(){return xT||(xT=1,I_.exports=RN()),I_.exports}var B=AN(),K=Do();const He=gw(K),uv=TN({__proto__:null,default:He},[K]);var yp={},S_={exports:{}},Xn={},R_={exports:{}},A_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OT;function bN(){return OT||(OT=1,function(n){function e(X,pe){var me=X.length;X.push(pe);e:for(;0<me;){var q=me-1>>>1,ie=X[q];if(0<i(ie,pe))X[q]=pe,X[me]=ie,me=q;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var pe=X[0],me=X.pop();if(me!==pe){X[0]=me;e:for(var q=0,ie=X.length,Te=ie>>>1;q<Te;){var ke=2*(q+1)-1,Ve=X[ke],Ue=ke+1,Ke=X[Ue];if(0>i(Ve,me))Ue<ie&&0>i(Ke,Ve)?(X[q]=Ke,X[Ue]=me,q=Ue):(X[q]=Ve,X[ke]=me,q=ke);else if(Ue<ie&&0>i(Ke,me))X[q]=Ke,X[Ue]=me,q=Ue;else break e}}return pe}function i(X,pe){var me=X.sortIndex-pe.sortIndex;return me!==0?me:X.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,g=null,_=3,T=!1,I=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(X){for(var pe=t(h);pe!==null;){if(pe.callback===null)r(h);else if(pe.startTime<=X)r(h),pe.sortIndex=pe.expirationTime,e(d,pe);else break;pe=t(h)}}function z(X){if(S=!1,M(X),!I)if(t(d)!==null)I=!0,fe(j);else{var pe=t(h);pe!==null&&oe(z,pe.startTime-X)}}function j(X,pe){I=!1,S&&(S=!1,V(A),A=-1),T=!0;var me=_;try{for(M(pe),g=t(d);g!==null&&(!(g.expirationTime>pe)||X&&!O());){var q=g.callback;if(typeof q=="function"){g.callback=null,_=g.priorityLevel;var ie=q(g.expirationTime<=pe);pe=n.unstable_now(),typeof ie=="function"?g.callback=ie:g===t(d)&&r(d),M(pe)}else r(d);g=t(d)}if(g!==null)var Te=!0;else{var ke=t(h);ke!==null&&oe(z,ke.startTime-pe),Te=!1}return Te}finally{g=null,_=me,T=!1}}var W=!1,D=null,A=-1,C=5,E=-1;function O(){return!(n.unstable_now()-E<C)}function k(){if(D!==null){var X=n.unstable_now();E=X;var pe=!0;try{pe=D(!0,X)}finally{pe?x():(W=!1,D=null)}}else W=!1}var x;if(typeof L=="function")x=function(){L(k)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,F=ee.port2;ee.port1.onmessage=k,x=function(){F.postMessage(null)}}else x=function(){b(k,0)};function fe(X){D=X,W||(W=!0,x())}function oe(X,pe){A=b(function(){X(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){I||T||(I=!0,fe(j))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(X){switch(_){case 1:case 2:case 3:var pe=3;break;default:pe=_}var me=_;_=pe;try{return X()}finally{_=me}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,pe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=_;_=X;try{return pe()}finally{_=me}},n.unstable_scheduleCallback=function(X,pe,me){var q=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?q+me:q):me=q,X){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=me+ie,X={id:m++,callback:pe,priorityLevel:X,startTime:me,expirationTime:ie,sortIndex:-1},me>q?(X.sortIndex=me,e(h,X),t(d)===null&&X===t(h)&&(S?(V(A),A=-1):S=!0,oe(z,me-q))):(X.sortIndex=ie,e(d,X),I||T||(I=!0,fe(j))),X},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(X){var pe=_;return function(){var me=_;_=pe;try{return X.apply(this,arguments)}finally{_=me}}}}(A_)),A_}var NT;function PN(){return NT||(NT=1,R_.exports=bN()),R_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT;function CN(){if(DT)return Xn;DT=1;var n=Do(),e=PN();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function _(s){return d.call(g,s)?!0:d.call(m,s)?!1:h.test(s)?g[s]=!0:(m[s]=!0,!1)}function T(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function I(s,a,c,p){if(a===null||typeof a>"u"||T(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function S(s,a,c,p,y,w,P){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=P}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];b[a]=new S(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function L(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(V,L);b[a]=new S(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(V,L);b[a]=new S(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(V,L);b[a]=new S(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function M(s,a,c,p){var y=b.hasOwnProperty(a)?b[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,c,y,p)&&(c=null),p||y===null?_(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):y.mustUseProperty?s[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,p=y.attributeNamespace,c===null?s.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),W=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),O=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),X=Symbol.iterator;function pe(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var me=Object.assign,q;function ie(s){if(q===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);q=a&&a[1]||""}return`
`+q+s}var Te=!1;function ke(s,a){if(!s||Te)return"";Te=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var p=Z}Reflect.construct(s,[],a)}else{try{a.call()}catch(Z){p=Z}s.call(a.prototype)}else{try{throw Error()}catch(Z){p=Z}s()}}catch(Z){if(Z&&p&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),w=p.stack.split(`
`),P=y.length-1,U=w.length-1;1<=P&&0<=U&&y[P]!==w[U];)U--;for(;1<=P&&0<=U;P--,U--)if(y[P]!==w[U]){if(P!==1||U!==1)do if(P--,U--,0>U||y[P]!==w[U]){var $=`
`+y[P].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=P&&0<=U);break}}}finally{Te=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?ie(s):""}function Ve(s){switch(s.tag){case 5:return ie(s.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return s=ke(s.type,!1),s;case 11:return s=ke(s.type.render,!1),s;case 1:return s=ke(s.type,!0),s;default:return""}}function Ue(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case W:return"Portal";case C:return"Profiler";case A:return"StrictMode";case x:return"Suspense";case ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case O:return(s.displayName||"Context")+".Consumer";case E:return(s._context.displayName||"Context")+".Provider";case k:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return a=s.displayName||null,a!==null?a:Ue(s.type)||"Memo";case fe:a=s._payload,s=s._init;try{return Ue(s(a))}catch{}}return null}function Ke(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function qe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function st(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Kt(s){var a=st(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(P){p=""+P,w.call(this,P)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ir(s){s._valueTracker||(s._valueTracker=Kt(s))}function Tr(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=st(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function gn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function zr(s,a){var c=a.checked;return me({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function xs(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=qe(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function $o(s,a){a=a.checked,a!=null&&M(s,"checked",a,!1)}function qo(s,a){$o(s,a);var c=qe(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Os(s,a.type,c):a.hasOwnProperty("defaultValue")&&Os(s,a.type,qe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function rl(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Os(s,a,c){(a!=="number"||gn(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Sr=Array.isArray;function Fe(s,a,c,p){if(s=s.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=a.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&p&&(s[c].defaultSelected=!0)}else{for(c=""+qe(c),a=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function ot(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return me({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function _t(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Sr(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:qe(c)}}function $r(s,a){var c=qe(a.value),p=qe(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function Rr(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function dt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?dt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var yn,Ki=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,y){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,y)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(yn=yn||document.createElement("div"),yn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=yn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Ns(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ho=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(s){Ho.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Wo[a]=Wo[s]})});function hc(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Wo.hasOwnProperty(s)&&Wo[s]?(""+a).trim():a+"px"}function fc(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=hc(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,y):s[c]=y}}var pc=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mc(s,a){if(a){if(pc[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function gc(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=null;function il(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var sl=null,Ar=null,ci=null;function ol(s){if(s=jc(s)){if(typeof sl!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Of(a),sl(s.stateNode,s.type,a))}}function di(s){Ar?ci?ci.push(s):ci=[s]:Ar=s}function yc(){if(Ar){var s=Ar,a=ci;if(ci=Ar=null,ol(s),a)for(s=0;s<a.length;s++)ol(a[s])}}function Go(s,a){return s(a)}function _c(){}var Gi=!1;function vc(s,a,c){if(Gi)return s(a,c);Gi=!0;try{return Go(s,a,c)}finally{Gi=!1,(Ar!==null||ci!==null)&&(_c(),yc())}}function Bt(s,a){var c=s.stateNode;if(c===null)return null;var p=Of(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var al=!1;if(u)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){al=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{al=!1}function Qo(s,a,c,p,y,w,P,U,$){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(c,Z)}catch(ce){this.onError(ce)}}var Yo=!1,ll=null,Wr=!1,wc=null,Yg={onError:function(s){Yo=!0,ll=s}};function ul(s,a,c,p,y,w,P,U,$){Yo=!1,ll=null,Qo.apply(Yg,arguments)}function nf(s,a,c,p,y,w,P,U,$){if(ul.apply(this,arguments),Yo){if(Yo){var Z=ll;Yo=!1,ll=null}else throw Error(t(198));Wr||(Wr=!0,wc=Z)}}function Hr(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Jo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Kr(s){if(Hr(s)!==s)throw Error(t(188))}function rf(s){var a=s.alternate;if(!a){if(a=Hr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,p=a;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return Kr(y),s;if(w===p)return Kr(y),a;w=w.sibling}throw Error(t(188))}if(c.return!==p.return)c=y,p=w;else{for(var P=!1,U=y.child;U;){if(U===c){P=!0,c=y,p=w;break}if(U===p){P=!0,p=y,c=w;break}U=U.sibling}if(!P){for(U=w.child;U;){if(U===c){P=!0,c=w,p=y;break}if(U===p){P=!0,p=w,c=y;break}U=U.sibling}if(!P)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function Ec(s){return s=rf(s),s!==null?cl(s):null}function cl(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=cl(s);if(a!==null)return a;s=s.sibling}return null}var dl=e.unstable_scheduleCallback,Ic=e.unstable_cancelCallback,sf=e.unstable_shouldYield,Jg=e.unstable_requestPaint,ht=e.unstable_now,of=e.unstable_getCurrentPriorityLevel,Xo=e.unstable_ImmediatePriority,Ds=e.unstable_UserBlockingPriority,br=e.unstable_NormalPriority,Tc=e.unstable_LowPriority,af=e.unstable_IdlePriority,Zo=null,sr=null;function lf(s){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(Zo,s,void 0,(s.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:cf,Sc=Math.log,uf=Math.LN2;function cf(s){return s>>>=0,s===0?32:31-(Sc(s)/uf|0)|0}var hl=64,fl=4194304;function Vs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ea(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,y=s.suspendedLanes,w=s.pingedLanes,P=c&268435455;if(P!==0){var U=P&~y;U!==0?p=Vs(U):(w&=P,w!==0&&(p=Vs(w)))}else P=c&~y,P!==0?p=Vs(P):w!==0&&(p=Vs(w));if(p===0)return 0;if(a!==0&&a!==p&&(a&y)===0&&(y=p&-p,w=a&-a,y>=w||y===16&&(w&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-Ln(a),y=1<<c,p|=s[c],a&=~y;return p}function Xg(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qi(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,w=s.pendingLanes;0<w;){var P=31-Ln(w),U=1<<P,$=y[P];$===-1?((U&c)===0||(U&p)!==0)&&(y[P]=Xg(U,a)):$<=a&&(s.expiredLanes|=U),w&=~U}}function or(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ta(){var s=hl;return hl<<=1,(hl&4194240)===0&&(hl=64),s}function Ls(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Ms(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Ln(a),s[a]=c}function lt(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var y=31-Ln(c),w=1<<y;a[y]=0,p[y]=-1,s[y]=-1,c&=~w}}function Fs(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-Ln(c),y=1<<p;y&a|s[p]&a&&(s[p]|=a),c&=~y}}var We=0;function Us(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var df,pl,hf,ff,pf,Rc=!1,hi=[],_n=null,Gr=null,Qr=null,js=new Map,Pr=new Map,fi=[],Zg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mf(s,a){switch(s){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":js.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(a.pointerId)}}function Wn(s,a,c,p,y,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},a!==null&&(a=jc(a),a!==null&&pl(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function ey(s,a,c,p,y){switch(a){case"focusin":return _n=Wn(_n,s,a,c,p,y),!0;case"dragenter":return Gr=Wn(Gr,s,a,c,p,y),!0;case"mouseover":return Qr=Wn(Qr,s,a,c,p,y),!0;case"pointerover":var w=y.pointerId;return js.set(w,Wn(js.get(w)||null,s,a,c,p,y)),!0;case"gotpointercapture":return w=y.pointerId,Pr.set(w,Wn(Pr.get(w)||null,s,a,c,p,y)),!0}return!1}function gf(s){var a=oa(s.target);if(a!==null){var c=Hr(a);if(c!==null){if(a=c.tag,a===13){if(a=Jo(c),a!==null){s.blockedOn=a,pf(s.priority,function(){hf(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=ml(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);Ko=p,c.target.dispatchEvent(p),Ko=null}else return a=jc(c),a!==null&&pl(a),s.blockedOn=c,!1;a.shift()}return!0}function na(s,a,c){Yi(s)&&c.delete(a)}function yf(){Rc=!1,_n!==null&&Yi(_n)&&(_n=null),Gr!==null&&Yi(Gr)&&(Gr=null),Qr!==null&&Yi(Qr)&&(Qr=null),js.forEach(na),Pr.forEach(na)}function Yr(s,a){s.blockedOn===a&&(s.blockedOn=null,Rc||(Rc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yf)))}function Jr(s){function a(y){return Yr(y,s)}if(0<hi.length){Yr(hi[0],s);for(var c=1;c<hi.length;c++){var p=hi[c];p.blockedOn===s&&(p.blockedOn=null)}}for(_n!==null&&Yr(_n,s),Gr!==null&&Yr(Gr,s),Qr!==null&&Yr(Qr,s),js.forEach(a),Pr.forEach(a),c=0;c<fi.length;c++)p=fi[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<fi.length&&(c=fi[0],c.blockedOn===null);)gf(c),c.blockedOn===null&&fi.shift()}var Ji=z.ReactCurrentBatchConfig,Bs=!0;function vt(s,a,c,p){var y=We,w=Ji.transition;Ji.transition=null;try{We=1,Ac(s,a,c,p)}finally{We=y,Ji.transition=w}}function ty(s,a,c,p){var y=We,w=Ji.transition;Ji.transition=null;try{We=4,Ac(s,a,c,p)}finally{We=y,Ji.transition=w}}function Ac(s,a,c,p){if(Bs){var y=ml(s,a,c,p);if(y===null)hy(s,a,p,ra,c),mf(s,p);else if(ey(y,s,a,c,p))p.stopPropagation();else if(mf(s,p),a&4&&-1<Zg.indexOf(s)){for(;y!==null;){var w=jc(y);if(w!==null&&df(w),w=ml(s,a,c,p),w===null&&hy(s,a,p,ra,c),w===y)break;y=w}y!==null&&p.stopPropagation()}else hy(s,a,p,null,c)}}var ra=null;function ml(s,a,c,p){if(ra=null,s=il(p),s=oa(s),s!==null)if(a=Hr(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Jo(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ra=s,null}function bc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(of()){case Xo:return 1;case Ds:return 4;case br:case Tc:return 16;case af:return 536870912;default:return 16}default:return 16}}var ar=null,gl=null,Hn=null;function Pc(){if(Hn)return Hn;var s,a=gl,c=a.length,p,y="value"in ar?ar.value:ar.textContent,w=y.length;for(s=0;s<c&&a[s]===y[s];s++);var P=c-s;for(p=1;p<=P&&a[c-p]===y[w-p];p++);return Hn=y.slice(s,1<p?1-p:void 0)}function yl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function pi(){return!0}function Cc(){return!1}function vn(s){function a(c,p,y,w,P){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var U in s)s.hasOwnProperty(U)&&(c=s[U],this[U]=c?c(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?pi:Cc,this.isPropagationStopped=Cc,this}return me(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),a}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=vn(Xr),mi=me({},Xr,{view:0,detail:0}),ny=vn(mi),vl,Xi,zs,ia=me({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==zs&&(zs&&s.type==="mousemove"?(vl=s.screenX-zs.screenX,Xi=s.screenY-zs.screenY):Xi=vl=0,zs=s),vl)},movementY:function(s){return"movementY"in s?s.movementY:Xi}}),wl=vn(ia),kc=me({},ia,{dataTransfer:0}),_f=vn(kc),El=me({},mi,{relatedTarget:0}),Il=vn(El),vf=me({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zi=vn(vf),wf=me({},Xr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ef=vn(wf),If=me({},Xr,{data:0}),xc=vn(If),Tl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sf(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Tf[s])?!!a[s]:!1}function gi(){return Sf}var f=me({},mi,{key:function(s){if(s.key){var a=Tl[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=yl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Mn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gi,charCode:function(s){return s.type==="keypress"?yl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?yl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=vn(f),R=me({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=vn(R),Q=me({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gi}),ne=vn(Q),ye=me({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),nt=vn(ye),nn=me({},ia,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=vn(nn),ln=[9,13,27,32],Gt=u&&"CompositionEvent"in window,Cr=null;u&&"documentMode"in document&&(Cr=document.documentMode);var lr=u&&"TextEvent"in window&&!Cr,sa=u&&(!Gt||Cr&&8<Cr&&11>=Cr),Sl=" ",IE=!1;function TE(s,a){switch(s){case"keyup":return ln.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SE(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Rl=!1;function wO(s,a){switch(s){case"compositionend":return SE(a);case"keypress":return a.which!==32?null:(IE=!0,Sl);case"textInput":return s=a.data,s===Sl&&IE?null:s;default:return null}}function EO(s,a){if(Rl)return s==="compositionend"||!Gt&&TE(s,a)?(s=Pc(),Hn=gl=ar=null,Rl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return sa&&a.locale!=="ko"?null:a.data;default:return null}}var IO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RE(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!IO[s.type]:a==="textarea"}function AE(s,a,c,p){di(p),a=Cf(a,"onChange"),0<a.length&&(c=new _l("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var Oc=null,Nc=null;function TO(s){qE(s,0)}function Rf(s){var a=kl(s);if(Tr(a))return s}function SO(s,a){if(s==="change")return a}var bE=!1;if(u){var ry;if(u){var iy="oninput"in document;if(!iy){var PE=document.createElement("div");PE.setAttribute("oninput","return;"),iy=typeof PE.oninput=="function"}ry=iy}else ry=!1;bE=ry&&(!document.documentMode||9<document.documentMode)}function CE(){Oc&&(Oc.detachEvent("onpropertychange",kE),Nc=Oc=null)}function kE(s){if(s.propertyName==="value"&&Rf(Nc)){var a=[];AE(a,Nc,s,il(s)),vc(TO,a)}}function RO(s,a,c){s==="focusin"?(CE(),Oc=a,Nc=c,Oc.attachEvent("onpropertychange",kE)):s==="focusout"&&CE()}function AO(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Rf(Nc)}function bO(s,a){if(s==="click")return Rf(a)}function PO(s,a){if(s==="input"||s==="change")return Rf(a)}function CO(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Zr=typeof Object.is=="function"?Object.is:CO;function Dc(s,a){if(Zr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!d.call(a,y)||!Zr(s[y],a[y]))return!1}return!0}function xE(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function OE(s,a){var c=xE(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=xE(c)}}function NE(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?NE(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function DE(){for(var s=window,a=gn();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=gn(s.document)}return a}function sy(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function kO(s){var a=DE(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&NE(c.ownerDocument.documentElement,c)){if(p!==null&&sy(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var y=c.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!s.extend&&w>p&&(y=p,p=w,w=y),y=OE(c,w);var P=OE(c,p);y&&P&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==P.node||s.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),s.removeAllRanges(),w>p?(s.addRange(a),s.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var xO=u&&"documentMode"in document&&11>=document.documentMode,Al=null,oy=null,Vc=null,ay=!1;function VE(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ay||Al==null||Al!==gn(p)||(p=Al,"selectionStart"in p&&sy(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Vc&&Dc(Vc,p)||(Vc=p,p=Cf(oy,"onSelect"),0<p.length&&(a=new _l("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=Al)))}function Af(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var bl={animationend:Af("Animation","AnimationEnd"),animationiteration:Af("Animation","AnimationIteration"),animationstart:Af("Animation","AnimationStart"),transitionend:Af("Transition","TransitionEnd")},ly={},LE={};u&&(LE=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function bf(s){if(ly[s])return ly[s];if(!bl[s])return s;var a=bl[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in LE)return ly[s]=a[c];return s}var ME=bf("animationend"),FE=bf("animationiteration"),UE=bf("animationstart"),jE=bf("transitionend"),BE=new Map,zE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $s(s,a){BE.set(s,a),o(a,[s])}for(var uy=0;uy<zE.length;uy++){var cy=zE[uy],OO=cy.toLowerCase(),NO=cy[0].toUpperCase()+cy.slice(1);$s(OO,"on"+NO)}$s(ME,"onAnimationEnd"),$s(FE,"onAnimationIteration"),$s(UE,"onAnimationStart"),$s("dblclick","onDoubleClick"),$s("focusin","onFocus"),$s("focusout","onBlur"),$s(jE,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lc));function $E(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,nf(p,a,void 0,s),s.currentTarget=null}function qE(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],y=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var P=p.length-1;0<=P;P--){var U=p[P],$=U.instance,Z=U.currentTarget;if(U=U.listener,$!==w&&y.isPropagationStopped())break e;$E(y,U,Z),w=$}else for(P=0;P<p.length;P++){if(U=p[P],$=U.instance,Z=U.currentTarget,U=U.listener,$!==w&&y.isPropagationStopped())break e;$E(y,U,Z),w=$}}}if(Wr)throw s=wc,Wr=!1,wc=null,s}function mt(s,a){var c=a[_y];c===void 0&&(c=a[_y]=new Set);var p=s+"__bubble";c.has(p)||(WE(a,s,2,!1),c.add(p))}function dy(s,a,c){var p=0;a&&(p|=4),WE(c,s,p,a)}var Pf="_reactListening"+Math.random().toString(36).slice(2);function Mc(s){if(!s[Pf]){s[Pf]=!0,r.forEach(function(c){c!=="selectionchange"&&(DO.has(c)||dy(c,!1,s),dy(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Pf]||(a[Pf]=!0,dy("selectionchange",!1,a))}}function WE(s,a,c,p){switch(bc(a)){case 1:var y=vt;break;case 4:y=ty;break;default:y=Ac}c=y.bind(null,a,c,s),y=void 0,!al||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(a,c,{capture:!0,passive:y}):s.addEventListener(a,c,!0):y!==void 0?s.addEventListener(a,c,{passive:y}):s.addEventListener(a,c,!1)}function hy(s,a,c,p,y){var w=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var U=p.stateNode.containerInfo;if(U===y||U.nodeType===8&&U.parentNode===y)break;if(P===4)for(P=p.return;P!==null;){var $=P.tag;if(($===3||$===4)&&($=P.stateNode.containerInfo,$===y||$.nodeType===8&&$.parentNode===y))return;P=P.return}for(;U!==null;){if(P=oa(U),P===null)return;if($=P.tag,$===5||$===6){p=w=P;continue e}U=U.parentNode}}p=p.return}vc(function(){var Z=w,ce=il(c),he=[];e:{var le=BE.get(s);if(le!==void 0){var we=_l,Se=s;switch(s){case"keypress":if(yl(c)===0)break e;case"keydown":case"keyup":we=v;break;case"focusin":Se="focus",we=Il;break;case"focusout":Se="blur",we=Il;break;case"beforeblur":case"afterblur":we=Il;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=_f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=ne;break;case ME:case FE:case UE:we=Zi;break;case jE:we=nt;break;case"scroll":we=ny;break;case"wheel":we=Ge;break;case"copy":case"cut":case"paste":we=Ef;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=N}var Ae=(a&4)!==0,zt=!Ae&&s==="scroll",Y=Ae?le!==null?le+"Capture":null:le;Ae=[];for(var H=Z,J;H!==null;){J=H;var ge=J.stateNode;if(J.tag===5&&ge!==null&&(J=ge,Y!==null&&(ge=Bt(H,Y),ge!=null&&Ae.push(Fc(H,ge,J)))),zt)break;H=H.return}0<Ae.length&&(le=new we(le,Se,null,c,ce),he.push({event:le,listeners:Ae}))}}if((a&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",we=s==="mouseout"||s==="pointerout",le&&c!==Ko&&(Se=c.relatedTarget||c.fromElement)&&(oa(Se)||Se[es]))break e;if((we||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,we?(Se=c.relatedTarget||c.toElement,we=Z,Se=Se?oa(Se):null,Se!==null&&(zt=Hr(Se),Se!==zt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(we=null,Se=Z),we!==Se)){if(Ae=wl,ge="onMouseLeave",Y="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Ae=N,ge="onPointerLeave",Y="onPointerEnter",H="pointer"),zt=we==null?le:kl(we),J=Se==null?le:kl(Se),le=new Ae(ge,H+"leave",we,c,ce),le.target=zt,le.relatedTarget=J,ge=null,oa(ce)===Z&&(Ae=new Ae(Y,H+"enter",Se,c,ce),Ae.target=J,Ae.relatedTarget=zt,ge=Ae),zt=ge,we&&Se)t:{for(Ae=we,Y=Se,H=0,J=Ae;J;J=Pl(J))H++;for(J=0,ge=Y;ge;ge=Pl(ge))J++;for(;0<H-J;)Ae=Pl(Ae),H--;for(;0<J-H;)Y=Pl(Y),J--;for(;H--;){if(Ae===Y||Y!==null&&Ae===Y.alternate)break t;Ae=Pl(Ae),Y=Pl(Y)}Ae=null}else Ae=null;we!==null&&HE(he,le,we,Ae,!1),Se!==null&&zt!==null&&HE(he,zt,Se,Ae,!0)}}e:{if(le=Z?kl(Z):window,we=le.nodeName&&le.nodeName.toLowerCase(),we==="select"||we==="input"&&le.type==="file")var be=SO;else if(RE(le))if(bE)be=PO;else{be=AO;var xe=RO}else(we=le.nodeName)&&we.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(be=bO);if(be&&(be=be(s,Z))){AE(he,be,c,ce);break e}xe&&xe(s,le,Z),s==="focusout"&&(xe=le._wrapperState)&&xe.controlled&&le.type==="number"&&Os(le,"number",le.value)}switch(xe=Z?kl(Z):window,s){case"focusin":(RE(xe)||xe.contentEditable==="true")&&(Al=xe,oy=Z,Vc=null);break;case"focusout":Vc=oy=Al=null;break;case"mousedown":ay=!0;break;case"contextmenu":case"mouseup":case"dragend":ay=!1,VE(he,c,ce);break;case"selectionchange":if(xO)break;case"keydown":case"keyup":VE(he,c,ce)}var Oe;if(Gt)e:{switch(s){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Rl?TE(s,c)&&(Ne="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ne="onCompositionStart");Ne&&(sa&&c.locale!=="ko"&&(Rl||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Rl&&(Oe=Pc()):(ar=ce,gl="value"in ar?ar.value:ar.textContent,Rl=!0)),xe=Cf(Z,Ne),0<xe.length&&(Ne=new xc(Ne,s,null,c,ce),he.push({event:Ne,listeners:xe}),Oe?Ne.data=Oe:(Oe=SE(c),Oe!==null&&(Ne.data=Oe)))),(Oe=lr?wO(s,c):EO(s,c))&&(Z=Cf(Z,"onBeforeInput"),0<Z.length&&(ce=new xc("onBeforeInput","beforeinput",null,c,ce),he.push({event:ce,listeners:Z}),ce.data=Oe))}qE(he,a)})}function Fc(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Cf(s,a){for(var c=a+"Capture",p=[];s!==null;){var y=s,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=Bt(s,c),w!=null&&p.unshift(Fc(s,w,y)),w=Bt(s,a),w!=null&&p.push(Fc(s,w,y))),s=s.return}return p}function Pl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function HE(s,a,c,p,y){for(var w=a._reactName,P=[];c!==null&&c!==p;){var U=c,$=U.alternate,Z=U.stateNode;if($!==null&&$===p)break;U.tag===5&&Z!==null&&(U=Z,y?($=Bt(c,w),$!=null&&P.unshift(Fc(c,$,U))):y||($=Bt(c,w),$!=null&&P.push(Fc(c,$,U)))),c=c.return}P.length!==0&&s.push({event:a,listeners:P})}var VO=/\r\n?/g,LO=/\u0000|\uFFFD/g;function KE(s){return(typeof s=="string"?s:""+s).replace(VO,`
`).replace(LO,"")}function kf(s,a,c){if(a=KE(a),KE(s)!==a&&c)throw Error(t(425))}function xf(){}var fy=null,py=null;function my(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var gy=typeof setTimeout=="function"?setTimeout:void 0,MO=typeof clearTimeout=="function"?clearTimeout:void 0,GE=typeof Promise=="function"?Promise:void 0,FO=typeof queueMicrotask=="function"?queueMicrotask:typeof GE<"u"?function(s){return GE.resolve(null).then(s).catch(UO)}:gy;function UO(s){setTimeout(function(){throw s})}function yy(s,a){var c=a,p=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){s.removeChild(y),Jr(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);Jr(a)}function qs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function QE(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Cl=Math.random().toString(36).slice(2),yi="__reactFiber$"+Cl,Uc="__reactProps$"+Cl,es="__reactContainer$"+Cl,_y="__reactEvents$"+Cl,jO="__reactListeners$"+Cl,BO="__reactHandles$"+Cl;function oa(s){var a=s[yi];if(a)return a;for(var c=s.parentNode;c;){if(a=c[es]||c[yi]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=QE(s);s!==null;){if(c=s[yi])return c;s=QE(s)}return a}s=c,c=s.parentNode}return null}function jc(s){return s=s[yi]||s[es],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function kl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Of(s){return s[Uc]||null}var vy=[],xl=-1;function Ws(s){return{current:s}}function gt(s){0>xl||(s.current=vy[xl],vy[xl]=null,xl--)}function ft(s,a){xl++,vy[xl]=s.current,s.current=a}var Hs={},An=Ws(Hs),Kn=Ws(!1),aa=Hs;function Ol(s,a){var c=s.type.contextTypes;if(!c)return Hs;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=a[w];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=y),y}function Gn(s){return s=s.childContextTypes,s!=null}function Nf(){gt(Kn),gt(An)}function YE(s,a,c){if(An.current!==Hs)throw Error(t(168));ft(An,a),ft(Kn,c)}function JE(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(t(108,Ke(s)||"Unknown",y));return me({},c,p)}function Df(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Hs,aa=An.current,ft(An,s),ft(Kn,Kn.current),!0}function XE(s,a,c){var p=s.stateNode;if(!p)throw Error(t(169));c?(s=JE(s,a,aa),p.__reactInternalMemoizedMergedChildContext=s,gt(Kn),gt(An),ft(An,s)):gt(Kn),ft(Kn,c)}var ts=null,Vf=!1,wy=!1;function ZE(s){ts===null?ts=[s]:ts.push(s)}function zO(s){Vf=!0,ZE(s)}function Ks(){if(!wy&&ts!==null){wy=!0;var s=0,a=We;try{var c=ts;for(We=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}ts=null,Vf=!1}catch(y){throw ts!==null&&(ts=ts.slice(s+1)),dl(Xo,Ks),y}finally{We=a,wy=!1}}return null}var Nl=[],Dl=0,Lf=null,Mf=0,kr=[],xr=0,la=null,ns=1,rs="";function ua(s,a){Nl[Dl++]=Mf,Nl[Dl++]=Lf,Lf=s,Mf=a}function eI(s,a,c){kr[xr++]=ns,kr[xr++]=rs,kr[xr++]=la,la=s;var p=ns;s=rs;var y=32-Ln(p)-1;p&=~(1<<y),c+=1;var w=32-Ln(a)+y;if(30<w){var P=y-y%5;w=(p&(1<<P)-1).toString(32),p>>=P,y-=P,ns=1<<32-Ln(a)+y|c<<y|p,rs=w+s}else ns=1<<w|c<<y|p,rs=s}function Ey(s){s.return!==null&&(ua(s,1),eI(s,1,0))}function Iy(s){for(;s===Lf;)Lf=Nl[--Dl],Nl[Dl]=null,Mf=Nl[--Dl],Nl[Dl]=null;for(;s===la;)la=kr[--xr],kr[xr]=null,rs=kr[--xr],kr[xr]=null,ns=kr[--xr],kr[xr]=null}var ur=null,cr=null,wt=!1,ei=null;function tI(s,a){var c=Vr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function nI(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,ur=s,cr=qs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,ur=s,cr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=la!==null?{id:ns,overflow:rs}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Vr(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,ur=s,cr=null,!0):!1;default:return!1}}function Ty(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Sy(s){if(wt){var a=cr;if(a){var c=a;if(!nI(s,a)){if(Ty(s))throw Error(t(418));a=qs(c.nextSibling);var p=ur;a&&nI(s,a)?tI(p,c):(s.flags=s.flags&-4097|2,wt=!1,ur=s)}}else{if(Ty(s))throw Error(t(418));s.flags=s.flags&-4097|2,wt=!1,ur=s}}}function rI(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;ur=s}function Ff(s){if(s!==ur)return!1;if(!wt)return rI(s),wt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!my(s.type,s.memoizedProps)),a&&(a=cr)){if(Ty(s))throw iI(),Error(t(418));for(;a;)tI(s,a),a=qs(a.nextSibling)}if(rI(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){cr=qs(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}cr=null}}else cr=ur?qs(s.stateNode.nextSibling):null;return!0}function iI(){for(var s=cr;s;)s=qs(s.nextSibling)}function Vl(){cr=ur=null,wt=!1}function Ry(s){ei===null?ei=[s]:ei.push(s)}var $O=z.ReactCurrentBatchConfig;function Bc(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,s));var y=p,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(P){var U=y.refs;P===null?delete U[w]:U[w]=P},a._stringRef=w,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Uf(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function sI(s){var a=s._init;return a(s._payload)}function oI(s){function a(Y,H){if(s){var J=Y.deletions;J===null?(Y.deletions=[H],Y.flags|=16):J.push(H)}}function c(Y,H){if(!s)return null;for(;H!==null;)a(Y,H),H=H.sibling;return null}function p(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function y(Y,H){return Y=to(Y,H),Y.index=0,Y.sibling=null,Y}function w(Y,H,J){return Y.index=J,s?(J=Y.alternate,J!==null?(J=J.index,J<H?(Y.flags|=2,H):J):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function P(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,H,J,ge){return H===null||H.tag!==6?(H=g_(J,Y.mode,ge),H.return=Y,H):(H=y(H,J),H.return=Y,H)}function $(Y,H,J,ge){var be=J.type;return be===D?ce(Y,H,J.props.children,ge,J.key):H!==null&&(H.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===fe&&sI(be)===H.type)?(ge=y(H,J.props),ge.ref=Bc(Y,H,J),ge.return=Y,ge):(ge=up(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=Bc(Y,H,J),ge.return=Y,ge)}function Z(Y,H,J,ge){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=y_(J,Y.mode,ge),H.return=Y,H):(H=y(H,J.children||[]),H.return=Y,H)}function ce(Y,H,J,ge,be){return H===null||H.tag!==7?(H=ya(J,Y.mode,ge,be),H.return=Y,H):(H=y(H,J),H.return=Y,H)}function he(Y,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=g_(""+H,Y.mode,J),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return J=up(H.type,H.key,H.props,null,Y.mode,J),J.ref=Bc(Y,null,H),J.return=Y,J;case W:return H=y_(H,Y.mode,J),H.return=Y,H;case fe:var ge=H._init;return he(Y,ge(H._payload),J)}if(Sr(H)||pe(H))return H=ya(H,Y.mode,J,null),H.return=Y,H;Uf(Y,H)}return null}function le(Y,H,J,ge){var be=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return be!==null?null:U(Y,H,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return J.key===be?$(Y,H,J,ge):null;case W:return J.key===be?Z(Y,H,J,ge):null;case fe:return be=J._init,le(Y,H,be(J._payload),ge)}if(Sr(J)||pe(J))return be!==null?null:ce(Y,H,J,ge,null);Uf(Y,J)}return null}function we(Y,H,J,ge,be){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Y=Y.get(J)||null,U(H,Y,""+ge,be);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case j:return Y=Y.get(ge.key===null?J:ge.key)||null,$(H,Y,ge,be);case W:return Y=Y.get(ge.key===null?J:ge.key)||null,Z(H,Y,ge,be);case fe:var xe=ge._init;return we(Y,H,J,xe(ge._payload),be)}if(Sr(ge)||pe(ge))return Y=Y.get(J)||null,ce(H,Y,ge,be,null);Uf(H,ge)}return null}function Se(Y,H,J,ge){for(var be=null,xe=null,Oe=H,Ne=H=0,dn=null;Oe!==null&&Ne<J.length;Ne++){Oe.index>Ne?(dn=Oe,Oe=null):dn=Oe.sibling;var Je=le(Y,Oe,J[Ne],ge);if(Je===null){Oe===null&&(Oe=dn);break}s&&Oe&&Je.alternate===null&&a(Y,Oe),H=w(Je,H,Ne),xe===null?be=Je:xe.sibling=Je,xe=Je,Oe=dn}if(Ne===J.length)return c(Y,Oe),wt&&ua(Y,Ne),be;if(Oe===null){for(;Ne<J.length;Ne++)Oe=he(Y,J[Ne],ge),Oe!==null&&(H=w(Oe,H,Ne),xe===null?be=Oe:xe.sibling=Oe,xe=Oe);return wt&&ua(Y,Ne),be}for(Oe=p(Y,Oe);Ne<J.length;Ne++)dn=we(Oe,Y,Ne,J[Ne],ge),dn!==null&&(s&&dn.alternate!==null&&Oe.delete(dn.key===null?Ne:dn.key),H=w(dn,H,Ne),xe===null?be=dn:xe.sibling=dn,xe=dn);return s&&Oe.forEach(function(no){return a(Y,no)}),wt&&ua(Y,Ne),be}function Ae(Y,H,J,ge){var be=pe(J);if(typeof be!="function")throw Error(t(150));if(J=be.call(J),J==null)throw Error(t(151));for(var xe=be=null,Oe=H,Ne=H=0,dn=null,Je=J.next();Oe!==null&&!Je.done;Ne++,Je=J.next()){Oe.index>Ne?(dn=Oe,Oe=null):dn=Oe.sibling;var no=le(Y,Oe,Je.value,ge);if(no===null){Oe===null&&(Oe=dn);break}s&&Oe&&no.alternate===null&&a(Y,Oe),H=w(no,H,Ne),xe===null?be=no:xe.sibling=no,xe=no,Oe=dn}if(Je.done)return c(Y,Oe),wt&&ua(Y,Ne),be;if(Oe===null){for(;!Je.done;Ne++,Je=J.next())Je=he(Y,Je.value,ge),Je!==null&&(H=w(Je,H,Ne),xe===null?be=Je:xe.sibling=Je,xe=Je);return wt&&ua(Y,Ne),be}for(Oe=p(Y,Oe);!Je.done;Ne++,Je=J.next())Je=we(Oe,Y,Ne,Je.value,ge),Je!==null&&(s&&Je.alternate!==null&&Oe.delete(Je.key===null?Ne:Je.key),H=w(Je,H,Ne),xe===null?be=Je:xe.sibling=Je,xe=Je);return s&&Oe.forEach(function(IN){return a(Y,IN)}),wt&&ua(Y,Ne),be}function zt(Y,H,J,ge){if(typeof J=="object"&&J!==null&&J.type===D&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case j:e:{for(var be=J.key,xe=H;xe!==null;){if(xe.key===be){if(be=J.type,be===D){if(xe.tag===7){c(Y,xe.sibling),H=y(xe,J.props.children),H.return=Y,Y=H;break e}}else if(xe.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===fe&&sI(be)===xe.type){c(Y,xe.sibling),H=y(xe,J.props),H.ref=Bc(Y,xe,J),H.return=Y,Y=H;break e}c(Y,xe);break}else a(Y,xe);xe=xe.sibling}J.type===D?(H=ya(J.props.children,Y.mode,ge,J.key),H.return=Y,Y=H):(ge=up(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=Bc(Y,H,J),ge.return=Y,Y=ge)}return P(Y);case W:e:{for(xe=J.key;H!==null;){if(H.key===xe)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){c(Y,H.sibling),H=y(H,J.children||[]),H.return=Y,Y=H;break e}else{c(Y,H);break}else a(Y,H);H=H.sibling}H=y_(J,Y.mode,ge),H.return=Y,Y=H}return P(Y);case fe:return xe=J._init,zt(Y,H,xe(J._payload),ge)}if(Sr(J))return Se(Y,H,J,ge);if(pe(J))return Ae(Y,H,J,ge);Uf(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(c(Y,H.sibling),H=y(H,J),H.return=Y,Y=H):(c(Y,H),H=g_(J,Y.mode,ge),H.return=Y,Y=H),P(Y)):c(Y,H)}return zt}var Ll=oI(!0),aI=oI(!1),jf=Ws(null),Bf=null,Ml=null,Ay=null;function by(){Ay=Ml=Bf=null}function Py(s){var a=jf.current;gt(jf),s._currentValue=a}function Cy(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function Fl(s,a){Bf=s,Ay=Ml=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Qn=!0),s.firstContext=null)}function Or(s){var a=s._currentValue;if(Ay!==s)if(s={context:s,memoizedValue:a,next:null},Ml===null){if(Bf===null)throw Error(t(308));Ml=s,Bf.dependencies={lanes:0,firstContext:s}}else Ml=Ml.next=s;return a}var ca=null;function ky(s){ca===null?ca=[s]:ca.push(s)}function lI(s,a,c,p){var y=a.interleaved;return y===null?(c.next=c,ky(a)):(c.next=y.next,y.next=c),a.interleaved=c,is(s,p)}function is(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Gs=!1;function xy(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uI(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ss(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Qs(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Ye&2)!==0){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,is(s,c)}return y=p.interleaved,y===null?(a.next=a,ky(p)):(a.next=y.next,y.next=a),p.interleaved=a,is(s,c)}function zf(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,Fs(s,c)}}function cI(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=P:w=w.next=P,c=c.next}while(c!==null);w===null?y=w=a:w=w.next=a}else y=w=a;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function $f(s,a,c,p){var y=s.updateQueue;Gs=!1;var w=y.firstBaseUpdate,P=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var $=U,Z=$.next;$.next=null,P===null?w=Z:P.next=Z,P=$;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,U=ce.lastBaseUpdate,U!==P&&(U===null?ce.firstBaseUpdate=Z:U.next=Z,ce.lastBaseUpdate=$))}if(w!==null){var he=y.baseState;P=0,ce=Z=$=null,U=w;do{var le=U.lane,we=U.eventTime;if((p&le)===le){ce!==null&&(ce=ce.next={eventTime:we,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Se=s,Ae=U;switch(le=a,we=c,Ae.tag){case 1:if(Se=Ae.payload,typeof Se=="function"){he=Se.call(we,he,le);break e}he=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ae.payload,le=typeof Se=="function"?Se.call(we,he,le):Se,le==null)break e;he=me({},he,le);break e;case 2:Gs=!0}}U.callback!==null&&U.lane!==0&&(s.flags|=64,le=y.effects,le===null?y.effects=[U]:le.push(U))}else we={eventTime:we,lane:le,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ce===null?(Z=ce=we,$=he):ce=ce.next=we,P|=le;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;le=U,U=le.next,le.next=null,y.lastBaseUpdate=le,y.shared.pending=null}}while(!0);if(ce===null&&($=he),y.baseState=$,y.firstBaseUpdate=Z,y.lastBaseUpdate=ce,a=y.shared.interleaved,a!==null){y=a;do P|=y.lane,y=y.next;while(y!==a)}else w===null&&(y.shared.lanes=0);fa|=P,s.lanes=P,s.memoizedState=he}}function dI(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var zc={},_i=Ws(zc),$c=Ws(zc),qc=Ws(zc);function da(s){if(s===zc)throw Error(t(174));return s}function Oy(s,a){switch(ft(qc,a),ft($c,s),ft(_i,zc),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:tt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=tt(a,s)}gt(_i),ft(_i,a)}function Ul(){gt(_i),gt($c),gt(qc)}function hI(s){da(qc.current);var a=da(_i.current),c=tt(a,s.type);a!==c&&(ft($c,s),ft(_i,c))}function Ny(s){$c.current===s&&(gt(_i),gt($c))}var Pt=Ws(0);function qf(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Dy=[];function Vy(){for(var s=0;s<Dy.length;s++)Dy[s]._workInProgressVersionPrimary=null;Dy.length=0}var Wf=z.ReactCurrentDispatcher,Ly=z.ReactCurrentBatchConfig,ha=0,Ct=null,rn=null,un=null,Hf=!1,Wc=!1,Hc=0,qO=0;function bn(){throw Error(t(321))}function My(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Zr(s[c],a[c]))return!1;return!0}function Fy(s,a,c,p,y,w){if(ha=w,Ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Wf.current=s===null||s.memoizedState===null?GO:QO,s=c(p,y),Wc){w=0;do{if(Wc=!1,Hc=0,25<=w)throw Error(t(301));w+=1,un=rn=null,a.updateQueue=null,Wf.current=YO,s=c(p,y)}while(Wc)}if(Wf.current=Qf,a=rn!==null&&rn.next!==null,ha=0,un=rn=Ct=null,Hf=!1,a)throw Error(t(300));return s}function Uy(){var s=Hc!==0;return Hc=0,s}function vi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Ct.memoizedState=un=s:un=un.next=s,un}function Nr(){if(rn===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=rn.next;var a=un===null?Ct.memoizedState:un.next;if(a!==null)un=a,rn=s;else{if(s===null)throw Error(t(310));rn=s,s={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},un===null?Ct.memoizedState=un=s:un=un.next=s}return un}function Kc(s,a){return typeof a=="function"?a(s):a}function jy(s){var a=Nr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=rn,y=p.baseQueue,w=c.pending;if(w!==null){if(y!==null){var P=y.next;y.next=w.next,w.next=P}p.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,p=p.baseState;var U=P=null,$=null,Z=w;do{var ce=Z.lane;if((ha&ce)===ce)$!==null&&($=$.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),p=Z.hasEagerState?Z.eagerState:s(p,Z.action);else{var he={lane:ce,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};$===null?(U=$=he,P=p):$=$.next=he,Ct.lanes|=ce,fa|=ce}Z=Z.next}while(Z!==null&&Z!==w);$===null?P=p:$.next=U,Zr(p,a.memoizedState)||(Qn=!0),a.memoizedState=p,a.baseState=P,a.baseQueue=$,c.lastRenderedState=p}if(s=c.interleaved,s!==null){y=s;do w=y.lane,Ct.lanes|=w,fa|=w,y=y.next;while(y!==s)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function By(s){var a=Nr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=c.dispatch,y=c.pending,w=a.memoizedState;if(y!==null){c.pending=null;var P=y=y.next;do w=s(w,P.action),P=P.next;while(P!==y);Zr(w,a.memoizedState)||(Qn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,p]}function fI(){}function pI(s,a){var c=Ct,p=Nr(),y=a(),w=!Zr(p.memoizedState,y);if(w&&(p.memoizedState=y,Qn=!0),p=p.queue,zy(yI.bind(null,c,p,s),[s]),p.getSnapshot!==a||w||un!==null&&un.memoizedState.tag&1){if(c.flags|=2048,Gc(9,gI.bind(null,c,p,y,a),void 0,null),cn===null)throw Error(t(349));(ha&30)!==0||mI(c,a,y)}return y}function mI(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Ct.updateQueue,a===null?(a={lastEffect:null,stores:null},Ct.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function gI(s,a,c,p){a.value=c,a.getSnapshot=p,_I(a)&&vI(s)}function yI(s,a,c){return c(function(){_I(a)&&vI(s)})}function _I(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Zr(s,c)}catch{return!0}}function vI(s){var a=is(s,1);a!==null&&ii(a,s,1,-1)}function wI(s){var a=vi();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:s},a.queue=s,s=s.dispatch=KO.bind(null,Ct,s),[a.memoizedState,s]}function Gc(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=Ct.updateQueue,a===null?(a={lastEffect:null,stores:null},Ct.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function EI(){return Nr().memoizedState}function Kf(s,a,c,p){var y=vi();Ct.flags|=s,y.memoizedState=Gc(1|a,c,void 0,p===void 0?null:p)}function Gf(s,a,c,p){var y=Nr();p=p===void 0?null:p;var w=void 0;if(rn!==null){var P=rn.memoizedState;if(w=P.destroy,p!==null&&My(p,P.deps)){y.memoizedState=Gc(a,c,w,p);return}}Ct.flags|=s,y.memoizedState=Gc(1|a,c,w,p)}function II(s,a){return Kf(8390656,8,s,a)}function zy(s,a){return Gf(2048,8,s,a)}function TI(s,a){return Gf(4,2,s,a)}function SI(s,a){return Gf(4,4,s,a)}function RI(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function AI(s,a,c){return c=c!=null?c.concat([s]):null,Gf(4,4,RI.bind(null,a,s),c)}function $y(){}function bI(s,a){var c=Nr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&My(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function PI(s,a){var c=Nr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&My(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function CI(s,a,c){return(ha&21)===0?(s.baseState&&(s.baseState=!1,Qn=!0),s.memoizedState=c):(Zr(c,a)||(c=ta(),Ct.lanes|=c,fa|=c,s.baseState=!0),a)}function WO(s,a){var c=We;We=c!==0&&4>c?c:4,s(!0);var p=Ly.transition;Ly.transition={};try{s(!1),a()}finally{We=c,Ly.transition=p}}function kI(){return Nr().memoizedState}function HO(s,a,c){var p=Zs(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},xI(s))OI(a,c);else if(c=lI(s,a,c,p),c!==null){var y=Un();ii(c,s,p,y),NI(c,a,p)}}function KO(s,a,c){var p=Zs(s),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(xI(s))OI(a,y);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var P=a.lastRenderedState,U=w(P,c);if(y.hasEagerState=!0,y.eagerState=U,Zr(U,P)){var $=a.interleaved;$===null?(y.next=y,ky(a)):(y.next=$.next,$.next=y),a.interleaved=y;return}}catch{}finally{}c=lI(s,a,y,p),c!==null&&(y=Un(),ii(c,s,p,y),NI(c,a,p))}}function xI(s){var a=s.alternate;return s===Ct||a!==null&&a===Ct}function OI(s,a){Wc=Hf=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function NI(s,a,c){if((c&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,Fs(s,c)}}var Qf={readContext:Or,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},GO={readContext:Or,useCallback:function(s,a){return vi().memoizedState=[s,a===void 0?null:a],s},useContext:Or,useEffect:II,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Kf(4194308,4,RI.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Kf(4194308,4,s,a)},useInsertionEffect:function(s,a){return Kf(4,2,s,a)},useMemo:function(s,a){var c=vi();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=vi();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=HO.bind(null,Ct,s),[p.memoizedState,s]},useRef:function(s){var a=vi();return s={current:s},a.memoizedState=s},useState:wI,useDebugValue:$y,useDeferredValue:function(s){return vi().memoizedState=s},useTransition:function(){var s=wI(!1),a=s[0];return s=WO.bind(null,s[1]),vi().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=Ct,y=vi();if(wt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),cn===null)throw Error(t(349));(ha&30)!==0||mI(p,a,c)}y.memoizedState=c;var w={value:c,getSnapshot:a};return y.queue=w,II(yI.bind(null,p,w,s),[s]),p.flags|=2048,Gc(9,gI.bind(null,p,w,c,a),void 0,null),c},useId:function(){var s=vi(),a=cn.identifierPrefix;if(wt){var c=rs,p=ns;c=(p&~(1<<32-Ln(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=Hc++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=qO++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},QO={readContext:Or,useCallback:bI,useContext:Or,useEffect:zy,useImperativeHandle:AI,useInsertionEffect:TI,useLayoutEffect:SI,useMemo:PI,useReducer:jy,useRef:EI,useState:function(){return jy(Kc)},useDebugValue:$y,useDeferredValue:function(s){var a=Nr();return CI(a,rn.memoizedState,s)},useTransition:function(){var s=jy(Kc)[0],a=Nr().memoizedState;return[s,a]},useMutableSource:fI,useSyncExternalStore:pI,useId:kI,unstable_isNewReconciler:!1},YO={readContext:Or,useCallback:bI,useContext:Or,useEffect:zy,useImperativeHandle:AI,useInsertionEffect:TI,useLayoutEffect:SI,useMemo:PI,useReducer:By,useRef:EI,useState:function(){return By(Kc)},useDebugValue:$y,useDeferredValue:function(s){var a=Nr();return rn===null?a.memoizedState=s:CI(a,rn.memoizedState,s)},useTransition:function(){var s=By(Kc)[0],a=Nr().memoizedState;return[s,a]},useMutableSource:fI,useSyncExternalStore:pI,useId:kI,unstable_isNewReconciler:!1};function ti(s,a){if(s&&s.defaultProps){a=me({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function qy(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:me({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Yf={isMounted:function(s){return(s=s._reactInternals)?Hr(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=Un(),y=Zs(s),w=ss(p,y);w.payload=a,c!=null&&(w.callback=c),a=Qs(s,w,y),a!==null&&(ii(a,s,y,p),zf(a,s,y))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=Un(),y=Zs(s),w=ss(p,y);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=Qs(s,w,y),a!==null&&(ii(a,s,y,p),zf(a,s,y))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Un(),p=Zs(s),y=ss(c,p);y.tag=2,a!=null&&(y.callback=a),a=Qs(s,y,p),a!==null&&(ii(a,s,p,c),zf(a,s,p))}};function DI(s,a,c,p,y,w,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,P):a.prototype&&a.prototype.isPureReactComponent?!Dc(c,p)||!Dc(y,w):!0}function VI(s,a,c){var p=!1,y=Hs,w=a.contextType;return typeof w=="object"&&w!==null?w=Or(w):(y=Gn(a)?aa:An.current,p=a.contextTypes,w=(p=p!=null)?Ol(s,y):Hs),a=new a(c,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Yf,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=w),a}function LI(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&Yf.enqueueReplaceState(a,a.state,null)}function Wy(s,a,c,p){var y=s.stateNode;y.props=c,y.state=s.memoizedState,y.refs={},xy(s);var w=a.contextType;typeof w=="object"&&w!==null?y.context=Or(w):(w=Gn(a)?aa:An.current,y.context=Ol(s,w)),y.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(qy(s,a,w,c),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&Yf.enqueueReplaceState(y,y.state,null),$f(s,c,y,p),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function jl(s,a){try{var c="",p=a;do c+=Ve(p),p=p.return;while(p);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:y,digest:null}}function Hy(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Ky(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var JO=typeof WeakMap=="function"?WeakMap:Map;function MI(s,a,c){c=ss(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){rp||(rp=!0,l_=p),Ky(s,a)},c}function FI(s,a,c){c=ss(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;c.payload=function(){return p(y)},c.callback=function(){Ky(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Ky(s,a),typeof p!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})}),c}function UI(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new JO;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(c)||(y.add(c),s=dN.bind(null,s,a,c),a.then(s,s))}function jI(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function BI(s,a,c,p,y){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=ss(-1,1),a.tag=2,Qs(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var XO=z.ReactCurrentOwner,Qn=!1;function Fn(s,a,c,p){a.child=s===null?aI(a,null,c,p):Ll(a,s.child,c,p)}function zI(s,a,c,p,y){c=c.render;var w=a.ref;return Fl(a,y),p=Fy(s,a,c,p,w,y),c=Uy(),s!==null&&!Qn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,os(s,a,y)):(wt&&c&&Ey(a),a.flags|=1,Fn(s,a,p,y),a.child)}function $I(s,a,c,p,y){if(s===null){var w=c.type;return typeof w=="function"&&!m_(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,qI(s,a,w,p,y)):(s=up(c.type,null,p,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,(s.lanes&y)===0){var P=w.memoizedProps;if(c=c.compare,c=c!==null?c:Dc,c(P,p)&&s.ref===a.ref)return os(s,a,y)}return a.flags|=1,s=to(w,p),s.ref=a.ref,s.return=a,a.child=s}function qI(s,a,c,p,y){if(s!==null){var w=s.memoizedProps;if(Dc(w,p)&&s.ref===a.ref)if(Qn=!1,a.pendingProps=p=w,(s.lanes&y)!==0)(s.flags&131072)!==0&&(Qn=!0);else return a.lanes=s.lanes,os(s,a,y)}return Gy(s,a,c,p,y)}function WI(s,a,c){var p=a.pendingProps,y=p.children,w=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(zl,dr),dr|=c;else{if((c&1073741824)===0)return s=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ft(zl,dr),dr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,ft(zl,dr),dr|=p}else w!==null?(p=w.baseLanes|c,a.memoizedState=null):p=c,ft(zl,dr),dr|=p;return Fn(s,a,y,c),a.child}function HI(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Gy(s,a,c,p,y){var w=Gn(c)?aa:An.current;return w=Ol(a,w),Fl(a,y),c=Fy(s,a,c,p,w,y),p=Uy(),s!==null&&!Qn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,os(s,a,y)):(wt&&p&&Ey(a),a.flags|=1,Fn(s,a,c,y),a.child)}function KI(s,a,c,p,y){if(Gn(c)){var w=!0;Df(a)}else w=!1;if(Fl(a,y),a.stateNode===null)Xf(s,a),VI(a,c,p),Wy(a,c,p,y),p=!0;else if(s===null){var P=a.stateNode,U=a.memoizedProps;P.props=U;var $=P.context,Z=c.contextType;typeof Z=="object"&&Z!==null?Z=Or(Z):(Z=Gn(c)?aa:An.current,Z=Ol(a,Z));var ce=c.getDerivedStateFromProps,he=typeof ce=="function"||typeof P.getSnapshotBeforeUpdate=="function";he||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(U!==p||$!==Z)&&LI(a,P,p,Z),Gs=!1;var le=a.memoizedState;P.state=le,$f(a,p,P,y),$=a.memoizedState,U!==p||le!==$||Kn.current||Gs?(typeof ce=="function"&&(qy(a,c,ce,p),$=a.memoizedState),(U=Gs||DI(a,c,U,p,le,$,Z))?(he||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(a.flags|=4194308)):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=$),P.props=p,P.state=$,P.context=Z,p=U):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{P=a.stateNode,uI(s,a),U=a.memoizedProps,Z=a.type===a.elementType?U:ti(a.type,U),P.props=Z,he=a.pendingProps,le=P.context,$=c.contextType,typeof $=="object"&&$!==null?$=Or($):($=Gn(c)?aa:An.current,$=Ol(a,$));var we=c.getDerivedStateFromProps;(ce=typeof we=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(U!==he||le!==$)&&LI(a,P,p,$),Gs=!1,le=a.memoizedState,P.state=le,$f(a,p,P,y);var Se=a.memoizedState;U!==he||le!==Se||Kn.current||Gs?(typeof we=="function"&&(qy(a,c,we,p),Se=a.memoizedState),(Z=Gs||DI(a,c,Z,p,le,Se,$)||!1)?(ce||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(p,Se,$),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(p,Se,$)),typeof P.componentDidUpdate=="function"&&(a.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof P.componentDidUpdate!="function"||U===s.memoizedProps&&le===s.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&le===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Se),P.props=p,P.state=Se,P.context=$,p=Z):(typeof P.componentDidUpdate!="function"||U===s.memoizedProps&&le===s.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&le===s.memoizedState||(a.flags|=1024),p=!1)}return Qy(s,a,c,p,w,y)}function Qy(s,a,c,p,y,w){HI(s,a);var P=(a.flags&128)!==0;if(!p&&!P)return y&&XE(a,c,!1),os(s,a,w);p=a.stateNode,XO.current=a;var U=P&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&P?(a.child=Ll(a,s.child,null,w),a.child=Ll(a,null,U,w)):Fn(s,a,U,w),a.memoizedState=p.state,y&&XE(a,c,!0),a.child}function GI(s){var a=s.stateNode;a.pendingContext?YE(s,a.pendingContext,a.pendingContext!==a.context):a.context&&YE(s,a.context,!1),Oy(s,a.containerInfo)}function QI(s,a,c,p,y){return Vl(),Ry(y),a.flags|=256,Fn(s,a,c,p),a.child}var Yy={dehydrated:null,treeContext:null,retryLane:0};function Jy(s){return{baseLanes:s,cachePool:null,transitions:null}}function YI(s,a,c){var p=a.pendingProps,y=Pt.current,w=!1,P=(a.flags&128)!==0,U;if((U=P)||(U=s!==null&&s.memoizedState===null?!1:(y&2)!==0),U?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),ft(Pt,y&1),s===null)return Sy(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(P=p.children,s=p.fallback,w?(p=a.mode,w=a.child,P={mode:"hidden",children:P},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=P):w=cp(P,p,0,null),s=ya(s,p,c,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=Jy(c),a.memoizedState=Yy,s):Xy(a,P));if(y=s.memoizedState,y!==null&&(U=y.dehydrated,U!==null))return ZO(s,a,P,p,U,y,c);if(w){w=p.fallback,P=a.mode,y=s.child,U=y.sibling;var $={mode:"hidden",children:p.children};return(P&1)===0&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=$,a.deletions=null):(p=to(y,$),p.subtreeFlags=y.subtreeFlags&14680064),U!==null?w=to(U,w):(w=ya(w,P,c,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,P=s.child.memoizedState,P=P===null?Jy(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},w.memoizedState=P,w.childLanes=s.childLanes&~c,a.memoizedState=Yy,p}return w=s.child,s=w.sibling,p=to(w,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function Xy(s,a){return a=cp({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Jf(s,a,c,p){return p!==null&&Ry(p),Ll(a,s.child,null,c),s=Xy(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function ZO(s,a,c,p,y,w,P){if(c)return a.flags&256?(a.flags&=-257,p=Hy(Error(t(422))),Jf(s,a,P,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=p.fallback,y=a.mode,p=cp({mode:"visible",children:p.children},y,0,null),w=ya(w,y,P,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,(a.mode&1)!==0&&Ll(a,s.child,null,P),a.child.memoizedState=Jy(P),a.memoizedState=Yy,w);if((a.mode&1)===0)return Jf(s,a,P,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var U=p.dgst;return p=U,w=Error(t(419)),p=Hy(w,p,void 0),Jf(s,a,P,p)}if(U=(P&s.childLanes)!==0,Qn||U){if(p=cn,p!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|P))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,is(s,y),ii(p,s,y,-1))}return p_(),p=Hy(Error(t(421))),Jf(s,a,P,p)}return y.data==="$?"?(a.flags|=128,a.child=s.child,a=hN.bind(null,s),y._reactRetry=a,null):(s=w.treeContext,cr=qs(y.nextSibling),ur=a,wt=!0,ei=null,s!==null&&(kr[xr++]=ns,kr[xr++]=rs,kr[xr++]=la,ns=s.id,rs=s.overflow,la=a),a=Xy(a,p.children),a.flags|=4096,a)}function JI(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),Cy(s.return,a,c)}function Zy(s,a,c,p,y){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=y)}function XI(s,a,c){var p=a.pendingProps,y=p.revealOrder,w=p.tail;if(Fn(s,a,p.children,c),p=Pt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&JI(s,c,a);else if(s.tag===19)JI(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(ft(Pt,p),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)s=c.alternate,s!==null&&qf(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),Zy(a,!1,y,c,w);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&qf(s)===null){a.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}Zy(a,!0,c,null,w);break;case"together":Zy(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Xf(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function os(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),fa|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=to(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=to(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function eN(s,a,c){switch(a.tag){case 3:GI(a),Vl();break;case 5:hI(a);break;case 1:Gn(a.type)&&Df(a);break;case 4:Oy(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;ft(jf,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(ft(Pt,Pt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?YI(s,a,c):(ft(Pt,Pt.current&1),s=os(s,a,c),s!==null?s.sibling:null);ft(Pt,Pt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(s.flags&128)!==0){if(p)return XI(s,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ft(Pt,Pt.current),p)break;return null;case 22:case 23:return a.lanes=0,WI(s,a,c)}return os(s,a,c)}var ZI,e_,eT,tT;ZI=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},e_=function(){},eT=function(s,a,c,p){var y=s.memoizedProps;if(y!==p){s=a.stateNode,da(_i.current);var w=null;switch(c){case"input":y=zr(s,y),p=zr(s,p),w=[];break;case"select":y=me({},y,{value:void 0}),p=me({},p,{value:void 0}),w=[];break;case"textarea":y=ot(s,y),p=ot(s,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=xf)}mc(c,p);var P;c=null;for(Z in y)if(!p.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var U=y[Z];for(P in U)U.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in p){var $=p[Z];if(U=y!=null?y[Z]:void 0,p.hasOwnProperty(Z)&&$!==U&&($!=null||U!=null))if(Z==="style")if(U){for(P in U)!U.hasOwnProperty(P)||$&&$.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in $)$.hasOwnProperty(P)&&U[P]!==$[P]&&(c||(c={}),c[P]=$[P])}else c||(w||(w=[]),w.push(Z,c)),c=$;else Z==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,U=U?U.__html:void 0,$!=null&&U!==$&&(w=w||[]).push(Z,$)):Z==="children"?typeof $!="string"&&typeof $!="number"||(w=w||[]).push(Z,""+$):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?($!=null&&Z==="onScroll"&&mt("scroll",s),w||U===$||(w=[])):(w=w||[]).push(Z,$))}c&&(w=w||[]).push("style",c);var Z=w;(a.updateQueue=Z)&&(a.flags|=4)}},tT=function(s,a,c,p){c!==p&&(a.flags|=4)};function Qc(s,a){if(!wt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Pn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function tN(s,a,c){var p=a.pendingProps;switch(Iy(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(a),null;case 1:return Gn(a.type)&&Nf(),Pn(a),null;case 3:return p=a.stateNode,Ul(),gt(Kn),gt(An),Vy(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Ff(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ei!==null&&(d_(ei),ei=null))),e_(s,a),Pn(a),null;case 5:Ny(a);var y=da(qc.current);if(c=a.type,s!==null&&a.stateNode!=null)eT(s,a,c,p,y),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Pn(a),null}if(s=da(_i.current),Ff(a)){p=a.stateNode,c=a.type;var w=a.memoizedProps;switch(p[yi]=a,p[Uc]=w,s=(a.mode&1)!==0,c){case"dialog":mt("cancel",p),mt("close",p);break;case"iframe":case"object":case"embed":mt("load",p);break;case"video":case"audio":for(y=0;y<Lc.length;y++)mt(Lc[y],p);break;case"source":mt("error",p);break;case"img":case"image":case"link":mt("error",p),mt("load",p);break;case"details":mt("toggle",p);break;case"input":xs(p,w),mt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},mt("invalid",p);break;case"textarea":_t(p,w),mt("invalid",p)}mc(c,w),y=null;for(var P in w)if(w.hasOwnProperty(P)){var U=w[P];P==="children"?typeof U=="string"?p.textContent!==U&&(w.suppressHydrationWarning!==!0&&kf(p.textContent,U,s),y=["children",U]):typeof U=="number"&&p.textContent!==""+U&&(w.suppressHydrationWarning!==!0&&kf(p.textContent,U,s),y=["children",""+U]):i.hasOwnProperty(P)&&U!=null&&P==="onScroll"&&mt("scroll",p)}switch(c){case"input":Ir(p),rl(p,w,!0);break;case"textarea":Ir(p),Rr(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=xf)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=dt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=P.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=P.createElement(c,{is:p.is}):(s=P.createElement(c),c==="select"&&(P=s,p.multiple?P.multiple=!0:p.size&&(P.size=p.size))):s=P.createElementNS(s,c),s[yi]=a,s[Uc]=p,ZI(s,a,!1,!1),a.stateNode=s;e:{switch(P=gc(c,p),c){case"dialog":mt("cancel",s),mt("close",s),y=p;break;case"iframe":case"object":case"embed":mt("load",s),y=p;break;case"video":case"audio":for(y=0;y<Lc.length;y++)mt(Lc[y],s);y=p;break;case"source":mt("error",s),y=p;break;case"img":case"image":case"link":mt("error",s),mt("load",s),y=p;break;case"details":mt("toggle",s),y=p;break;case"input":xs(s,p),y=zr(s,p),mt("invalid",s);break;case"option":y=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},y=me({},p,{value:void 0}),mt("invalid",s);break;case"textarea":_t(s,p),y=ot(s,p),mt("invalid",s);break;default:y=p}mc(c,y),U=y;for(w in U)if(U.hasOwnProperty(w)){var $=U[w];w==="style"?fc(s,$):w==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Ki(s,$)):w==="children"?typeof $=="string"?(c!=="textarea"||$!=="")&&Ns(s,$):typeof $=="number"&&Ns(s,""+$):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?$!=null&&w==="onScroll"&&mt("scroll",s):$!=null&&M(s,w,$,P))}switch(c){case"input":Ir(s),rl(s,p,!1);break;case"textarea":Ir(s),Rr(s);break;case"option":p.value!=null&&s.setAttribute("value",""+qe(p.value));break;case"select":s.multiple=!!p.multiple,w=p.value,w!=null?Fe(s,!!p.multiple,w,!1):p.defaultValue!=null&&Fe(s,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=xf)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Pn(a),null;case 6:if(s&&a.stateNode!=null)tT(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=da(qc.current),da(_i.current),Ff(a)){if(p=a.stateNode,c=a.memoizedProps,p[yi]=a,(w=p.nodeValue!==c)&&(s=ur,s!==null))switch(s.tag){case 3:kf(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&kf(p.nodeValue,c,(s.mode&1)!==0)}w&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[yi]=a,a.stateNode=p}return Pn(a),null;case 13:if(gt(Pt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(wt&&cr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)iI(),Vl(),a.flags|=98560,w=!1;else if(w=Ff(a),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[yi]=a}else Vl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pn(a),w=!1}else ei!==null&&(d_(ei),ei=null),w=!0;if(!w)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Pt.current&1)!==0?sn===0&&(sn=3):p_())),a.updateQueue!==null&&(a.flags|=4),Pn(a),null);case 4:return Ul(),e_(s,a),s===null&&Mc(a.stateNode.containerInfo),Pn(a),null;case 10:return Py(a.type._context),Pn(a),null;case 17:return Gn(a.type)&&Nf(),Pn(a),null;case 19:if(gt(Pt),w=a.memoizedState,w===null)return Pn(a),null;if(p=(a.flags&128)!==0,P=w.rendering,P===null)if(p)Qc(w,!1);else{if(sn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(P=qf(s),P!==null){for(a.flags|=128,Qc(w,!1),p=P.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)w=c,s=p,w.flags&=14680066,P=w.alternate,P===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=P.childLanes,w.lanes=P.lanes,w.child=P.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=P.memoizedProps,w.memoizedState=P.memoizedState,w.updateQueue=P.updateQueue,w.type=P.type,s=P.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return ft(Pt,Pt.current&1|2),a.child}s=s.sibling}w.tail!==null&&ht()>$l&&(a.flags|=128,p=!0,Qc(w,!1),a.lanes=4194304)}else{if(!p)if(s=qf(P),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Qc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!P.alternate&&!wt)return Pn(a),null}else 2*ht()-w.renderingStartTime>$l&&c!==1073741824&&(a.flags|=128,p=!0,Qc(w,!1),a.lanes=4194304);w.isBackwards?(P.sibling=a.child,a.child=P):(c=w.last,c!==null?c.sibling=P:a.child=P,w.last=P)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=ht(),a.sibling=null,c=Pt.current,ft(Pt,p?c&1|2:c&1),a):(Pn(a),null);case 22:case 23:return f_(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(dr&1073741824)!==0&&(Pn(a),a.subtreeFlags&6&&(a.flags|=8192)):Pn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function nN(s,a){switch(Iy(a),a.tag){case 1:return Gn(a.type)&&Nf(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ul(),gt(Kn),gt(An),Vy(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Ny(a),null;case 13:if(gt(Pt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Vl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return gt(Pt),null;case 4:return Ul(),null;case 10:return Py(a.type._context),null;case 22:case 23:return f_(),null;case 24:return null;default:return null}}var Zf=!1,Cn=!1,rN=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Bl(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Vt(s,a,p)}else c.current=null}function t_(s,a,c){try{c()}catch(p){Vt(s,a,p)}}var nT=!1;function iN(s,a){if(fy=Bs,s=DE(),sy(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var P=0,U=-1,$=-1,Z=0,ce=0,he=s,le=null;t:for(;;){for(var we;he!==c||y!==0&&he.nodeType!==3||(U=P+y),he!==w||p!==0&&he.nodeType!==3||($=P+p),he.nodeType===3&&(P+=he.nodeValue.length),(we=he.firstChild)!==null;)le=he,he=we;for(;;){if(he===s)break t;if(le===c&&++Z===y&&(U=P),le===w&&++ce===p&&($=P),(we=he.nextSibling)!==null)break;he=le,le=he.parentNode}he=we}c=U===-1||$===-1?null:{start:U,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(py={focusedElem:s,selectionRange:c},Bs=!1,Ie=a;Ie!==null;)if(a=Ie,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ie=s;else for(;Ie!==null;){a=Ie;try{var Se=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ae=Se.memoizedProps,zt=Se.memoizedState,Y=a.stateNode,H=Y.getSnapshotBeforeUpdate(a.elementType===a.type?Ae:ti(a.type,Ae),zt);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Vt(a,a.return,ge)}if(s=a.sibling,s!==null){s.return=a.return,Ie=s;break}Ie=a.return}return Se=nT,nT=!1,Se}function Yc(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&s)===s){var w=y.destroy;y.destroy=void 0,w!==void 0&&t_(a,c,w)}y=y.next}while(y!==p)}}function ep(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function n_(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function rT(s){var a=s.alternate;a!==null&&(s.alternate=null,rT(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[yi],delete a[Uc],delete a[_y],delete a[jO],delete a[BO])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function iT(s){return s.tag===5||s.tag===3||s.tag===4}function sT(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||iT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function r_(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=xf));else if(p!==4&&(s=s.child,s!==null))for(r_(s,a,c),s=s.sibling;s!==null;)r_(s,a,c),s=s.sibling}function i_(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(i_(s,a,c),s=s.sibling;s!==null;)i_(s,a,c),s=s.sibling}var wn=null,ni=!1;function Ys(s,a,c){for(c=c.child;c!==null;)oT(s,a,c),c=c.sibling}function oT(s,a,c){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(Zo,c)}catch{}switch(c.tag){case 5:Cn||Bl(c,a);case 6:var p=wn,y=ni;wn=null,Ys(s,a,c),wn=p,ni=y,wn!==null&&(ni?(s=wn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):wn.removeChild(c.stateNode));break;case 18:wn!==null&&(ni?(s=wn,c=c.stateNode,s.nodeType===8?yy(s.parentNode,c):s.nodeType===1&&yy(s,c),Jr(s)):yy(wn,c.stateNode));break;case 4:p=wn,y=ni,wn=c.stateNode.containerInfo,ni=!0,Ys(s,a,c),wn=p,ni=y;break;case 0:case 11:case 14:case 15:if(!Cn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,P=w.destroy;w=w.tag,P!==void 0&&((w&2)!==0||(w&4)!==0)&&t_(c,a,P),y=y.next}while(y!==p)}Ys(s,a,c);break;case 1:if(!Cn&&(Bl(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(U){Vt(c,a,U)}Ys(s,a,c);break;case 21:Ys(s,a,c);break;case 22:c.mode&1?(Cn=(p=Cn)||c.memoizedState!==null,Ys(s,a,c),Cn=p):Ys(s,a,c);break;default:Ys(s,a,c)}}function aT(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new rN),a.forEach(function(p){var y=fN.bind(null,s,p);c.has(p)||(c.add(p),p.then(y,y))})}}function ri(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var w=s,P=a,U=P;e:for(;U!==null;){switch(U.tag){case 5:wn=U.stateNode,ni=!1;break e;case 3:wn=U.stateNode.containerInfo,ni=!0;break e;case 4:wn=U.stateNode.containerInfo,ni=!0;break e}U=U.return}if(wn===null)throw Error(t(160));oT(w,P,y),wn=null,ni=!1;var $=y.alternate;$!==null&&($.return=null),y.return=null}catch(Z){Vt(y,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)lT(a,s),a=a.sibling}function lT(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ri(a,s),wi(s),p&4){try{Yc(3,s,s.return),ep(3,s)}catch(Ae){Vt(s,s.return,Ae)}try{Yc(5,s,s.return)}catch(Ae){Vt(s,s.return,Ae)}}break;case 1:ri(a,s),wi(s),p&512&&c!==null&&Bl(c,c.return);break;case 5:if(ri(a,s),wi(s),p&512&&c!==null&&Bl(c,c.return),s.flags&32){var y=s.stateNode;try{Ns(y,"")}catch(Ae){Vt(s,s.return,Ae)}}if(p&4&&(y=s.stateNode,y!=null)){var w=s.memoizedProps,P=c!==null?c.memoizedProps:w,U=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{U==="input"&&w.type==="radio"&&w.name!=null&&$o(y,w),gc(U,P);var Z=gc(U,w);for(P=0;P<$.length;P+=2){var ce=$[P],he=$[P+1];ce==="style"?fc(y,he):ce==="dangerouslySetInnerHTML"?Ki(y,he):ce==="children"?Ns(y,he):M(y,ce,he,Z)}switch(U){case"input":qo(y,w);break;case"textarea":$r(y,w);break;case"select":var le=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var we=w.value;we!=null?Fe(y,!!w.multiple,we,!1):le!==!!w.multiple&&(w.defaultValue!=null?Fe(y,!!w.multiple,w.defaultValue,!0):Fe(y,!!w.multiple,w.multiple?[]:"",!1))}y[Uc]=w}catch(Ae){Vt(s,s.return,Ae)}}break;case 6:if(ri(a,s),wi(s),p&4){if(s.stateNode===null)throw Error(t(162));y=s.stateNode,w=s.memoizedProps;try{y.nodeValue=w}catch(Ae){Vt(s,s.return,Ae)}}break;case 3:if(ri(a,s),wi(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Jr(a.containerInfo)}catch(Ae){Vt(s,s.return,Ae)}break;case 4:ri(a,s),wi(s);break;case 13:ri(a,s),wi(s),y=s.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(a_=ht())),p&4&&aT(s);break;case 22:if(ce=c!==null&&c.memoizedState!==null,s.mode&1?(Cn=(Z=Cn)||ce,ri(a,s),Cn=Z):ri(a,s),wi(s),p&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!ce&&(s.mode&1)!==0)for(Ie=s,ce=s.child;ce!==null;){for(he=Ie=ce;Ie!==null;){switch(le=Ie,we=le.child,le.tag){case 0:case 11:case 14:case 15:Yc(4,le,le.return);break;case 1:Bl(le,le.return);var Se=le.stateNode;if(typeof Se.componentWillUnmount=="function"){p=le,c=le.return;try{a=p,Se.props=a.memoizedProps,Se.state=a.memoizedState,Se.componentWillUnmount()}catch(Ae){Vt(p,c,Ae)}}break;case 5:Bl(le,le.return);break;case 22:if(le.memoizedState!==null){dT(he);continue}}we!==null?(we.return=le,Ie=we):dT(he)}ce=ce.sibling}e:for(ce=null,he=s;;){if(he.tag===5){if(ce===null){ce=he;try{y=he.stateNode,Z?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(U=he.stateNode,$=he.memoizedProps.style,P=$!=null&&$.hasOwnProperty("display")?$.display:null,U.style.display=hc("display",P))}catch(Ae){Vt(s,s.return,Ae)}}}else if(he.tag===6){if(ce===null)try{he.stateNode.nodeValue=Z?"":he.memoizedProps}catch(Ae){Vt(s,s.return,Ae)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===s)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===s)break e;for(;he.sibling===null;){if(he.return===null||he.return===s)break e;ce===he&&(ce=null),he=he.return}ce===he&&(ce=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:ri(a,s),wi(s),p&4&&aT(s);break;case 21:break;default:ri(a,s),wi(s)}}function wi(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(iT(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Ns(y,""),p.flags&=-33);var w=sT(s);i_(s,w,y);break;case 3:case 4:var P=p.stateNode.containerInfo,U=sT(s);r_(s,U,P);break;default:throw Error(t(161))}}catch($){Vt(s,s.return,$)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function sN(s,a,c){Ie=s,uT(s)}function uT(s,a,c){for(var p=(s.mode&1)!==0;Ie!==null;){var y=Ie,w=y.child;if(y.tag===22&&p){var P=y.memoizedState!==null||Zf;if(!P){var U=y.alternate,$=U!==null&&U.memoizedState!==null||Cn;U=Zf;var Z=Cn;if(Zf=P,(Cn=$)&&!Z)for(Ie=y;Ie!==null;)P=Ie,$=P.child,P.tag===22&&P.memoizedState!==null?hT(y):$!==null?($.return=P,Ie=$):hT(y);for(;w!==null;)Ie=w,uT(w),w=w.sibling;Ie=y,Zf=U,Cn=Z}cT(s)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,Ie=w):cT(s)}}function cT(s){for(;Ie!==null;){var a=Ie;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Cn||ep(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Cn)if(c===null)p.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:ti(a.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&dI(a,w,p);break;case 3:var P=a.updateQueue;if(P!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}dI(a,P,c)}break;case 5:var U=a.stateNode;if(c===null&&a.flags&4){c=U;var $=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&c.focus();break;case"img":$.src&&(c.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var ce=Z.memoizedState;if(ce!==null){var he=ce.dehydrated;he!==null&&Jr(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Cn||a.flags&512&&n_(a)}catch(le){Vt(a,a.return,le)}}if(a===s){Ie=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ie=c;break}Ie=a.return}}function dT(s){for(;Ie!==null;){var a=Ie;if(a===s){Ie=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ie=c;break}Ie=a.return}}function hT(s){for(;Ie!==null;){var a=Ie;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{ep(4,a)}catch($){Vt(a,c,$)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch($){Vt(a,y,$)}}var w=a.return;try{n_(a)}catch($){Vt(a,w,$)}break;case 5:var P=a.return;try{n_(a)}catch($){Vt(a,P,$)}}}catch($){Vt(a,a.return,$)}if(a===s){Ie=null;break}var U=a.sibling;if(U!==null){U.return=a.return,Ie=U;break}Ie=a.return}}var oN=Math.ceil,tp=z.ReactCurrentDispatcher,s_=z.ReactCurrentOwner,Dr=z.ReactCurrentBatchConfig,Ye=0,cn=null,Qt=null,En=0,dr=0,zl=Ws(0),sn=0,Jc=null,fa=0,np=0,o_=0,Xc=null,Yn=null,a_=0,$l=1/0,as=null,rp=!1,l_=null,Js=null,ip=!1,Xs=null,sp=0,Zc=0,u_=null,op=-1,ap=0;function Un(){return(Ye&6)!==0?ht():op!==-1?op:op=ht()}function Zs(s){return(s.mode&1)===0?1:(Ye&2)!==0&&En!==0?En&-En:$O.transition!==null?(ap===0&&(ap=ta()),ap):(s=We,s!==0||(s=window.event,s=s===void 0?16:bc(s.type)),s)}function ii(s,a,c,p){if(50<Zc)throw Zc=0,u_=null,Error(t(185));Ms(s,c,p),((Ye&2)===0||s!==cn)&&(s===cn&&((Ye&2)===0&&(np|=c),sn===4&&eo(s,En)),Jn(s,p),c===1&&Ye===0&&(a.mode&1)===0&&($l=ht()+500,Vf&&Ks()))}function Jn(s,a){var c=s.callbackNode;Qi(s,a);var p=ea(s,s===cn?En:0);if(p===0)c!==null&&Ic(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&Ic(c),a===1)s.tag===0?zO(pT.bind(null,s)):ZE(pT.bind(null,s)),FO(function(){(Ye&6)===0&&Ks()}),c=null;else{switch(Us(p)){case 1:c=Xo;break;case 4:c=Ds;break;case 16:c=br;break;case 536870912:c=af;break;default:c=br}c=IT(c,fT.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function fT(s,a){if(op=-1,ap=0,(Ye&6)!==0)throw Error(t(327));var c=s.callbackNode;if(ql()&&s.callbackNode!==c)return null;var p=ea(s,s===cn?En:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=lp(s,p);else{a=p;var y=Ye;Ye|=2;var w=gT();(cn!==s||En!==a)&&(as=null,$l=ht()+500,ma(s,a));do try{uN();break}catch(U){mT(s,U)}while(!0);by(),tp.current=w,Ye=y,Qt!==null?a=0:(cn=null,En=0,a=sn)}if(a!==0){if(a===2&&(y=or(s),y!==0&&(p=y,a=c_(s,y))),a===1)throw c=Jc,ma(s,0),eo(s,p),Jn(s,ht()),c;if(a===6)eo(s,p);else{if(y=s.current.alternate,(p&30)===0&&!aN(y)&&(a=lp(s,p),a===2&&(w=or(s),w!==0&&(p=w,a=c_(s,w))),a===1))throw c=Jc,ma(s,0),eo(s,p),Jn(s,ht()),c;switch(s.finishedWork=y,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:ga(s,Yn,as);break;case 3:if(eo(s,p),(p&130023424)===p&&(a=a_+500-ht(),10<a)){if(ea(s,0)!==0)break;if(y=s.suspendedLanes,(y&p)!==p){Un(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=gy(ga.bind(null,s,Yn,as),a);break}ga(s,Yn,as);break;case 4:if(eo(s,p),(p&4194240)===p)break;for(a=s.eventTimes,y=-1;0<p;){var P=31-Ln(p);w=1<<P,P=a[P],P>y&&(y=P),p&=~w}if(p=y,p=ht()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*oN(p/1960))-p,10<p){s.timeoutHandle=gy(ga.bind(null,s,Yn,as),p);break}ga(s,Yn,as);break;case 5:ga(s,Yn,as);break;default:throw Error(t(329))}}}return Jn(s,ht()),s.callbackNode===c?fT.bind(null,s):null}function c_(s,a){var c=Xc;return s.current.memoizedState.isDehydrated&&(ma(s,a).flags|=256),s=lp(s,a),s!==2&&(a=Yn,Yn=c,a!==null&&d_(a)),s}function d_(s){Yn===null?Yn=s:Yn.push.apply(Yn,s)}function aN(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],w=y.getSnapshot;y=y.value;try{if(!Zr(w(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function eo(s,a){for(a&=~o_,a&=~np,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Ln(a),p=1<<c;s[c]=-1,a&=~p}}function pT(s){if((Ye&6)!==0)throw Error(t(327));ql();var a=ea(s,0);if((a&1)===0)return Jn(s,ht()),null;var c=lp(s,a);if(s.tag!==0&&c===2){var p=or(s);p!==0&&(a=p,c=c_(s,p))}if(c===1)throw c=Jc,ma(s,0),eo(s,a),Jn(s,ht()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,ga(s,Yn,as),Jn(s,ht()),null}function h_(s,a){var c=Ye;Ye|=1;try{return s(a)}finally{Ye=c,Ye===0&&($l=ht()+500,Vf&&Ks())}}function pa(s){Xs!==null&&Xs.tag===0&&(Ye&6)===0&&ql();var a=Ye;Ye|=1;var c=Dr.transition,p=We;try{if(Dr.transition=null,We=1,s)return s()}finally{We=p,Dr.transition=c,Ye=a,(Ye&6)===0&&Ks()}}function f_(){dr=zl.current,gt(zl)}function ma(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,MO(c)),Qt!==null)for(c=Qt.return;c!==null;){var p=c;switch(Iy(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Nf();break;case 3:Ul(),gt(Kn),gt(An),Vy();break;case 5:Ny(p);break;case 4:Ul();break;case 13:gt(Pt);break;case 19:gt(Pt);break;case 10:Py(p.type._context);break;case 22:case 23:f_()}c=c.return}if(cn=s,Qt=s=to(s.current,null),En=dr=a,sn=0,Jc=null,o_=np=fa=0,Yn=Xc=null,ca!==null){for(a=0;a<ca.length;a++)if(c=ca[a],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,w=c.pending;if(w!==null){var P=w.next;w.next=y,p.next=P}c.pending=p}ca=null}return s}function mT(s,a){do{var c=Qt;try{if(by(),Wf.current=Qf,Hf){for(var p=Ct.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Hf=!1}if(ha=0,un=rn=Ct=null,Wc=!1,Hc=0,s_.current=null,c===null||c.return===null){sn=1,Jc=a,Qt=null;break}e:{var w=s,P=c.return,U=c,$=a;if(a=En,U.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var Z=$,ce=U,he=ce.tag;if((ce.mode&1)===0&&(he===0||he===11||he===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var we=jI(P);if(we!==null){we.flags&=-257,BI(we,P,U,w,a),we.mode&1&&UI(w,Z,a),a=we,$=Z;var Se=a.updateQueue;if(Se===null){var Ae=new Set;Ae.add($),a.updateQueue=Ae}else Se.add($);break e}else{if((a&1)===0){UI(w,Z,a),p_();break e}$=Error(t(426))}}else if(wt&&U.mode&1){var zt=jI(P);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),BI(zt,P,U,w,a),Ry(jl($,U));break e}}w=$=jl($,U),sn!==4&&(sn=2),Xc===null?Xc=[w]:Xc.push(w),w=P;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var Y=MI(w,$,a);cI(w,Y);break e;case 1:U=$;var H=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Js===null||!Js.has(J)))){w.flags|=65536,a&=-a,w.lanes|=a;var ge=FI(w,U,a);cI(w,ge);break e}}w=w.return}while(w!==null)}_T(c)}catch(be){a=be,Qt===c&&c!==null&&(Qt=c=c.return);continue}break}while(!0)}function gT(){var s=tp.current;return tp.current=Qf,s===null?Qf:s}function p_(){(sn===0||sn===3||sn===2)&&(sn=4),cn===null||(fa&268435455)===0&&(np&268435455)===0||eo(cn,En)}function lp(s,a){var c=Ye;Ye|=2;var p=gT();(cn!==s||En!==a)&&(as=null,ma(s,a));do try{lN();break}catch(y){mT(s,y)}while(!0);if(by(),Ye=c,tp.current=p,Qt!==null)throw Error(t(261));return cn=null,En=0,sn}function lN(){for(;Qt!==null;)yT(Qt)}function uN(){for(;Qt!==null&&!sf();)yT(Qt)}function yT(s){var a=ET(s.alternate,s,dr);s.memoizedProps=s.pendingProps,a===null?_T(s):Qt=a,s_.current=null}function _T(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=tN(c,a,dr),c!==null){Qt=c;return}}else{if(c=nN(c,a),c!==null){c.flags&=32767,Qt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{sn=6,Qt=null;return}}if(a=a.sibling,a!==null){Qt=a;return}Qt=a=s}while(a!==null);sn===0&&(sn=5)}function ga(s,a,c){var p=We,y=Dr.transition;try{Dr.transition=null,We=1,cN(s,a,c,p)}finally{Dr.transition=y,We=p}return null}function cN(s,a,c,p){do ql();while(Xs!==null);if((Ye&6)!==0)throw Error(t(327));c=s.finishedWork;var y=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(lt(s,w),s===cn&&(Qt=cn=null,En=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||ip||(ip=!0,IT(br,function(){return ql(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=Dr.transition,Dr.transition=null;var P=We;We=1;var U=Ye;Ye|=4,s_.current=null,iN(s,c),lT(c,s),kO(py),Bs=!!fy,py=fy=null,s.current=c,sN(c),Jg(),Ye=U,We=P,Dr.transition=w}else s.current=c;if(ip&&(ip=!1,Xs=s,sp=y),w=s.pendingLanes,w===0&&(Js=null),lf(c.stateNode),Jn(s,ht()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)y=a[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(rp)throw rp=!1,s=l_,l_=null,s;return(sp&1)!==0&&s.tag!==0&&ql(),w=s.pendingLanes,(w&1)!==0?s===u_?Zc++:(Zc=0,u_=s):Zc=0,Ks(),null}function ql(){if(Xs!==null){var s=Us(sp),a=Dr.transition,c=We;try{if(Dr.transition=null,We=16>s?16:s,Xs===null)var p=!1;else{if(s=Xs,Xs=null,sp=0,(Ye&6)!==0)throw Error(t(331));var y=Ye;for(Ye|=4,Ie=s.current;Ie!==null;){var w=Ie,P=w.child;if((Ie.flags&16)!==0){var U=w.deletions;if(U!==null){for(var $=0;$<U.length;$++){var Z=U[$];for(Ie=Z;Ie!==null;){var ce=Ie;switch(ce.tag){case 0:case 11:case 15:Yc(8,ce,w)}var he=ce.child;if(he!==null)he.return=ce,Ie=he;else for(;Ie!==null;){ce=Ie;var le=ce.sibling,we=ce.return;if(rT(ce),ce===Z){Ie=null;break}if(le!==null){le.return=we,Ie=le;break}Ie=we}}}var Se=w.alternate;if(Se!==null){var Ae=Se.child;if(Ae!==null){Se.child=null;do{var zt=Ae.sibling;Ae.sibling=null,Ae=zt}while(Ae!==null)}}Ie=w}}if((w.subtreeFlags&2064)!==0&&P!==null)P.return=w,Ie=P;else e:for(;Ie!==null;){if(w=Ie,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Yc(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,Ie=Y;break e}Ie=w.return}}var H=s.current;for(Ie=H;Ie!==null;){P=Ie;var J=P.child;if((P.subtreeFlags&2064)!==0&&J!==null)J.return=P,Ie=J;else e:for(P=H;Ie!==null;){if(U=Ie,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:ep(9,U)}}catch(be){Vt(U,U.return,be)}if(U===P){Ie=null;break e}var ge=U.sibling;if(ge!==null){ge.return=U.return,Ie=ge;break e}Ie=U.return}}if(Ye=y,Ks(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(Zo,s)}catch{}p=!0}return p}finally{We=c,Dr.transition=a}}return!1}function vT(s,a,c){a=jl(c,a),a=MI(s,a,1),s=Qs(s,a,1),a=Un(),s!==null&&(Ms(s,1,a),Jn(s,a))}function Vt(s,a,c){if(s.tag===3)vT(s,s,c);else for(;a!==null;){if(a.tag===3){vT(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Js===null||!Js.has(p))){s=jl(c,s),s=FI(a,s,1),a=Qs(a,s,1),s=Un(),a!==null&&(Ms(a,1,s),Jn(a,s));break}}a=a.return}}function dN(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=Un(),s.pingedLanes|=s.suspendedLanes&c,cn===s&&(En&c)===c&&(sn===4||sn===3&&(En&130023424)===En&&500>ht()-a_?ma(s,0):o_|=c),Jn(s,a)}function wT(s,a){a===0&&((s.mode&1)===0?a=1:(a=fl,fl<<=1,(fl&130023424)===0&&(fl=4194304)));var c=Un();s=is(s,a),s!==null&&(Ms(s,a,c),Jn(s,c))}function hN(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),wT(s,c)}function fN(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),wT(s,c)}var ET;ET=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Kn.current)Qn=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return Qn=!1,eN(s,a,c);Qn=(s.flags&131072)!==0}else Qn=!1,wt&&(a.flags&1048576)!==0&&eI(a,Mf,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Xf(s,a),s=a.pendingProps;var y=Ol(a,An.current);Fl(a,c),y=Fy(null,a,p,s,y,c);var w=Uy();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Gn(p)?(w=!0,Df(a)):w=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,xy(a),y.updater=Yf,a.stateNode=y,y._reactInternals=a,Wy(a,p,s,c),a=Qy(null,a,p,!0,w,c)):(a.tag=0,wt&&w&&Ey(a),Fn(null,a,y,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Xf(s,a),s=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=mN(p),s=ti(p,s),y){case 0:a=Gy(null,a,p,s,c);break e;case 1:a=KI(null,a,p,s,c);break e;case 11:a=zI(null,a,p,s,c);break e;case 14:a=$I(null,a,p,ti(p.type,s),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:ti(p,y),Gy(s,a,p,y,c);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:ti(p,y),KI(s,a,p,y,c);case 3:e:{if(GI(a),s===null)throw Error(t(387));p=a.pendingProps,w=a.memoizedState,y=w.element,uI(s,a),$f(a,p,null,c);var P=a.memoizedState;if(p=P.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){y=jl(Error(t(423)),a),a=QI(s,a,p,c,y);break e}else if(p!==y){y=jl(Error(t(424)),a),a=QI(s,a,p,c,y);break e}else for(cr=qs(a.stateNode.containerInfo.firstChild),ur=a,wt=!0,ei=null,c=aI(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Vl(),p===y){a=os(s,a,c);break e}Fn(s,a,p,c)}a=a.child}return a;case 5:return hI(a),s===null&&Sy(a),p=a.type,y=a.pendingProps,w=s!==null?s.memoizedProps:null,P=y.children,my(p,y)?P=null:w!==null&&my(p,w)&&(a.flags|=32),HI(s,a),Fn(s,a,P,c),a.child;case 6:return s===null&&Sy(a),null;case 13:return YI(s,a,c);case 4:return Oy(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=Ll(a,null,p,c):Fn(s,a,p,c),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:ti(p,y),zI(s,a,p,y,c);case 7:return Fn(s,a,a.pendingProps,c),a.child;case 8:return Fn(s,a,a.pendingProps.children,c),a.child;case 12:return Fn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,w=a.memoizedProps,P=y.value,ft(jf,p._currentValue),p._currentValue=P,w!==null)if(Zr(w.value,P)){if(w.children===y.children&&!Kn.current){a=os(s,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var U=w.dependencies;if(U!==null){P=w.child;for(var $=U.firstContext;$!==null;){if($.context===p){if(w.tag===1){$=ss(-1,c&-c),$.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var ce=Z.pending;ce===null?$.next=$:($.next=ce.next,ce.next=$),Z.pending=$}}w.lanes|=c,$=w.alternate,$!==null&&($.lanes|=c),Cy(w.return,c,a),U.lanes|=c;break}$=$.next}}else if(w.tag===10)P=w.type===a.type?null:w.child;else if(w.tag===18){if(P=w.return,P===null)throw Error(t(341));P.lanes|=c,U=P.alternate,U!==null&&(U.lanes|=c),Cy(P,c,a),P=w.sibling}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===a){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}Fn(s,a,y.children,c),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,Fl(a,c),y=Or(y),p=p(y),a.flags|=1,Fn(s,a,p,c),a.child;case 14:return p=a.type,y=ti(p,a.pendingProps),y=ti(p.type,y),$I(s,a,p,y,c);case 15:return qI(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:ti(p,y),Xf(s,a),a.tag=1,Gn(p)?(s=!0,Df(a)):s=!1,Fl(a,c),VI(a,p,y),Wy(a,p,y,c),Qy(null,a,p,!0,s,c);case 19:return XI(s,a,c);case 22:return WI(s,a,c)}throw Error(t(156,a.tag))};function IT(s,a){return dl(s,a)}function pN(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(s,a,c,p){return new pN(s,a,c,p)}function m_(s){return s=s.prototype,!(!s||!s.isReactComponent)}function mN(s){if(typeof s=="function")return m_(s)?1:0;if(s!=null){if(s=s.$$typeof,s===k)return 11;if(s===F)return 14}return 2}function to(s,a){var c=s.alternate;return c===null?(c=Vr(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function up(s,a,c,p,y,w){var P=2;if(p=s,typeof s=="function")m_(s)&&(P=1);else if(typeof s=="string")P=5;else e:switch(s){case D:return ya(c.children,y,w,a);case A:P=8,y|=8;break;case C:return s=Vr(12,c,a,y|2),s.elementType=C,s.lanes=w,s;case x:return s=Vr(13,c,a,y),s.elementType=x,s.lanes=w,s;case ee:return s=Vr(19,c,a,y),s.elementType=ee,s.lanes=w,s;case oe:return cp(c,y,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:P=10;break e;case O:P=9;break e;case k:P=11;break e;case F:P=14;break e;case fe:P=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Vr(P,c,a,y),a.elementType=s,a.type=p,a.lanes=w,a}function ya(s,a,c,p){return s=Vr(7,s,p,a),s.lanes=c,s}function cp(s,a,c,p){return s=Vr(22,s,p,a),s.elementType=oe,s.lanes=c,s.stateNode={isHidden:!1},s}function g_(s,a,c){return s=Vr(6,s,null,a),s.lanes=c,s}function y_(s,a,c){return a=Vr(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function gN(s,a,c,p,y){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ls(0),this.expirationTimes=Ls(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ls(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function __(s,a,c,p,y,w,P,U,$){return s=new gN(s,a,c,U,$),a===1?(a=1,w===!0&&(a|=8)):a=0,w=Vr(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},xy(w),s}function yN(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function TT(s){if(!s)return Hs;s=s._reactInternals;e:{if(Hr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Gn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Gn(c))return JE(s,c,a)}return a}function ST(s,a,c,p,y,w,P,U,$){return s=__(c,p,!0,s,y,w,P,U,$),s.context=TT(null),c=s.current,p=Un(),y=Zs(c),w=ss(p,y),w.callback=a??null,Qs(c,w,y),s.current.lanes=y,Ms(s,y,p),Jn(s,p),s}function dp(s,a,c,p){var y=a.current,w=Un(),P=Zs(y);return c=TT(c),a.context===null?a.context=c:a.pendingContext=c,a=ss(w,P),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=Qs(y,a,P),s!==null&&(ii(s,y,P,w),zf(s,y,P)),P}function hp(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function RT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function v_(s,a){RT(s,a),(s=s.alternate)&&RT(s,a)}function _N(){return null}var AT=typeof reportError=="function"?reportError:function(s){console.error(s)};function w_(s){this._internalRoot=s}fp.prototype.render=w_.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));dp(s,a,null,null)},fp.prototype.unmount=w_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;pa(function(){dp(null,s,null,null)}),a[es]=null}};function fp(s){this._internalRoot=s}fp.prototype.unstable_scheduleHydration=function(s){if(s){var a=ff();s={blockedOn:null,target:s,priority:a};for(var c=0;c<fi.length&&a!==0&&a<fi[c].priority;c++);fi.splice(c,0,s),c===0&&gf(s)}};function E_(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function pp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function bT(){}function vN(s,a,c,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var Z=hp(P);w.call(Z)}}var P=ST(a,p,s,0,null,!1,!1,"",bT);return s._reactRootContainer=P,s[es]=P.current,Mc(s.nodeType===8?s.parentNode:s),pa(),P}for(;y=s.lastChild;)s.removeChild(y);if(typeof p=="function"){var U=p;p=function(){var Z=hp($);U.call(Z)}}var $=__(s,0,!1,null,null,!1,!1,"",bT);return s._reactRootContainer=$,s[es]=$.current,Mc(s.nodeType===8?s.parentNode:s),pa(function(){dp(a,$,c,p)}),$}function mp(s,a,c,p,y){var w=c._reactRootContainer;if(w){var P=w;if(typeof y=="function"){var U=y;y=function(){var $=hp(P);U.call($)}}dp(a,P,s,y)}else P=vN(c,a,s,y,p);return hp(P)}df=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Vs(a.pendingLanes);c!==0&&(Fs(a,c|1),Jn(a,ht()),(Ye&6)===0&&($l=ht()+500,Ks()))}break;case 13:pa(function(){var p=is(s,1);if(p!==null){var y=Un();ii(p,s,1,y)}}),v_(s,1)}},pl=function(s){if(s.tag===13){var a=is(s,134217728);if(a!==null){var c=Un();ii(a,s,134217728,c)}v_(s,134217728)}},hf=function(s){if(s.tag===13){var a=Zs(s),c=is(s,a);if(c!==null){var p=Un();ii(c,s,a,p)}v_(s,a)}},ff=function(){return We},pf=function(s,a){var c=We;try{return We=s,a()}finally{We=c}},sl=function(s,a,c){switch(a){case"input":if(qo(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var y=Of(p);if(!y)throw Error(t(90));Tr(p),qo(p,y)}}}break;case"textarea":$r(s,c);break;case"select":a=c.value,a!=null&&Fe(s,!!c.multiple,a,!1)}},Go=h_,_c=pa;var wN={usingClientEntryPoint:!1,Events:[jc,kl,Of,di,yc,h_]},ed={findFiberByHostInstance:oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EN={bundleType:ed.bundleType,version:ed.version,rendererPackageName:ed.rendererPackageName,rendererConfig:ed.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ec(s),s===null?null:s.stateNode},findFiberByHostInstance:ed.findFiberByHostInstance||_N,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gp.isDisabled&&gp.supportsFiber)try{Zo=gp.inject(EN),sr=gp}catch{}}return Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wN,Xn.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E_(a))throw Error(t(200));return yN(s,a,null,c)},Xn.createRoot=function(s,a){if(!E_(s))throw Error(t(299));var c=!1,p="",y=AT;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=__(s,1,!1,null,null,c,!1,p,y),s[es]=a.current,Mc(s.nodeType===8?s.parentNode:s),new w_(a)},Xn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ec(a),s=s===null?null:s.stateNode,s},Xn.flushSync=function(s){return pa(s)},Xn.hydrate=function(s,a,c){if(!pp(a))throw Error(t(200));return mp(null,s,a,!0,c)},Xn.hydrateRoot=function(s,a,c){if(!E_(s))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,y=!1,w="",P=AT;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),a=ST(a,null,s,1,c??null,y,!1,w,P),s[es]=a.current,Mc(s),p)for(s=0;s<p.length;s++)c=p[s],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new fp(a)},Xn.render=function(s,a,c){if(!pp(a))throw Error(t(200));return mp(null,s,a,!1,c)},Xn.unmountComponentAtNode=function(s){if(!pp(s))throw Error(t(40));return s._reactRootContainer?(pa(function(){mp(null,null,s,!1,function(){s._reactRootContainer=null,s[es]=null})}),!0):!1},Xn.unstable_batchedUpdates=h_,Xn.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!pp(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return mp(s,a,c,!1,p)},Xn.version="18.3.1-next-f1338f8080-20240426",Xn}var VT;function kN(){if(VT)return S_.exports;VT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),S_.exports=CN(),S_.exports}var LT;function xN(){if(LT)return yp;LT=1;var n=kN();return yp.createRoot=n.createRoot,yp.hydrateRoot=n.hydrateRoot,yp}var ON=xN();const NN="_fixed_jw6gm_6",DN="_header_container_jw6gm_12",VN="_logo_container_jw6gm_22",LN="_delivery_jw6gm_35",MN="_search_jw6gm_53",FN="_order_container_jw6gm_96",UN="_language_jw6gm_116",jN="_cart_jw6gm_132",BN="_lower_header_jw6gm_154",Ti={fixed:NN,header_container:DN,logo_container:VN,delivery:LN,search:MN,order_container:FN,language:UN,cart:jN,lower_header:BN};var fb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},MT=He.createContext&&He.createContext(fb),zN=["attr","size","title"];function $N(n,e){if(n==null)return{};var t=qN(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function qN(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function sm(){return sm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sm.apply(this,arguments)}function FT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function om(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FT(Object(t),!0).forEach(function(r){WN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function WN(n,e,t){return e=HN(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HN(n){var e=KN(n,"string");return typeof e=="symbol"?e:e+""}function KN(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function pb(n){return n&&n.map((e,t)=>He.createElement(e.tag,om({key:t},e.attr),pb(e.child)))}function Rh(n){return e=>He.createElement(GN,sm({attr:om({},n.attr)},e),pb(n.child))}function GN(n){var e=t=>{var{attr:r,size:i,title:o}=n,l=$N(n,zN),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),He.createElement("svg",sm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:om(om({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&He.createElement("title",null,o),n.children)};return MT!==void 0?He.createElement(MT.Consumer,null,t=>e(t)):e(fb)}function QN(n){return Rh({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function YN(n){return Rh({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}const JN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAAAyCAYAAAC9F+53AAAACXBIWXMAAAsTAAALEwEAmpwYAAAHOklEQVR4nO2ca2wUVRSAv1kWKNRCFRUwAVZ5JIAJ9QdEomjVoEZRCooGH1CDMdHE0PjD+MekxMQYwVgSjYhGQUFUQiyKAj6r8UmM1qigCFgRIQqENkAo7HaPP85sOp3e2e7Oi7bZL5m0O2fm3Ltz5tx77pkza4kIJfoeSWAG8CpwoshzE0A5sA54CsiG27US+UgCo4ApAXTUAtuAH8LoUInCSBDcUyYCNYAVuDclCiYRkp67gEtD0lWiABLA4BD0jAfmU/K62LBEZAbwCNDRw7EdQCVwAzDIIP8TmAPsDLODJcxYIjKAno2WYzTwPDDPQ/448CSlCDNyEhRuNIBDwHrgtId8ERqslIiYpI9zvgE+wOx1E4H5p06dWt7R0ZGxLP9TnoiQTCYpKyvzraM/48dwB4E3gRuBIQb5okwmsymdTu8OariIsYDZwL3ASdf+AcDfwLKoO+EXP4YD+ArYikaSbsaXl5fPA1ZQ3DDcjSCGL4AxwGPANR7yFVE2HhS/67h/gI1Au0GWTCQSCxOJRCqRSBBki9hws/A22gHgrSgbD0qQBfjn6FznxgIuAW4PoDtqRqNDpBfrgB9j6osvghjuEOp1ZwyyctRwYwPoj5JZQLWHbD/wNgGH+agJmvL6GHjPQ+8EYGFA/VFwHrps8coY9Xpvg+CGO4LOBaa5bjhwG3BRwDbCZib5vW1DfF3xTxhJ5m3AdsN+C13X3RNCG2ExFHgAHcpNrAd+ia87/vG7HHByHP3Cs9EL46QSmAu8gnpn6KTTaXbs2EE2651lS6fTTJ8+nYqKiiuA6zwO248Ok32CMAwHsAX4BLjFIJuKRnDPhtRWF9rb21m9ejXpdNpz+dDW1sby5csHTJ48OZ+3baAPJcitEDMUC4CXgWEGWZMtD93rMpkMO3fuzJtpyWQyTJo0aVZFRUUjGpy42YfedH3GcIhIWFuZiLwrZtpE5KEQ2/KzrfHom4jI02e5b0VvYT0BB40s1wLHDLJh6Fw3MsT2iuFydA428TvwWox9CYUwDQcaXX7hIZuJObcZB0swL0uywGb6SCTpJGzDncDb6yqAW4nf6/J522/A6zH2JTTCNhxoIOLldVei5Q1xYQF3A+MMsiwaDRfjbSmgHmhEv2c9UGNZFn63PNSgpY9mIpg4EyIyT0RaPQKB90Xk/Jgm8ekistejH7tEZGoRumryfKdGEaks4gYo5PrnqDLJo/C4LPAl8KmH/Fri87o70ScVbrJojvXXAvVUAe+gaTzQJyPL7L+ggVeD3072QKVxb0R3+kARmSsiJzzu0K0SvdddJiJ7PNrfLSJTitDVbJ/XKiLVLlljTqnrulaJSL1jqzFc+zoRSYlIbe4YW2eto69rDG2GugB3MxJ4AXNtykk0DfY9nXdxWGTRpckcdJ4wyZ8BHi1CZ+4irQTqXLJKdM7DsqxqABFZAyw26PnJsqwq+5g6NJv0F13n4JXAUtd5bbg9L8I7Pinqde0ed30moi0tIlmPNkVE9onI5CK+R7Xj3Bq3vJuF1dNy1NnnNzj25Yzb5NjXZB/TJOqBzjbrxDDPhZWrNJEBduBdETYgwrbzsRHYFaH+FnRt2GRZVoNo0JJyyFPdT6EGaHXpyNFsb12IIjhx8i+6TvKqw4yb/QTLklSZdtre0gBgWVYrOpxWiUgLuqZ91XF4ynX653Q1WkFEbbgs8B3m2pSzwZsUHknmaHb8X+0WikgtOictFZFKEalCy/EXowZZhndRkm+iNhxobcobmJ+Sx8kB9LlhsbSi2SCAq+ka9lc7Prc5vC33ucqyrHofbfZIHIYT4Gu0DvNsEuTpdh0a2YF6l6Dz0Gd0RsW19t9m++9wewitx446bVJFtt2AZmlqnDujDE6cHAaeADYRf/VUAq1E+xb/L6O0ohe8EfU66Azh29C0V5P9eQ1qxGl0hvWbUUMvpTOsb7Z1NXu0uRYdbqfZn5tw3ABRruP6Kyk6vabFsqwW00H2XFfpPMbe12IPqdhLg6Y8beV0tOIycMlwfZS4hsocg4ALgIHo8PUfut4LiyRwod3OGbRUwlSw2+eJ03ATgPuB64Fz0WhzCzonHAxB/1jgPuBm9OY4jAZEr6Bppf5FEamfINskEflCunNaRDaJyOiA+seJPi5ykxaR7bY8ru8ayxbHcmAY8DBar+9mEFrOsAQdPv2QK3K9ySBLoh7+IOH8SEGvIQ7Dpej5zZ0FwAif+kcBdxSgf4xP/b2SuDxuVA/HXEz3KuhCOYee3wpK2cf1G+IwXJqefyfsmH2cHzowFyc5aaX3JLpDIQ7DHURfx8rHdjQK9MNRzC+dOPkQfae73xCX4V6i6zMmJz8Dq/CfhD6CLim8ysf3As9R/K8D9mriypwMRX+RqBa4Ck3jHEVf0VqFFhcFYQj66KQWLUYagQ6PHwEvoi+k9CviTHkNRhfhY4EyNDn7B+ENYQPR3xQbh94ox4E9eHt6n+Z/x0Mw5K8BifgAAAAASUVORK5CYII=";function XN(n){return Rh({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}function ZN(){return B.jsx("div",{className:Ti.lower_header,children:B.jsxs("ul",{children:[B.jsxs("li",{children:[B.jsx(XN,{}),B.jsx("p",{children:"All"})]}),B.jsx("li",{children:"Today's Deals"}),B.jsx("li",{children:"Customer service"}),B.jsx("li",{children:"Registry"}),B.jsx("li",{children:"Gift Cards"}),B.jsx("li",{children:"Sell"})]})})}var nd={},UT;function eD(){if(UT)return nd;UT=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.parse=l,nd.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,T){const I=new o,S=_.length;if(S<2)return I;const b=(T==null?void 0:T.decode)||m;let V=0;do{const L=_.indexOf("=",V);if(L===-1)break;const M=_.indexOf(";",V),z=M===-1?S:M;if(L>z){V=_.lastIndexOf(";",L-1)+1;continue}const j=u(_,V,L),W=d(_,L,j),D=_.slice(j,W);if(I[D]===void 0){let A=u(_,L+1,z),C=d(_,z,A);const E=b(_.slice(A,C));I[D]=E}V=z+1}while(V<S);return I}function u(_,T,I){do{const S=_.charCodeAt(T);if(S!==32&&S!==9)return T}while(++T<I);return I}function d(_,T,I){for(;T>I;){const S=_.charCodeAt(--T);if(S!==32&&S!==9)return T+1}return I}function h(_,T,I){const S=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const b=S(T);if(!e.test(b))throw new TypeError(`argument val is invalid: ${T}`);let V=_+"="+b;if(!I)return V;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);V+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);V+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);V+="; Path="+I.path}if(I.expires){if(!g(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);V+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(V+="; HttpOnly"),I.secure&&(V+="; Secure"),I.partitioned&&(V+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return V}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function g(_){return i.call(_)==="[object Date]"}return nd}eD();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jT="popstate";function tD(n={}){function e(r,i){let{pathname:o,search:l,hash:u}=r.location;return cv("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Jd(i)}return rD(e,t,null,n)}function xt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ui(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nD(){return Math.random().toString(36).substring(2,10)}function BT(n,e){return{usr:n.state,key:n.key,idx:e}}function cv(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Hu(e):e,state:t,key:e&&e.key||r||nD()}}function Jd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Hu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function rD(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",d=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let b=m(),V=b==null?null:b-h;h=b,d&&d({action:u,location:S.location,delta:V})}function _(b,V){u="PUSH";let L=cv(S.location,b,V);h=m()+1;let M=BT(L,h),z=S.createHref(L);try{l.pushState(M,"",z)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(z)}o&&d&&d({action:u,location:S.location,delta:1})}function T(b,V){u="REPLACE";let L=cv(S.location,b,V);h=m();let M=BT(L,h),z=S.createHref(L);l.replaceState(M,"",z),o&&d&&d({action:u,location:S.location,delta:0})}function I(b){let V=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof b=="string"?b:Jd(b);return L=L.replace(/ $/,"%20"),xt(V,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,V)}let S={get action(){return u},get location(){return n(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(jT,g),d=b,()=>{i.removeEventListener(jT,g),d=null}},createHref(b){return e(i,b)},createURL:I,encodeLocation(b){let V=I(b);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:_,replace:T,go(b){return l.go(b)}};return S}function mb(n,e,t="/"){return iD(n,e,t,!1)}function iD(n,e,t,r){let i=typeof e=="string"?Hu(e):e,o=gs(i.pathname||"/",t);if(o==null)return null;let l=gb(n);sD(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=gD(o);u=pD(l[d],h,r)}return u}function gb(n,e=[],t=[],r=""){let i=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(xt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=ps([r,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(xt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),gb(o.children,e,m,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:hD(h,o.index),routesMeta:m})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let d of yb(o.path))i(o,l,d)}),e}function yb(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=yb(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function sD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:fD(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var oD=/^:[\w-]+$/,aD=3,lD=2,uD=1,cD=10,dD=-2,zT=n=>n==="*";function hD(n,e){let t=n.split("/"),r=t.length;return t.some(zT)&&(r+=dD),e&&(r+=lD),t.filter(i=>!zT(i)).reduce((i,o)=>i+(oD.test(o)?aD:o===""?uD:cD),r)}function fD(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function pD(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=am({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),_=d.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=am({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:ps([o,g.pathname]),pathnameBase:wD(ps([o,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(o=ps([o,g.pathnameBase]))}return l}function am(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=mD(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},_)=>{if(m==="*"){let I=u[_]||"";l=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const T=u[_];return g&&!T?h[m]=void 0:h[m]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:n}}function mD(n,e=!1,t=!0){Ui(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ui(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function gs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function yD(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Hu(n):n;return{pathname:t?t.startsWith("/")?t:_D(t,e):e,search:ED(r),hash:ID(i)}}function _D(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function b_(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vD(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _b(n){let e=vD(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function vb(n,e,t,r=!1){let i;typeof n=="string"?i=Hu(n):(i={...n},xt(!i.pathname||!i.pathname.includes("?"),b_("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),b_("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),b_("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}u=g>=0?e[g]:"/"}let d=yD(i,u),h=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var ps=n=>n.join("/").replace(/\/\/+/g,"/"),wD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ED=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ID=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function TD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var wb=["POST","PUT","PATCH","DELETE"];new Set(wb);var SD=["GET",...wb];new Set(SD);var Ku=K.createContext(null);Ku.displayName="DataRouter";var Bm=K.createContext(null);Bm.displayName="DataRouterState";var Eb=K.createContext({isTransitioning:!1});Eb.displayName="ViewTransition";var RD=K.createContext(new Map);RD.displayName="Fetchers";var AD=K.createContext(null);AD.displayName="Await";var Wi=K.createContext(null);Wi.displayName="Navigation";var Ah=K.createContext(null);Ah.displayName="Location";var Hi=K.createContext({outlet:null,matches:[],isDataRoute:!1});Hi.displayName="Route";var yw=K.createContext(null);yw.displayName="RouteError";function bD(n,{relative:e}={}){xt(bh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=K.useContext(Wi),{hash:i,pathname:o,search:l}=Ph(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:ps([t,o])),r.createHref({pathname:u,search:l,hash:i})}function bh(){return K.useContext(Ah)!=null}function Vo(){return xt(bh(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Ah).location}var Ib="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tb(n){K.useContext(Wi).static||K.useLayoutEffect(n)}function zm(){let{isDataRoute:n}=K.useContext(Hi);return n?jD():PD()}function PD(){xt(bh(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(Ku),{basename:e,navigator:t}=K.useContext(Wi),{matches:r}=K.useContext(Hi),{pathname:i}=Vo(),o=JSON.stringify(_b(r)),l=K.useRef(!1);return Tb(()=>{l.current=!0}),K.useCallback((d,h={})=>{if(Ui(l.current,Ib),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=vb(d,JSON.parse(o),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ps([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,o,i,n])}K.createContext(null);function Sb(){let{matches:n}=K.useContext(Hi),e=n[n.length-1];return e?e.params:{}}function Ph(n,{relative:e}={}){let{matches:t}=K.useContext(Hi),{pathname:r}=Vo(),i=JSON.stringify(_b(t));return K.useMemo(()=>vb(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function CD(n,e){return Rb(n,e)}function Rb(n,e,t,r){var L;xt(bh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=K.useContext(Wi),{matches:l}=K.useContext(Hi),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let M=g&&g.path||"";Ab(h,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let _=Vo(),T;if(e){let M=typeof e=="string"?Hu(e):e;xt(m==="/"||((L=M.pathname)==null?void 0:L.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),T=M}else T=_;let I=T.pathname||"/",S=I;if(m!=="/"){let M=m.replace(/^\//,"").split("/");S="/"+I.replace(/^\//,"").split("/").slice(M.length).join("/")}let b=!o&&t&&t.matches&&t.matches.length>0?t.matches:mb(n,{pathname:S});Ui(g||b!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Ui(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=DD(b&&b.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:ps([m,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:ps([m,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,r);return e&&V?K.createElement(Ah.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},V):V}function kD(){let n=UD(),e=TD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:o},"ErrorBoundary")," or"," ",K.createElement("code",{style:o},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:i},t):null,l)}var xD=K.createElement(kD,null),OD=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(Hi.Provider,{value:this.props.routeContext},K.createElement(yw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ND({routeContext:n,match:e,children:t}){let r=K.useContext(Ku);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Hi.Provider,{value:n},t)}function DD(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);xt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=t,_=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let g,_=!1,T=null,I=null;t&&(g=o&&h.route.id?o[h.route.id]:void 0,T=h.route.errorElement||xD,l&&(u<0&&m===0?(Ab("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,I=null):u===m&&(_=!0,I=h.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,m+1)),b=()=>{let V;return g?V=T:_?V=I:h.route.Component?V=K.createElement(h.route.Component,null):h.route.element?V=h.route.element:V=d,K.createElement(ND,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:V})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?K.createElement(OD,{location:t.location,revalidation:t.revalidation,component:T,error:g,children:b(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):b()},null)}function _w(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VD(n){let e=K.useContext(Ku);return xt(e,_w(n)),e}function LD(n){let e=K.useContext(Bm);return xt(e,_w(n)),e}function MD(n){let e=K.useContext(Hi);return xt(e,_w(n)),e}function vw(n){let e=MD(n),t=e.matches[e.matches.length-1];return xt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function FD(){return vw("useRouteId")}function UD(){var r;let n=K.useContext(yw),e=LD("useRouteError"),t=vw("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function jD(){let{router:n}=VD("useNavigate"),e=vw("useNavigate"),t=K.useRef(!1);return Tb(()=>{t.current=!0}),K.useCallback(async(i,o={})=>{Ui(t.current,Ib),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var $T={};function Ab(n,e,t){!e&&!$T[n]&&($T[n]=!0,Ui(!1,t))}K.memo(BD);function BD({routes:n,future:e,state:t}){return Rb(n,void 0,t,e)}function lo(n){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zD({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){xt(!bh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=K.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Hu(t));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:_="default"}=t,T=K.useMemo(()=>{let I=gs(d,l);return I==null?null:{location:{pathname:I,search:h,hash:m,state:g,key:_},navigationType:r}},[l,d,h,m,g,_,r]);return Ui(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:K.createElement(Wi.Provider,{value:u},K.createElement(Ah.Provider,{children:e,value:T}))}function $D({children:n,location:e}){return CD(dv(n),e)}function dv(n,e=[]){let t=[];return K.Children.forEach(n,(r,i)=>{if(!K.isValidElement(r))return;let o=[...e,i];if(r.type===K.Fragment){t.push.apply(t,dv(r.props.children,o));return}xt(r.type===lo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=dv(r.props.children,o)),t.push(l)}),t}var Dp="get",Vp="application/x-www-form-urlencoded";function $m(n){return n!=null&&typeof n.tagName=="string"}function qD(n){return $m(n)&&n.tagName.toLowerCase()==="button"}function WD(n){return $m(n)&&n.tagName.toLowerCase()==="form"}function HD(n){return $m(n)&&n.tagName.toLowerCase()==="input"}function KD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function GD(n,e){return n.button===0&&(!e||e==="_self")&&!KD(n)}var _p=null;function QD(){if(_p===null)try{new FormData(document.createElement("form"),0),_p=!1}catch{_p=!0}return _p}var YD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function P_(n){return n!=null&&!YD.has(n)?(Ui(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vp}"`),null):n}function JD(n,e){let t,r,i,o,l;if(WD(n)){let u=n.getAttribute("action");r=u?gs(u,e):null,t=n.getAttribute("method")||Dp,i=P_(n.getAttribute("enctype"))||Vp,o=new FormData(n)}else if(qD(n)||HD(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?gs(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Dp,i=P_(n.getAttribute("formenctype"))||P_(u.getAttribute("enctype"))||Vp,o=new FormData(u,n),!QD()){let{name:h,type:m,value:g}=n;if(m==="image"){let _=h?`${h}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else h&&o.append(h,g)}}else{if($m(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Dp,r=null,i=Vp,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function ww(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function XD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function e2(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await XD(o,t);return l.links?l.links():[]}return[]}));return i2(r.flat(1).filter(ZD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qT(n,e,t,r,i,o){let l=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,u=(d,h)=>{var m;return t[h].pathname!==d.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):o==="data"?e.filter((d,h)=>{var g;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function t2(n,e,{includeHydrateFallback:t}={}){return n2(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function n2(n){return[...new Set(n)]}function r2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function i2(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(r2(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function s2(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&gs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function bb(){let n=K.useContext(Ku);return ww(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function o2(){let n=K.useContext(Bm);return ww(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ew=K.createContext(void 0);Ew.displayName="FrameworkContext";function Pb(){let n=K.useContext(Ew);return ww(n,"You must render this element inside a <HydratedRouter> element"),n}function a2(n,e){let t=K.useContext(Ew),[r,i]=K.useState(!1),[o,l]=K.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,_=K.useRef(null);K.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let S=V=>{V.forEach(L=>{l(L.isIntersecting)})},b=new IntersectionObserver(S,{threshold:.5});return _.current&&b.observe(_.current),()=>{b.disconnect()}}},[n]),K.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let T=()=>{i(!0)},I=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:rd(u,T),onBlur:rd(d,I),onMouseEnter:rd(h,T),onMouseLeave:rd(m,I),onTouchStart:rd(g,T)}]:[!1,_,{}]}function rd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function l2({page:n,...e}){let{router:t}=bb(),r=K.useMemo(()=>mb(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?K.createElement(c2,{page:n,matches:r,...e}):null}function u2(n){let{manifest:e,routeModules:t}=Pb(),[r,i]=K.useState([]);return K.useEffect(()=>{let o=!1;return e2(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function c2({page:n,matches:e,...t}){let r=Vo(),{manifest:i,routeModules:o}=Pb(),{basename:l}=bb(),{loaderData:u,matches:d}=o2(),h=K.useMemo(()=>qT(n,e,d,i,r,"data"),[n,e,d,i,r]),m=K.useMemo(()=>qT(n,e,d,i,r,"assets"),[n,e,d,i,r]),g=K.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,S=!1;if(e.forEach(V=>{var M;let L=i.routes[V.route.id];!L||!L.hasLoader||(!h.some(z=>z.route.id===V.route.id)&&V.route.id in u&&((M=o[V.route.id])!=null&&M.shouldRevalidate)||L.hasClientLoader?S=!0:I.add(V.route.id))}),I.size===0)return[];let b=s2(n,l);return S&&I.size>0&&b.searchParams.set("_routes",e.filter(V=>I.has(V.route.id)).map(V=>V.route.id).join(",")),[b.pathname+b.search]},[l,u,r,i,h,e,n,o]),_=K.useMemo(()=>t2(m,i),[m,i]),T=u2(m);return K.createElement(K.Fragment,null,g.map(I=>K.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),_.map(I=>K.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),T.map(({key:I,link:S})=>K.createElement("link",{key:I,...S})))}function d2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Cb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cb&&(window.__reactRouterVersion="7.3.0")}catch{}function h2({basename:n,children:e,window:t}){let r=K.useRef();r.current==null&&(r.current=tD({window:t,v5Compat:!0}));let i=r.current,[o,l]=K.useState({action:i.action,location:i.location}),u=K.useCallback(d=>{K.startTransition(()=>l(d))},[l]);return K.useLayoutEffect(()=>i.listen(u),[i,u]),K.createElement(zD,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var kb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oi=K.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:h,preventScrollReset:m,viewTransition:g,..._},T){let{basename:I}=K.useContext(Wi),S=typeof h=="string"&&kb.test(h),b,V=!1;if(typeof h=="string"&&S&&(b=h,Cb))try{let C=new URL(window.location.href),E=h.startsWith("//")?new URL(C.protocol+h):new URL(h),O=gs(E.pathname,I);E.origin===C.origin&&O!=null?h=O+E.search+E.hash:V=!0}catch{Ui(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=bD(h,{relative:i}),[M,z,j]=a2(r,_),W=g2(h,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:g});function D(C){e&&e(C),C.defaultPrevented||W(C)}let A=K.createElement("a",{..._,...j,href:b||L,onClick:V||o?e:D,ref:d2(T,z),target:d,"data-discover":!S&&t==="render"?"true":void 0});return M&&!S?K.createElement(K.Fragment,null,A,K.createElement(l2,{page:L})):A});Oi.displayName="Link";var f2=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...h},m){let g=Ph(l,{relative:h.relative}),_=Vo(),T=K.useContext(Bm),{navigator:I,basename:S}=K.useContext(Wi),b=T!=null&&E2(g)&&u===!0,V=I.encodeLocation?I.encodeLocation(g).pathname:g.pathname,L=_.pathname,M=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(L=L.toLowerCase(),M=M?M.toLowerCase():null,V=V.toLowerCase()),M&&S&&(M=gs(M,S)||M);const z=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let j=L===V||!i&&L.startsWith(V)&&L.charAt(z)==="/",W=M!=null&&(M===V||!i&&M.startsWith(V)&&M.charAt(V.length)==="/"),D={isActive:j,isPending:W,isTransitioning:b},A=j?e:void 0,C;typeof r=="function"?C=r(D):C=[r,j?"active":null,W?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(D):o;return K.createElement(Oi,{...h,"aria-current":A,className:C,ref:m,style:E,to:l,viewTransition:u},typeof d=="function"?d(D):d)});f2.displayName="NavLink";var p2=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=Dp,action:u,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:g,..._},T)=>{let I=v2(),S=w2(u,{relative:h}),b=l.toLowerCase()==="get"?"get":"post",V=typeof u=="string"&&kb.test(u),L=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let z=M.nativeEvent.submitter,j=(z==null?void 0:z.getAttribute("formmethod"))||l;I(z||M.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:o,relative:h,preventScrollReset:m,viewTransition:g})};return K.createElement("form",{ref:T,method:b,action:S,onSubmit:r?d:L,..._,"data-discover":!V&&n==="render"?"true":void 0})});p2.displayName="Form";function m2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xb(n){let e=K.useContext(Ku);return xt(e,m2(n)),e}function g2(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=zm(),d=Vo(),h=Ph(n,{relative:o});return K.useCallback(m=>{if(GD(m,e)){m.preventDefault();let g=t!==void 0?t:Jd(d)===Jd(h);u(n,{replace:g,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,h,t,r,e,n,i,o,l])}var y2=0,_2=()=>`__${String(++y2)}__`;function v2(){let{router:n}=xb("useSubmit"),{basename:e}=K.useContext(Wi),t=FD();return K.useCallback(async(r,i={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=JD(r,e);if(i.navigate===!1){let m=i.fetcherKey||_2();await n.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function w2(n,{relative:e}={}){let{basename:t}=K.useContext(Wi),r=K.useContext(Hi);xt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Ph(n||".",{relative:e})},l=Vo();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ps([t,o.pathname])),Jd(o)}function E2(n,e={}){let t=K.useContext(Eb);xt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xb("useViewTransitionState"),i=Ph(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=gs(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=gs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return am(i.pathname,l)!=null||am(i.pathname,o)!=null}new TextEncoder;const Ss=K.createContext(),I2=({children:n,reducer:e,initialState:t})=>B.jsx(Ss.Provider,{value:K.useReducer(e,t),children:n}),T2=()=>{};var WT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},S2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Nb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,h=d?n[i+2]:0,m=o>>2,g=(o&3)<<4|u>>4;let _=(u&15)<<2|h>>6,T=h&63;d||(T=64,l||(_=64)),r.push(t[m],t[g],t[_],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ob(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):S2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||h==null||g==null)throw new R2;const _=o<<2|u>>4;if(r.push(_),h!==64){const T=u<<4&240|h>>2;if(r.push(T),g!==64){const I=h<<6&192|g;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class R2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A2=function(n){const e=Ob(n);return Nb.encodeByteArray(e,!0)},lm=function(n){return A2(n).replace(/\./g,"")},Iw=function(n){try{return Nb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function um(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!b2(t)||(n[t]=um(n[t],e[t]));return n}function b2(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=()=>Db().__FIREBASE_DEFAULTS__,C2=()=>{if(typeof process>"u"||typeof WT>"u")return;const n=WT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},k2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Iw(n[1]);return e&&JSON.parse(e)},qm=()=>{try{return T2()||P2()||C2()||k2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},x2=n=>{var e,t;return(t=(e=qm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Vb=()=>{var n;return(n=qm())===null||n===void 0?void 0:n.config},Lb=n=>{var e;return(e=qm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[lm(JSON.stringify(t)),lm(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function Tw(){var n;const e=(n=qm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V2(){return typeof window<"u"||Mb()}function Mb(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function L2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fb(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Sw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ub(){const n=Nt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jb(){return!Tw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xd(){try{return typeof indexedDB=="object"}catch{return!1}}function M2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="FirebaseError";class zn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=F2,Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ja.prototype.create)}}class Ja{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?U2(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new zn(i,u,r)}}function U2(n,e){return n.replace(j2,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const j2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function B2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ys(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(KT(o)&&KT(l)){if(!ys(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function KT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Pd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Bb(n,e){const t=new z2(n,e);return t.subscribe.bind(t)}class z2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");$2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=C_),i.error===void 0&&(i.error=C_),i.complete===void 0&&(i.complete=C_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function C_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n){return n&&n._delegate?n._delegate:n}class ji{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new O2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H2(e))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wa){return this.instances.has(e)}getOptions(e=wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:W2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wa){return this.component?this.component.multipleInstances?e:wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W2(n){return n===wa?void 0:n}function H2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new q2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=[];var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const $b={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},K2=Be.INFO,G2={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},Q2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=G2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wm{constructor(e){this.name=e,this._logLevel=K2,this._logHandler=Q2,this._userLogHandler=null,Rw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$b[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}function Y2(n){Rw.forEach(e=>{e.setLogLevel(n)})}function J2(n,e){for(const t of Rw){let r=null;e&&e.level&&(r=$b[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...l)=>{const u=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(r??i.logLevel)&&n({level:Be[o].toLowerCase(),message:u,args:l,type:i.name})}}}const X2=(n,e)=>e.some(t=>n instanceof t);let GT,QT;function Z2(){return GT||(GT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eV(){return QT||(QT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qb=new WeakMap,hv=new WeakMap,Wb=new WeakMap,k_=new WeakMap,Aw=new WeakMap;function tV(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(po(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&qb.set(t,n)}).catch(()=>{}),Aw.set(e,n),e}function nV(n){if(hv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});hv.set(n,e)}let fv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Wb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return po(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function rV(n){fv=n(fv)}function iV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(x_(this),e,...t);return Wb.set(r,e.sort?e.sort():[e]),po(r)}:eV().includes(n)?function(...e){return n.apply(x_(this),e),po(qb.get(this))}:function(...e){return po(n.apply(x_(this),e))}}function sV(n){return typeof n=="function"?iV(n):(n instanceof IDBTransaction&&nV(n),X2(n,Z2())?new Proxy(n,fv):n)}function po(n){if(n instanceof IDBRequest)return tV(n);if(k_.has(n))return k_.get(n);const e=sV(n);return e!==n&&(k_.set(n,e),Aw.set(e,n)),e}const x_=n=>Aw.get(n);function oV(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),u=po(l);return r&&l.addEventListener("upgradeneeded",d=>{r(po(l.result),d.oldVersion,d.newVersion,po(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const aV=["get","getKey","getAll","getAllKeys","count"],lV=["put","add","delete","clear"],O_=new Map;function YT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(O_.get(e))return O_.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=lV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aV.includes(t)))return;const o=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&d.done]))[0]};return O_.set(e,o),o}rV(n=>({...n,get:(e,t,r)=>YT(e,t)||n.get(e,t,r),has:(e,t)=>!!YT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cV(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function cV(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cm="@firebase/app",pv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Wm("@firebase/app"),dV="@firebase/app-compat",hV="@firebase/analytics-compat",fV="@firebase/analytics",pV="@firebase/app-check-compat",mV="@firebase/app-check",gV="@firebase/auth",yV="@firebase/auth-compat",_V="@firebase/database",vV="@firebase/data-connect",wV="@firebase/database-compat",EV="@firebase/functions",IV="@firebase/functions-compat",TV="@firebase/installations",SV="@firebase/installations-compat",RV="@firebase/messaging",AV="@firebase/messaging-compat",bV="@firebase/performance",PV="@firebase/performance-compat",CV="@firebase/remote-config",kV="@firebase/remote-config-compat",xV="@firebase/storage",OV="@firebase/storage-compat",NV="@firebase/firestore",DV="@firebase/vertexai",VV="@firebase/firestore-compat",LV="firebase",MV="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="[DEFAULT]",FV={[cm]:"fire-core",[dV]:"fire-core-compat",[fV]:"fire-analytics",[hV]:"fire-analytics-compat",[mV]:"fire-app-check",[pV]:"fire-app-check-compat",[gV]:"fire-auth",[yV]:"fire-auth-compat",[_V]:"fire-rtdb",[vV]:"fire-data-connect",[wV]:"fire-rtdb-compat",[EV]:"fire-fn",[IV]:"fire-fn-compat",[TV]:"fire-iid",[SV]:"fire-iid-compat",[RV]:"fire-fcm",[AV]:"fire-fcm-compat",[bV]:"fire-perf",[PV]:"fire-perf-compat",[CV]:"fire-rc",[kV]:"fire-rc-compat",[xV]:"fire-gcs",[OV]:"fire-gcs-compat",[NV]:"fire-fst",[VV]:"fire-fst-compat",[DV]:"fire-vertex","fire-js":"fire-js",[LV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new Map,vu=new Map,wu=new Map;function Zd(n,e){try{n.container.addComponent(e)}catch(t){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hb(n,e){n.container.addOrOverwriteComponent(e)}function Eo(n){const e=n.name;if(wu.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;wu.set(e,n);for(const t of wo.values())Zd(t,n);for(const t of vu.values())Zd(t,n);return!0}function Hm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function UV(n,e,t=vo){Hm(n,e).clearInstance(t)}function Kb(n){return n.options!==void 0}function Tt(n){return n==null?!1:n.settings!==void 0}function jV(){wu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new Ja("app","Firebase",BV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gb=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(n,e){const t=Iw(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class zV extends Gb{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,l={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,l,i);else{const u=e;super(u.options,l,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&JT(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&JT(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ai(cm,pv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Pw(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ur.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=MV;function bw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vo,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ur.create("bad-app-name",{appName:String(i)});if(t||(t=Vb()),!t)throw Ur.create("no-options");const o=wo.get(i);if(o){if(ys(t,o.options)&&ys(r,o.config))return o;throw Ur.create("duplicate-app",{appName:i})}const l=new zb(i);for(const d of wu.values())l.addComponent(d);const u=new Gb(t,r,l);return wo.set(i,u),u}function $V(n,e){if(V2()&&!Mb())throw Ur.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;Kb(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=h=>[...h].reduce((m,g)=>Math.imul(31,m)+g.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Ur.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),l=vu.get(o);if(l)return l.incRefCount(e.releaseOnDeref),l;const u=new zb(o);for(const h of wu.values())u.addComponent(h);const d=new zV(t,e,o,u);return vu.set(o,d),d}function Qb(n=vo){const e=wo.get(n);if(!e&&n===vo&&Vb())return bw();if(!e)throw Ur.create("no-app",{appName:n});return e}function qV(){return Array.from(wo.values())}async function Pw(n){let e=!1;const t=n.name;wo.has(t)?(e=!0,wo.delete(t)):vu.has(t)&&n.decRefCount()<=0&&(vu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function ai(n,e,t){var r;let i=(r=FV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(u.join(" "));return}Eo(new ji(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Yb(n,e){if(n!==null&&typeof n!="function")throw Ur.create("invalid-log-argument");J2(n,e)}function Jb(n){Y2(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="firebase-heartbeat-database",HV=1,eh="firebase-heartbeat-store";let N_=null;function Xb(){return N_||(N_=oV(WV,HV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(eh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ur.create("idb-open",{originalErrorMessage:n.message})})),N_}async function KV(n){try{const t=(await Xb()).transaction(eh),r=await t.objectStore(eh).get(Zb(n));return await t.done,r}catch(e){if(e instanceof zn)_s.warn(e.message);else{const t=Ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_s.warn(t.message)}}}async function XT(n,e){try{const r=(await Xb()).transaction(eh,"readwrite");await r.objectStore(eh).put(e,Zb(n)),await r.done}catch(t){if(t instanceof zn)_s.warn(t.message);else{const r=Ur.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});_s.warn(r.message)}}}function Zb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=1024,QV=30;class YV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new XV(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ZT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>QV){const l=ZV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_s.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ZT(),{heartbeatsToSend:r,unsentEntries:i}=JV(this._heartbeatsCache.heartbeats),o=lm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return _s.warn(t),""}}}function ZT(){return new Date().toISOString().substring(0,10)}function JV(n,e=GV){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),eS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),eS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class XV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xd()?M2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await KV(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return XT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return XT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function eS(n){return lm(JSON.stringify({version:2,heartbeats:n})).length}function ZV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(n){Eo(new ji("platform-logger",e=>new uV(e),"PRIVATE")),Eo(new ji("heartbeat",e=>new YV(e),"PRIVATE")),ai(cm,pv,n),ai(cm,pv,"esm2017"),ai("fire-js","")}eL("");const tL=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:zn,SDK_VERSION:Lo,_DEFAULT_ENTRY_NAME:vo,_addComponent:Zd,_addOrOverwriteComponent:Hb,_apps:wo,_clearComponents:jV,_components:wu,_getProvider:Hm,_isFirebaseApp:Kb,_isFirebaseServerApp:Tt,_registerComponent:Eo,_removeServiceInstance:UV,_serverApps:vu,deleteApp:Pw,getApp:Qb,getApps:qV,initializeApp:bw,initializeServerApp:$V,onLog:Yb,registerVersion:ai,setLogLevel:Jb},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,t){this._delegate=e,this.firebase=t,Zd(e,new ji("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Pw(this._delegate)))}_getService(e,t=vo){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=vo){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Zd(this._delegate,e)}_addOrOverwriteComponent(e){Hb(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},tS=new Ja("app-compat","Firebase",rL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:ai,setLogLevel:Jb,onLog:Yb,apps:null,SDK_VERSION:Lo,INTERNAL:{registerComponent:u,removeApp:r,useAsService:d,modularAPIs:tL}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(h){delete e[h]}function i(h){if(h=h||vo,!HT(e,h))throw tS.create("no-app",{appName:h});return e[h]}i.App=n;function o(h,m={}){const g=bw(h,m);if(HT(e,g.name))return e[g.name];const _=new n(g,t);return e[g.name]=_,_}function l(){return Object.keys(e).map(h=>e[h])}function u(h){const m=h.name,g=m.replace("-compat","");if(Eo(h)&&h.type==="PUBLIC"){const _=(T=i())=>{if(typeof T[g]!="function")throw tS.create("invalid-app-argument",{appName:m});return T[g]()};h.serviceProps!==void 0&&um(_,h.serviceProps),t[g]=_,n.prototype[g]=function(...T){return this._getService.bind(this,m).apply(this,h.multipleInstances?T:[])}}return h.type==="PUBLIC"?t[g]:null}function d(h,m){return m==="serverAuth"?null:m}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(){const n=iL(nL);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:eP,extendNamespace:e,createSubscribe:Bb,ErrorFactory:Ja,deepExtend:um});function e(t){um(n,t)}return n}const sL=eP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new Wm("@firebase/app-compat"),oL="@firebase/app-compat",aL="0.2.51";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(n){ai(oL,aL,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=Db();if(n.firebase!==void 0){nS.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&nS.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Qu=sL;lL();var uL="firebase",cL="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qu.registerVersion(uL,cL,"app-compat");function Cw(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const id={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Wl={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function tP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hL=dL,fL=tP,nP=new Ja("auth","Firebase",tP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=new Wm("@firebase/auth");function pL(n,...e){dm.logLevel<=Be.WARN&&dm.warn(`Auth (${Lo}): ${n}`,...e)}function Lp(n,...e){dm.logLevel<=Be.ERROR&&dm.error(`Auth (${Lo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(n,...e){throw xw(n,...e)}function on(n,...e){return xw(n,...e)}function kw(n,e,t){const r=Object.assign(Object.assign({},fL()),{[e]:t});return new Ja("auth","Firebase",r).create(e,{appName:n.name})}function pn(n){return kw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yu(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&mn(n,"argument-error"),kw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xw(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return nP.create(n,...e)}function de(n,e,...t){if(!n)throw xw(e,...t)}function Ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Lp(e),new Error(e)}function li(n,e){n||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Ow(){return rS()==="http:"||rS()==="https:"}function rS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ow()||Fb()||"connection"in navigator)?navigator.onLine:!0}function gL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t){this.shortDelay=e,this.longDelay=t,li(t>e,"Short delay should be less than long delay!"),this.isMobile=D2()||Sw()}get(){return mL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(n,e){li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=new Ch(3e4,6e4);function Ut(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function jt(n,e,t,r,i={}){return iP(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Gu(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:d},o);return L2()||(h.referrerPolicy="no-referrer"),rP.fetch()(sP(n,n.config.apiHost,t,u),h)})}async function iP(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},yL),e);try{const i=new wL(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Cd(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Cd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Cd(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw kw(n,m,h);mn(n,m)}}catch(i){if(i instanceof zn)throw i;mn(n,"network-request-failed",{message:String(i)})}}async function Rs(n,e,t,r,i={}){const o=await jt(n,e,t,r,i);return"mfaPendingCredential"in o&&mn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function sP(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Nw(n.config,i):`${n.config.apiScheme}://${i}`}function vL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(on(this.auth,"network-request-failed")),_L.get())})}}function Cd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=on(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(n){return n!==void 0&&n.getResponse!==void 0}function sS(n){return n!==void 0&&n.enterprise!==void 0}class oP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return vL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(n){return(await jt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function aP(n,e){return jt(n,"GET","/v2/recaptchaConfig",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(n,e){return jt(n,"POST","/v1/accounts:delete",e)}async function TL(n,e){return jt(n,"POST","/v1/accounts:update",e)}async function lP(n,e){return jt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SL(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=Km(r);de(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Md(D_(i.auth_time)),issuedAtTime:Md(D_(i.iat)),expirationTime:Md(D_(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function D_(n){return Number(n)*1e3}function Km(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Lp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Iw(t);return i?JSON.parse(i):(Lp("Failed to decode base64 JWT payload"),null)}catch(i){return Lp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function oS(n){const e=Km(n);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof zn&&RL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function RL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Md(this.lastLoginAt),this.creationTime=Md(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await vs(n,lP(t,{idToken:r}));de(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?uP(o.providerUserInfo):[],u=PL(n.providerData,l),d=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=d?h:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mv(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function bL(n){const e=Ce(n);await nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uP(n){return n.map(e=>{var{providerId:t}=e,r=Cw(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(n,e){const t=await iP(n,{},async()=>{const r=Gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=sP(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",rP.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function kL(n,e){return jt(n,"POST","/v2/accounts:revokeToken",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");const t=oS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await CL(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new du;return r&&(de(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new du,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(n,e){de(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class cs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Cw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await vs(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return SL(this,e)}reload(){return bL(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await nh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tt(this.auth.app))return Promise.reject(pn(this.auth));const e=await this.getIdToken();return await vs(this,IL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,u,d,h,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,S=(u=t.tenantId)!==null&&u!==void 0?u:void 0,b=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,V=(h=t.createdAt)!==null&&h!==void 0?h:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:z,isAnonymous:j,providerData:W,stsTokenManager:D}=t;de(M&&D,e,"internal-error");const A=du.fromJSON(this.name,D);de(typeof M=="string",e,"internal-error"),ro(g,e.name),ro(_,e.name),de(typeof z=="boolean",e,"internal-error"),de(typeof j=="boolean",e,"internal-error"),ro(T,e.name),ro(I,e.name),ro(S,e.name),ro(b,e.name),ro(V,e.name),ro(L,e.name);const C=new cs({uid:M,auth:e,email:_,emailVerified:z,displayName:g,isAnonymous:j,photoURL:I,phoneNumber:T,tenantId:S,stsTokenManager:A,createdAt:V,lastLoginAt:L});return W&&Array.isArray(W)&&(C.providerData=W.map(E=>Object.assign({},E))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new du;i.updateFromServerResponse(t);const o=new cs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];de(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?uP(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new du;u.updateFromIdToken(r);const d=new cs({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new mv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=new Map;function yr(n){li(n instanceof Function,"Expected a class definition");let e=aS.get(n);return e?(li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,aS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}cP.type="NONE";const Eu=cP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(n,e,t){return`firebase:${n}:${e}:${t}`}class hu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Na(this.userKey,i.apiKey,o),this.fullPersistenceKey=Na("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new hu(yr(Eu),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||yr(Eu);const l=Na(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(l);if(m){const g=cs._fromJSON(e,m);h!==o&&(u=g),o=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new hu(o,e,r):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new hu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mP(e))return"Blackberry";if(gP(e))return"Webos";if(hP(e))return"Safari";if((e.includes("chrome/")||fP(e))&&!e.includes("edge/"))return"Chrome";if(kh(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dP(n=Nt()){return/firefox\//i.test(n)}function hP(n=Nt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fP(n=Nt()){return/crios\//i.test(n)}function pP(n=Nt()){return/iemobile/i.test(n)}function kh(n=Nt()){return/android/i.test(n)}function mP(n=Nt()){return/blackberry/i.test(n)}function gP(n=Nt()){return/webos/i.test(n)}function xh(n=Nt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function xL(n=Nt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function OL(n=Nt()){var e;return xh(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NL(){return Ub()&&document.documentMode===10}function yP(n=Nt()){return xh(n)||kh(n)||gP(n)||mP(n)||/windows phone/i.test(n)||pP(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(n,e=[]){let t;switch(n){case"Browser":t=lS(Nt());break;case"Worker":t=`${lS(Nt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Lo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(n,e={}){return jt(n,"GET","/v2/passwordPolicy",Ut(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=6;class ML{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:LL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uS(this),this.idTokenSubscription=new uS(this),this.beforeStateQueue=new DL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yr(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await hu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await lP(this,{idToken:e}),r=await cs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Tt(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tt(this.app))return Promise.reject(pn(this));const t=e?Ce(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tt(this.app)?Promise.reject(pn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tt(this.app)?Promise.reject(pn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VL(this),t=new ML(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ja("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await kL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yr(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=await hu.create(this,[yr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_P(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Tt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&pL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Dt(n){return Ce(n)}class uS{constructor(e){this.auth=e,this.observer=null,this.addObserver=Bb(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UL(n){Oh=n}function Dw(n){return Oh.loadJS(n)}function jL(){return Oh.recaptchaV2Script}function BL(){return Oh.recaptchaEnterpriseScript}function zL(){return Oh.gapiScript}function vP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=500,qL=6e4,vp=1e12;class WL{constructor(e){this.auth=e,this.counter=vp,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new GL(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||vp;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||vp;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||vp;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class HL{constructor(){this.enterprise=new KL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class KL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class GL{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;de(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=QL(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},qL)},$L))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function QL(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const YL="recaptcha-enterprise",Fd="NO_RECAPTCHA";class wP{constructor(e){this.type=YL,this.auth=Dt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{aP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new oP(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(o,l,u){const d=window.grecaptcha;sS(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(Fd)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HL().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!t&&sS(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=BL();d.length!==0&&(d+=u),Dw(d).then(()=>{i(u,o,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function sd(n,e,t,r=!1,i=!1){const o=new wP(n);let l;if(i)l=Fd;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function mo(n,e,t,r,i){var o,l;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await sd(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await sd(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const u=await sd(n,e,t);return r(n,u).catch(async d=>{var h;if(((h=n._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const m=await sd(n,e,t,!1,!0);return r(n,m)}return Promise.reject(d)})}else{const u=await sd(n,e,t,!1,!0);return r(n,u)}else return Promise.reject(i+" provider is not supported.")}async function JL(n){const e=Dt(n),t=await aP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new oP(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new wP(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(n,e){const t=Hm(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(ys(o,e??{}))return i;mn(i,"already-initialized")}return t.initialize({options:e})}function ZL(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(yr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function EP(n,e,t){const r=Dt(n);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=IP(e),{host:l,port:u}=eM(e),d=u===null?"":`:${u}`,h={url:`${o}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(ys(h,r.config.emulator)&&ys(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,i||tM()}function IP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function eM(n){const e=IP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:cS(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:cS(l)}}}function cS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function tM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(n,e){return jt(n,"POST","/v1/accounts:resetPassword",Ut(n,e))}async function nM(n,e){return jt(n,"POST","/v1/accounts:update",e)}async function rM(n,e){return jt(n,"POST","/v1/accounts:signUp",e)}async function iM(n,e){return jt(n,"POST","/v1/accounts:update",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(n,e){return Rs(n,"POST","/v1/accounts:signInWithPassword",Ut(n,e))}async function Gm(n,e){return jt(n,"POST","/v1/accounts:sendOobCode",Ut(n,e))}async function oM(n,e){return Gm(n,e)}async function aM(n,e){return Gm(n,e)}async function lM(n,e){return Gm(n,e)}async function uM(n,e){return Gm(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(n,e){return Rs(n,"POST","/v1/accounts:signInWithEmailLink",Ut(n,e))}async function dM(n,e){return Rs(n,"POST","/v1/accounts:signInWithEmailLink",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends Ju{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new rh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new rh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mo(e,t,"signInWithPassword",sM,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return cM(e,{email:this._email,oobCode:this._password});default:mn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mo(e,r,"signUpPassword",rM,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return dM(e,{idToken:t,email:this._email,oobCode:this._password});default:mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ms(n,e){return Rs(n,"POST","/v1/accounts:signInWithIdp",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="http://localhost";class Bi extends Ju{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Cw(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Bi(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ms(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ms(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ms(e,t)}buildRequest(){const e={requestUri:hM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dS(n,e){return jt(n,"POST","/v1/accounts:sendVerificationCode",Ut(n,e))}async function fM(n,e){return Rs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ut(n,e))}async function pM(n,e){const t=await Rs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ut(n,e));if(t.temporaryProof)throw Cd(n,"account-exists-with-different-credential",t);return t}const mM={USER_NOT_FOUND:"user-not-found"};async function gM(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Rs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ut(n,t),mM)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Ju{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Da({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Da({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return fM(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return pM(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return gM(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new Da({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _M(n){const e=uu(Pd(n)).link,t=e?uu(Pd(e)).deep_link_id:null,r=uu(Pd(n)).deep_link_id;return(r?uu(Pd(r)).link:null)||r||t||e||n}class Qm{constructor(e){var t,r,i,o,l,u;const d=uu(Pd(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=yM((i=d.mode)!==null&&i!==void 0?i:null);de(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=_M(e);try{return new Qm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,t){return rh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Qm.parseLink(t);return de(r,"argument-error"),rh._fromEmailAndCode(e,r.code,r.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends As{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fu extends Xu{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return de("providerId"in t&&"signInMethod"in t,"argument-error"),Bi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return de(e.idToken||e.accessToken,"argument-error"),Bi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return fu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return fu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:l,providerId:u}=e;if(!r&&!i&&!t&&!o||!u)return null;try{return new fu(u)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Xu{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bi._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ci.credential(t,r)}catch{return null}}}Ci.GOOGLE_SIGN_IN_METHOD="google.com";Ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Xu{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.GITHUB_SIGN_IN_METHOD="github.com";ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="http://localhost";class Iu extends Ju{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return ms(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ms(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ms(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new Iu(r,o)}static _create(e,t){return new Iu(e,t)}buildRequest(){return{requestUri:vM,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="saml.";class hm extends As{constructor(e){de(e.startsWith(wM),"argument-error"),super(e)}static credentialFromResult(e){return hm.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return hm.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Iu.fromJSON(e);return de(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Iu._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Xu{constructor(){super("twitter.com")}static credential(e,t){return Bi._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return xi.credential(t,r)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(n,e){return Rs(n,"POST","/v1/accounts:signUp",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await cs._fromIdTokenResponse(e,r,i),l=hS(r);return new jr({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=hS(r);return new jr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function hS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(n){var e;if(Tt(n.app))return Promise.reject(pn(n));const t=Dt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new jr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await SP(t,{returnSecureToken:!0}),i=await jr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends zn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new fm(e,t,r,i)}}function RP(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fm._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(n,e){const t=Ce(n);await Ym(!0,t,e);const{providerUserInfo:r}=await TL(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=AP(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function Vw(n,e,t=!1){const r=await vs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return jr._forOperation(n,"link",r)}async function Ym(n,e,t){await nh(e);const r=AP(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";de(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(n,e,t=!1){const{auth:r}=n;if(Tt(r.app))return Promise.reject(pn(r));const i="reauthenticate";try{const o=await vs(n,RP(r,i,e,n),t);de(o.idToken,r,"internal-error");const l=Km(o.idToken);de(l,r,"internal-error");const{sub:u}=l;return de(n.uid===u,r,"user-mismatch"),jr._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&mn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(n,e,t=!1){if(Tt(n.app))return Promise.reject(pn(n));const r="signIn",i=await RP(n,r,e),o=await jr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function Jm(n,e){return PP(Dt(n),e)}async function CP(n,e){const t=Ce(n);return await Ym(!1,t,e.providerId),Vw(t,e)}async function kP(n,e){return bP(Ce(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(n,e){return Rs(n,"POST","/v1/accounts:signInWithCustomToken",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(n,e){if(Tt(n.app))return Promise.reject(pn(n));const t=Dt(n),r=await TM(t,{token:e,returnSecureToken:!0}),i=await jr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Lw._fromServerResponse(e,t):"totpInfo"in t?Mw._fromServerResponse(e,t):mn(e,"internal-error")}}class Lw extends Nh{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Lw(t)}}class Mw extends Nh{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Mw(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(n,e,t){var r;de(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),de(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),de(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(de(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(de(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fw(n){const e=Dt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RM(n,e,t){const r=Dt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Xm(r,i,t),await mo(r,i,"getOobCode",aM,"EMAIL_PASSWORD_PROVIDER")}async function AM(n,e,t){await TP(Ce(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Fw(n),r})}async function bM(n,e){await iM(Ce(n),{oobCode:e})}async function xP(n,e){const t=Ce(n),r=await TP(t,{oobCode:e}),i=r.requestType;switch(de(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(r.mfaInfo,t,"internal-error");default:de(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Nh._fromServerResponse(Dt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function PM(n,e){const{data:t}=await xP(Ce(n),e);return t.email}async function OP(n,e,t){if(Tt(n.app))return Promise.reject(pn(n));const r=Dt(n),l=await mo(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SP,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Fw(n),d}),u=await jr._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function NP(n,e,t){return Tt(n.app)?Promise.reject(pn(n)):Jm(Ce(n),Mo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Fw(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(n,e,t){const r=Dt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(l,u){de(u.handleCodeInApp,r,"argument-error"),u&&Xm(r,l,u)}o(i,t),await mo(r,i,"getOobCode",lM,"EMAIL_PASSWORD_PROVIDER")}function kM(n,e){const t=Qm.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function xM(n,e,t){if(Tt(n.app))return Promise.reject(pn(n));const r=Ce(n),i=Mo.credentialWithLink(e,t||th());return de(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Jm(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(n,e){return jt(n,"POST","/v1/accounts:createAuthUri",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NM(n,e){const t=Ow()?th():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await OM(Ce(n),r);return i||[]}async function DM(n,e){const t=Ce(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Xm(t.auth,i,e);const{email:o}=await oM(t.auth,i);o!==n.email&&await n.reload()}async function VM(n,e,t){const r=Ce(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Xm(r.auth,o,t);const{email:l}=await uM(r.auth,o);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(n,e){return jt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ce(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await vs(r,LM(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function FM(n,e){const t=Ce(n);return Tt(t.auth.app)?Promise.reject(pn(t.auth)):DP(t,e,null)}function UM(n,e){return DP(Ce(n),null,e)}async function DP(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const l=await vs(n,nM(r,o));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=Km(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const u=l!=="anonymous"&&l!=="custom"?l:null;return new pu(o,u)}}if(!r)return null;switch(r){case"facebook.com":return new BM(o,i);case"github.com":return new zM(o,i);case"google.com":return new $M(o,i);case"twitter.com":return new qM(o,i,n.screenName||null);case"custom":case"anonymous":return new pu(o,null);default:return new pu(o,r,i)}}class pu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class VP extends pu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class BM extends pu{constructor(e,t){super(e,"facebook.com",t)}}class zM extends VP{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class $M extends pu{constructor(e,t){super(e,"google.com",t)}}class qM extends VP{constructor(e,t,r){super(e,"twitter.com",t,r)}}function WM(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:jM(t)}function HM(n,e,t,r){return Ce(n).onIdTokenChanged(e,t,r)}function KM(n,e,t){return Ce(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Pa("enroll",e,t)}static _fromMfaPendingCredential(e){return new Pa("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return Pa._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Pa._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Dt(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(u=>Nh._fromServerResponse(r,u));de(i.mfaPendingCredential,r,"internal-error");const l=Pa._fromMfaPendingCredential(i.mfaPendingCredential);return new Uw(l,o,async u=>{const d=await u._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const h=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const m=await jr._fromIdTokenResponse(r,t.operationType,h);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return de(t.user,r,"internal-error"),jr._forOperation(t.user,t.operationType,h);default:mn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function GM(n,e){var t;const r=Ce(n),i=e;return de(e.customData.operationType,r,"argument-error"),de((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),Uw._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:start",Ut(n,e))}function QM(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(n,e))}function YM(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(n,e))}class jw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Nh._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new jw(e)}async getSession(){return Pa._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await vs(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await vs(this.user,YM(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const V_=new WeakMap;function JM(n){const e=Ce(n);return V_.has(e)||V_.set(e,jw._fromUser(e)),V_.get(e)}const pm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pm,"1"),this.storage.removeItem(pm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=1e3,ZM=10;class MP extends LP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);NL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ZM):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},XM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}MP.type="LOCAL";const Zm=MP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP extends LP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}FP.type="SESSION";const Io=FP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new eg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(t.origin,o)),d=await eF(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const h=Dh("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return window}function nF(n){Xt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){return typeof Xt().WorkerGlobalScope<"u"&&typeof Xt().importScripts=="function"}async function rF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iF(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function sF(){return Bw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="firebaseLocalStorageDb",oF=1,mm="firebaseLocalStorage",jP="fbase_key";class Vh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tg(n,e){return n.transaction([mm],e?"readwrite":"readonly").objectStore(mm)}function aF(){const n=indexedDB.deleteDatabase(UP);return new Vh(n).toPromise()}function gv(){const n=indexedDB.open(UP,oF);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(mm,{keyPath:jP})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(mm)?e(r):(r.close(),await aF(),e(await gv()))})})}async function pS(n,e,t){const r=tg(n,!0).put({[jP]:e,value:t});return new Vh(r).toPromise()}async function lF(n,e){const t=tg(n,!1).get(e),r=await new Vh(t).toPromise();return r===void 0?null:r.value}function mS(n,e){const t=tg(n,!0).delete(e);return new Vh(t).toPromise()}const uF=800,cF=3;class BP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>cF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eg._getInstance(sF()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await rF(),!this.activeServiceWorker)return;this.sender=new tF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gv();return await pS(e,pm,"1"),await mS(e,pm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>pS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>lF(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>mS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=tg(i,!1).getAll();return new Vh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BP.type="LOCAL";const Tu=BP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(n,e){return jt(n,"POST","/v2/accounts/mfaSignIn:start",Ut(n,e))}function dF(n,e){return jt(n,"POST","/v2/accounts/mfaSignIn:finalize",Ut(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=vP("rcb"),hF=new Ch(3e4,6e4);class fF{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Xt().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return de(pF(t),e,"argument-error"),this.shouldResolveImmediately(t)&&iS(Xt().grecaptcha)?Promise.resolve(Xt().grecaptcha):new Promise((r,i)=>{const o=Xt().setTimeout(()=>{i(on(e,"network-request-failed"))},hF.get());Xt()[L_]=()=>{Xt().clearTimeout(o),delete Xt()[L_];const u=Xt().grecaptcha;if(!u||!iS(u)){i(on(e,"internal-error"));return}const d=u.render;u.render=(h,m)=>{const g=d(h,m);return this.counter++,g},this.hostLanguage=t,r(u)};const l=`${jL()}?${Gu({onload:L_,render:"explicit",hl:t})}`;Dw(l).catch(()=>{clearTimeout(o),i(on(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Xt().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function pF(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class mF{async load(e){return new WL(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="recaptcha",gF={theme:"light",type:"image"};let yF=class{constructor(e,t,r=Object.assign({},gF)){this.parameters=r,this.type=Ud,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dt(e),this.isInvisible=this.parameters.size==="invisible",de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;de(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mF:new fF,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=l=>{l&&(this.tokenChangeListeners.delete(o),i(l))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Xt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){de(Ow()&&!Bw(),this.auth,"internal-error"),await _F(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await EL(this.auth);de(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function _F(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Da._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function vF(n,e,t){if(Tt(n.app))return Promise.reject(pn(n));const r=Dt(n),i=await ng(r,e,Ce(t));return new zw(i,o=>Jm(r,o))}async function wF(n,e,t){const r=Ce(n);await Ym(!1,r,"phone");const i=await ng(r.auth,e,Ce(t));return new zw(i,o=>CP(r,o))}async function EF(n,e,t){const r=Ce(n);if(Tt(r.auth.app))return Promise.reject(pn(r.auth));const i=await ng(r.auth,e,Ce(t));return new zw(i,o=>kP(r,o))}async function ng(n,e,t){var r;if(!n._getRecaptchaConfig())try{await JL(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){de(o.type==="enroll",n,"internal-error");const l={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await mo(n,l,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===Fd){de((t==null?void 0:t.type)===Ud,m,"argument-error");const _=await M_(m,g,t);return fS(m,_)}return fS(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{de(o.type==="signin",n,"internal-error");const l=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;de(l,n,"missing-multi-factor-info");const u={mfaPendingCredential:o.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await mo(n,u,"mfaSmsSignIn",async(g,_)=>{if(_.phoneSignInInfo.captchaResponse===Fd){de((t==null?void 0:t.type)===Ud,g,"argument-error");const T=await M_(g,_,t);return gS(g,T)}return gS(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await mo(n,o,"sendVerificationCode",async(h,m)=>{if(m.captchaResponse===Fd){de((t==null?void 0:t.type)===Ud,h,"argument-error");const g=await M_(h,m,t);return dS(h,g)}return dS(h,m)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{t==null||t._reset()}}async function IF(n,e){const t=Ce(n);if(Tt(t.auth.app))return Promise.reject(pn(t.auth));await Vw(t,e)}async function M_(n,e,t){de(t.type===Ud,n,"argument-error");const r=await t.verify();de(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:l,clientType:u,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:l,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa=class Mp{constructor(e){this.providerId=Mp.PROVIDER_ID,this.auth=Dt(e)}verifyPhoneNumber(e,t){return ng(this.auth,e,Ce(t))}static credential(e,t){return Da._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Mp.credentialFromTaggedObject(t)}static credentialFromError(e){return Mp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Da._fromTokenResponse(t,r):null}};Fa.PROVIDER_ID="phone";Fa.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(n,e){return e?yr(e):(de(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w extends Ju{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ms(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ms(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function TF(n){return PP(n.auth,new $w(n),n.bypassAuthState)}function SF(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),bP(t,new $w(n),n.bypassAuthState)}async function RF(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),Vw(t,new $w(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TF;case"linkViaPopup":case"linkViaRedirect":return RF;case"reauthViaPopup":case"reauthViaRedirect":return SF;default:mn(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=new Ch(2e3,1e4);async function bF(n,e,t){if(Tt(n.app))return Promise.reject(on(n,"operation-not-supported-in-this-environment"));const r=Dt(n);Yu(n,e,As);const i=Xa(r,t);return new ds(r,"signInViaPopup",e,i).executeNotNull()}async function PF(n,e,t){const r=Ce(n);if(Tt(r.auth.app))return Promise.reject(on(r.auth,"operation-not-supported-in-this-environment"));Yu(r.auth,e,As);const i=Xa(r.auth,t);return new ds(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function CF(n,e,t){const r=Ce(n);Yu(r.auth,e,As);const i=Xa(r.auth,t);return new ds(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ds extends zP{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ds.currentPopupAction&&ds.currentPopupAction.cancel(),ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=Dh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AF.get())};e()}}ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="pendingRedirect",jd=new Map;class xF extends zP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=jd.get(this.auth._key());if(!e){try{const r=await OF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}jd.set(this.auth._key(),e)}return this.bypassAuthState||jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OF(n,e){const t=qP(e),r=$P(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function qw(n,e){return $P(n)._set(qP(e),"true")}function NF(){jd.clear()}function Ww(n,e){jd.set(n._key(),e)}function $P(n){return yr(n._redirectPersistence)}function qP(n){return Na(kF,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(n,e,t){return VF(n,e,t)}async function VF(n,e,t){if(Tt(n.app))return Promise.reject(pn(n));const r=Dt(n);Yu(n,e,As),await r._initializationPromise;const i=Xa(r,t);return await qw(i,r),i._openRedirect(r,e,"signInViaRedirect")}function LF(n,e,t){return MF(n,e,t)}async function MF(n,e,t){const r=Ce(n);if(Yu(r.auth,e,As),Tt(r.auth.app))return Promise.reject(pn(r.auth));await r.auth._initializationPromise;const i=Xa(r.auth,t);await qw(i,r.auth);const o=await WP(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function FF(n,e,t){return UF(n,e,t)}async function UF(n,e,t){const r=Ce(n);Yu(r.auth,e,As),await r.auth._initializationPromise;const i=Xa(r.auth,t);await Ym(!1,r,e.providerId),await qw(i,r.auth);const o=await WP(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function jF(n,e){return await Dt(n)._initializationPromise,rg(n,e,!1)}async function rg(n,e,t=!1){if(Tt(n.app))return Promise.reject(pn(n));const r=Dt(n),i=Xa(r,e),l=await new xF(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function WP(n){const e=Dh(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=10*60*1e3;class HP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zF(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!KP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(on(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BF&&this.cachedEventUids.clear(),this.cachedEventUids.has(yS(e))}saveEventToCache(e){this.cachedEventUids.add(yS(e)),this.lastProcessedEventTime=Date.now()}}function yS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function KP({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(n,e={}){return jt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qF=/^https?/;async function WF(n){if(n.config.emulator)return;const{authorizedDomains:e}=await GP(n);for(const t of e)try{if(HF(t))return}catch{}mn(n,"unauthorized-domain")}function HF(n){const e=th(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!qF.test(t))return!1;if($F.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=new Ch(3e4,6e4);function _S(){const n=Xt().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function GF(n){return new Promise((e,t)=>{var r,i,o;function l(){_S(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_S(),t(on(n,"network-request-failed"))},timeout:KF.get()})}if(!((i=(r=Xt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Xt().gapi)===null||o===void 0)&&o.load)l();else{const u=vP("iframefcb");return Xt()[u]=()=>{gapi.load?l():t(on(n,"network-request-failed"))},Dw(`${zL()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw Fp=null,e})}let Fp=null;function QF(n){return Fp=Fp||GF(n),Fp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=new Ch(5e3,15e3),JF="__/auth/iframe",XF="emulator/auth/iframe",ZF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t4(n){const e=n.config;de(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Nw(e,XF):`https://${n.config.authDomain}/${JF}`,r={apiKey:e.apiKey,appName:n.name,v:Lo},i=e4.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Gu(r).slice(1)}`}async function n4(n){const e=await QF(n),t=Xt().gapi;return de(t,n,"internal-error"),e.open({where:document.body,url:t4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZF,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=on(n,"network-request-failed"),u=Xt().setTimeout(()=>{o(l)},YF.get());function d(){Xt().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i4=500,s4=600,o4="_blank",a4="http://localhost";class vS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l4(n,e,t,r=i4,i=s4){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},r4),{width:r.toString(),height:i.toString(),top:o,left:l}),h=Nt().toLowerCase();t&&(u=fP(h)?o4:t),dP(h)&&(e=e||a4,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,I])=>`${_}${T}=${I},`,"");if(OL(h)&&u!=="_self")return u4(e||"",u),new vS(null);const g=window.open(e||"",u,m);de(g,n,"popup-blocked");try{g.focus()}catch{}return new vS(g)}function u4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="__/auth/handler",d4="emulator/auth/handler",h4=encodeURIComponent("fac");async function yv(n,e,t,r,i,o){de(n.config.authDomain,n,"auth-domain-config-required"),de(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Lo,eventId:i};if(e instanceof As){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",B2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries(o||{}))l[m]=g}if(e instanceof Xu){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),h=d?`#${h4}=${encodeURIComponent(d)}`:"";return`${f4(n)}?${Gu(u).slice(1)}${h}`}function f4({config:n}){return n.emulator?Nw(n,d4):`https://${n.authDomain}/${c4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="webStorageSupport";class p4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Io,this._completeRedirectFn=rg,this._overrideRedirectResult=Ww}async _openPopup(e,t,r,i){var o;li((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await yv(e,t,r,th(),i);return l4(e,l,Dh())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await yv(e,t,r,th(),i);return nF(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(li(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await n4(e),r=new HP(e);return t.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(F_,{type:F_},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[F_];l!==void 0&&t(!!l),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WF(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yP()||hP()||xh()}}const QP=p4;class m4{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ni("unexpected MultiFactorSessionType")}}}class Hw extends m4{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Hw(e)}_finalizeEnroll(e,t,r){return QM(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return dF(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class YP{constructor(){}static assertion(e){return Hw._fromCredential(e)}}YP.FACTOR_ID="phone";var wS="@firebase/auth",ES="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _4(n){Eo(new ji("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;de(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_P(n)},h=new FL(r,i,o,d);return ZL(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Eo(new ji("auth-internal",e=>{const t=Dt(e.getProvider("auth").getImmediate());return(r=>new g4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(wS,ES,y4(n)),ai(wS,ES,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=5*60,w4=Lb("authIdTokenMaxAge")||v4;let IS=null;const E4=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>w4)return;const i=t==null?void 0:t.token;IS!==i&&(IS=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function I4(n=Qb()){const e=Hm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=XL(n,{popupRedirectResolver:QP,persistence:[Tu,Zm,Io]}),r=Lb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=E4(o.toString());KM(t,l,()=>l(t.currentUser)),HM(t,u=>l(u))}}const i=x2("auth");return i&&EP(t,`http://${i}`),t}function T4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}UL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=on("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",T4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_4("Browser");var TS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var go,JP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function C(){}C.prototype=A.prototype,D.D=A.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(E,O,k){for(var x=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)x[ee-2]=arguments[ee];return A.prototype[O].apply(E,x)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,A,C){C||(C=0);var E=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)E[O]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(O=0;16>O;++O)E[O]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=D.g[0],C=D.g[1],O=D.g[2];var k=D.g[3],x=A+(k^C&(O^k))+E[0]+3614090360&4294967295;A=C+(x<<7&4294967295|x>>>25),x=k+(O^A&(C^O))+E[1]+3905402710&4294967295,k=A+(x<<12&4294967295|x>>>20),x=O+(C^k&(A^C))+E[2]+606105819&4294967295,O=k+(x<<17&4294967295|x>>>15),x=C+(A^O&(k^A))+E[3]+3250441966&4294967295,C=O+(x<<22&4294967295|x>>>10),x=A+(k^C&(O^k))+E[4]+4118548399&4294967295,A=C+(x<<7&4294967295|x>>>25),x=k+(O^A&(C^O))+E[5]+1200080426&4294967295,k=A+(x<<12&4294967295|x>>>20),x=O+(C^k&(A^C))+E[6]+2821735955&4294967295,O=k+(x<<17&4294967295|x>>>15),x=C+(A^O&(k^A))+E[7]+4249261313&4294967295,C=O+(x<<22&4294967295|x>>>10),x=A+(k^C&(O^k))+E[8]+1770035416&4294967295,A=C+(x<<7&4294967295|x>>>25),x=k+(O^A&(C^O))+E[9]+2336552879&4294967295,k=A+(x<<12&4294967295|x>>>20),x=O+(C^k&(A^C))+E[10]+4294925233&4294967295,O=k+(x<<17&4294967295|x>>>15),x=C+(A^O&(k^A))+E[11]+2304563134&4294967295,C=O+(x<<22&4294967295|x>>>10),x=A+(k^C&(O^k))+E[12]+1804603682&4294967295,A=C+(x<<7&4294967295|x>>>25),x=k+(O^A&(C^O))+E[13]+4254626195&4294967295,k=A+(x<<12&4294967295|x>>>20),x=O+(C^k&(A^C))+E[14]+2792965006&4294967295,O=k+(x<<17&4294967295|x>>>15),x=C+(A^O&(k^A))+E[15]+1236535329&4294967295,C=O+(x<<22&4294967295|x>>>10),x=A+(O^k&(C^O))+E[1]+4129170786&4294967295,A=C+(x<<5&4294967295|x>>>27),x=k+(C^O&(A^C))+E[6]+3225465664&4294967295,k=A+(x<<9&4294967295|x>>>23),x=O+(A^C&(k^A))+E[11]+643717713&4294967295,O=k+(x<<14&4294967295|x>>>18),x=C+(k^A&(O^k))+E[0]+3921069994&4294967295,C=O+(x<<20&4294967295|x>>>12),x=A+(O^k&(C^O))+E[5]+3593408605&4294967295,A=C+(x<<5&4294967295|x>>>27),x=k+(C^O&(A^C))+E[10]+38016083&4294967295,k=A+(x<<9&4294967295|x>>>23),x=O+(A^C&(k^A))+E[15]+3634488961&4294967295,O=k+(x<<14&4294967295|x>>>18),x=C+(k^A&(O^k))+E[4]+3889429448&4294967295,C=O+(x<<20&4294967295|x>>>12),x=A+(O^k&(C^O))+E[9]+568446438&4294967295,A=C+(x<<5&4294967295|x>>>27),x=k+(C^O&(A^C))+E[14]+3275163606&4294967295,k=A+(x<<9&4294967295|x>>>23),x=O+(A^C&(k^A))+E[3]+4107603335&4294967295,O=k+(x<<14&4294967295|x>>>18),x=C+(k^A&(O^k))+E[8]+1163531501&4294967295,C=O+(x<<20&4294967295|x>>>12),x=A+(O^k&(C^O))+E[13]+2850285829&4294967295,A=C+(x<<5&4294967295|x>>>27),x=k+(C^O&(A^C))+E[2]+4243563512&4294967295,k=A+(x<<9&4294967295|x>>>23),x=O+(A^C&(k^A))+E[7]+1735328473&4294967295,O=k+(x<<14&4294967295|x>>>18),x=C+(k^A&(O^k))+E[12]+2368359562&4294967295,C=O+(x<<20&4294967295|x>>>12),x=A+(C^O^k)+E[5]+4294588738&4294967295,A=C+(x<<4&4294967295|x>>>28),x=k+(A^C^O)+E[8]+2272392833&4294967295,k=A+(x<<11&4294967295|x>>>21),x=O+(k^A^C)+E[11]+1839030562&4294967295,O=k+(x<<16&4294967295|x>>>16),x=C+(O^k^A)+E[14]+4259657740&4294967295,C=O+(x<<23&4294967295|x>>>9),x=A+(C^O^k)+E[1]+2763975236&4294967295,A=C+(x<<4&4294967295|x>>>28),x=k+(A^C^O)+E[4]+1272893353&4294967295,k=A+(x<<11&4294967295|x>>>21),x=O+(k^A^C)+E[7]+4139469664&4294967295,O=k+(x<<16&4294967295|x>>>16),x=C+(O^k^A)+E[10]+3200236656&4294967295,C=O+(x<<23&4294967295|x>>>9),x=A+(C^O^k)+E[13]+681279174&4294967295,A=C+(x<<4&4294967295|x>>>28),x=k+(A^C^O)+E[0]+3936430074&4294967295,k=A+(x<<11&4294967295|x>>>21),x=O+(k^A^C)+E[3]+3572445317&4294967295,O=k+(x<<16&4294967295|x>>>16),x=C+(O^k^A)+E[6]+76029189&4294967295,C=O+(x<<23&4294967295|x>>>9),x=A+(C^O^k)+E[9]+3654602809&4294967295,A=C+(x<<4&4294967295|x>>>28),x=k+(A^C^O)+E[12]+3873151461&4294967295,k=A+(x<<11&4294967295|x>>>21),x=O+(k^A^C)+E[15]+530742520&4294967295,O=k+(x<<16&4294967295|x>>>16),x=C+(O^k^A)+E[2]+3299628645&4294967295,C=O+(x<<23&4294967295|x>>>9),x=A+(O^(C|~k))+E[0]+4096336452&4294967295,A=C+(x<<6&4294967295|x>>>26),x=k+(C^(A|~O))+E[7]+1126891415&4294967295,k=A+(x<<10&4294967295|x>>>22),x=O+(A^(k|~C))+E[14]+2878612391&4294967295,O=k+(x<<15&4294967295|x>>>17),x=C+(k^(O|~A))+E[5]+4237533241&4294967295,C=O+(x<<21&4294967295|x>>>11),x=A+(O^(C|~k))+E[12]+1700485571&4294967295,A=C+(x<<6&4294967295|x>>>26),x=k+(C^(A|~O))+E[3]+2399980690&4294967295,k=A+(x<<10&4294967295|x>>>22),x=O+(A^(k|~C))+E[10]+4293915773&4294967295,O=k+(x<<15&4294967295|x>>>17),x=C+(k^(O|~A))+E[1]+2240044497&4294967295,C=O+(x<<21&4294967295|x>>>11),x=A+(O^(C|~k))+E[8]+1873313359&4294967295,A=C+(x<<6&4294967295|x>>>26),x=k+(C^(A|~O))+E[15]+4264355552&4294967295,k=A+(x<<10&4294967295|x>>>22),x=O+(A^(k|~C))+E[6]+2734768916&4294967295,O=k+(x<<15&4294967295|x>>>17),x=C+(k^(O|~A))+E[13]+1309151649&4294967295,C=O+(x<<21&4294967295|x>>>11),x=A+(O^(C|~k))+E[4]+4149444226&4294967295,A=C+(x<<6&4294967295|x>>>26),x=k+(C^(A|~O))+E[11]+3174756917&4294967295,k=A+(x<<10&4294967295|x>>>22),x=O+(A^(k|~C))+E[2]+718787259&4294967295,O=k+(x<<15&4294967295|x>>>17),x=C+(k^(O|~A))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var C=A-this.blockSize,E=this.B,O=this.h,k=0;k<A;){if(O==0)for(;k<=C;)i(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<A;)if(E[O++]=D.charCodeAt(k++),O==this.blockSize){i(this,E),O=0;break}}else for(;k<A;)if(E[O++]=D[k++],O==this.blockSize){i(this,E),O=0;break}}this.h=O,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var C=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=C&255,C/=256;for(this.u(D),D=Array(16),A=C=0;4>A;++A)for(var E=0;32>E;E+=8)D[C++]=this.g[A]>>>E&255;return D};function o(D,A){var C=u;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=A(D)}function l(D,A){this.h=A;for(var C=[],E=!0,O=D.length-1;0<=O;O--){var k=D[O]|0;E&&k==A||(C[O]=k,E=!1)}this.g=C}var u={};function d(D){return-128<=D&&128>D?o(D,function(A){return new l([A|0],0>A?-1:0)}):new l([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return b(h(-D));for(var A=[],C=1,E=0;D>=C;E++)A[E]=D/C|0,C*=4294967296;return new l(A,0)}function m(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return b(m(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(A,8)),E=g,O=0;O<D.length;O+=8){var k=Math.min(8,D.length-O),x=parseInt(D.substring(O,O+k),A);8>k?(k=h(Math.pow(A,k)),E=E.j(k).add(h(x))):(E=E.j(C),E=E.add(h(x)))}return E}var g=d(0),_=d(1),T=d(16777216);n=l.prototype,n.m=function(){if(S(this))return-b(this).m();for(var D=0,A=1,C=0;C<this.g.length;C++){var E=this.i(C);D+=(0<=E?E:4294967296+E)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(S(this))return"-"+b(this).toString(D);for(var A=h(Math.pow(D,6)),C=this,E="";;){var O=z(C,A).g;C=V(C,O.j(A));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=O,I(C))return k+E;for(;6>k.length;)k="0"+k;E=k+E}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function S(D){return D.h==-1}n.l=function(D){return D=V(this,D),S(D)?-1:I(D)?0:1};function b(D){for(var A=D.g.length,C=[],E=0;E<A;E++)C[E]=~D.g[E];return new l(C,~D.h).add(_)}n.abs=function(){return S(this)?b(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],E=0,O=0;O<=A;O++){var k=E+(this.i(O)&65535)+(D.i(O)&65535),x=(k>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);E=x>>>16,k&=65535,x&=65535,C[O]=x<<16|k}return new l(C,C[C.length-1]&-2147483648?-1:0)};function V(D,A){return D.add(b(A))}n.j=function(D){if(I(this)||I(D))return g;if(S(this))return S(D)?b(this).j(b(D)):b(b(this).j(D));if(S(D))return b(this.j(b(D)));if(0>this.l(T)&&0>D.l(T))return h(this.m()*D.m());for(var A=this.g.length+D.g.length,C=[],E=0;E<2*A;E++)C[E]=0;for(E=0;E<this.g.length;E++)for(var O=0;O<D.g.length;O++){var k=this.i(E)>>>16,x=this.i(E)&65535,ee=D.i(O)>>>16,F=D.i(O)&65535;C[2*E+2*O]+=x*F,L(C,2*E+2*O),C[2*E+2*O+1]+=k*F,L(C,2*E+2*O+1),C[2*E+2*O+1]+=x*ee,L(C,2*E+2*O+1),C[2*E+2*O+2]+=k*ee,L(C,2*E+2*O+2)}for(E=0;E<A;E++)C[E]=C[2*E+1]<<16|C[2*E];for(E=A;E<2*A;E++)C[E]=0;return new l(C,0)};function L(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function M(D,A){this.g=D,this.h=A}function z(D,A){if(I(A))throw Error("division by zero");if(I(D))return new M(g,g);if(S(D))return A=z(b(D),A),new M(b(A.g),b(A.h));if(S(A))return A=z(D,b(A)),new M(b(A.g),A.h);if(30<D.g.length){if(S(D)||S(A))throw Error("slowDivide_ only works with positive integers.");for(var C=_,E=A;0>=E.l(D);)C=j(C),E=j(E);var O=W(C,1),k=W(E,1);for(E=W(E,2),C=W(C,2);!I(E);){var x=k.add(E);0>=x.l(D)&&(O=O.add(C),k=x),E=W(E,1),C=W(C,1)}return A=V(D,O.j(A)),new M(O,A)}for(O=g;0<=D.l(A);){for(C=Math.max(1,Math.floor(D.m()/A.m())),E=Math.ceil(Math.log(C)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),k=h(C),x=k.j(A);S(x)||0<x.l(D);)C-=E,k=h(C),x=k.j(A);I(k)&&(k=_),O=O.add(k),D=V(D,x)}return new M(O,D)}n.A=function(D){return z(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)&D.i(E);return new l(C,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)|D.i(E);return new l(C,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),C=[],E=0;E<A;E++)C[E]=this.i(E)^D.i(E);return new l(C,this.h^D.h)};function j(D){for(var A=D.g.length+1,C=[],E=0;E<A;E++)C[E]=D.i(E)<<1|D.i(E-1)>>>31;return new l(C,D.h)}function W(D,A){var C=A>>5;A%=32;for(var E=D.g.length-C,O=[],k=0;k<E;k++)O[k]=0<A?D.i(k+C)>>>A|D.i(k+C+1)<<32-A:D.i(k+C);return new l(O,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JP=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,go=l}).apply(typeof TS<"u"?TS:typeof self<"u"?self:typeof window<"u"?window:{});var wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XP,kd,ZP,Up,_v,eC,tC,nC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,R){return f==Array.prototype||f==Object.prototype||(f[v]=R.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof wp=="object"&&wp];for(var v=0;v<f.length;++v){var R=f[v];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=t(this);function i(f,v){if(v)e:{var R=r;f=f.split(".");for(var N=0;N<f.length-1;N++){var Q=f[N];if(!(Q in R))break e;R=R[Q]}f=f[f.length-1],N=R[f],v=v(N),v!=N&&v!=null&&e(R,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var R=0,N=!1,Q={next:function(){if(!N&&R<f.length){var ne=R++;return{value:v(ne,f[ne]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(f){return f||function(){return o(this,function(v,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function h(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,R){return f.call.apply(f.bind,arguments)}function g(f,v,R){if(!f)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,N),f.apply(v,Q)}}return function(){return f.apply(v,arguments)}}function _(f,v,R){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,_.apply(null,arguments)}function T(f,v){var R=Array.prototype.slice.call(arguments,1);return function(){var N=R.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function I(f,v){function R(){}R.prototype=v.prototype,f.aa=v.prototype,f.prototype=new R,f.prototype.constructor=f,f.Qb=function(N,Q,ne){for(var ye=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)ye[nt-2]=arguments[nt];return v.prototype[Q].apply(N,ye)}}function S(f){const v=f.length;if(0<v){const R=Array(v);for(let N=0;N<v;N++)R[N]=f[N];return R}return[]}function b(f,v){for(let R=1;R<arguments.length;R++){const N=arguments[R];if(d(N)){const Q=f.length||0,ne=N.length||0;f.length=Q+ne;for(let ye=0;ye<ne;ye++)f[Q+ye]=N[ye]}else f.push(N)}}class V{constructor(v,R){this.i=v,this.j=R,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(f){return/^[\s\xa0]*$/.test(f)}function M(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function z(f){return z[" "](f),f}z[" "]=function(){};var j=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function W(f,v,R){for(const N in f)v.call(R,f[N],N,f)}function D(f,v){for(const R in f)v.call(void 0,f[R],R,f)}function A(f){const v={};for(const R in f)v[R]=f[R];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(f,v){let R,N;for(let Q=1;Q<arguments.length;Q++){N=arguments[Q];for(R in N)f[R]=N[R];for(let ne=0;ne<C.length;ne++)R=C[ne],Object.prototype.hasOwnProperty.call(N,R)&&(f[R]=N[R])}}function O(f){var v=1;f=f.split(":");const R=[];for(;0<v&&f.length;)R.push(f.shift()),v--;return f.length&&R.push(f.join(":")),R}function k(f){u.setTimeout(()=>{throw f},0)}function x(){var f=pe;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class ee{constructor(){this.h=this.g=null}add(v,R){const N=F.get();N.set(v,R),this.h?this.h.next=N:this.g=N,this.h=N}}var F=new V(()=>new fe,f=>f.reset());class fe{constructor(){this.next=this.g=this.h=null}set(v,R){this.h=v,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,X=!1,pe=new ee,me=()=>{const f=u.Promise.resolve(void 0);oe=()=>{f.then(q)}};var q=()=>{for(var f;f=x();){try{f.h.call(f.g)}catch(R){k(R)}var v=F;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}X=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const R=()=>{};u.addEventListener("test",R,v),u.removeEventListener("test",R,v)}catch{}return f}();function Ve(f,v){if(Te.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var R=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(j){e:{try{z(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else R=="mouseover"?v=f.fromElement:R=="mouseout"&&(v=f.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ue[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ve.aa.h.call(this)}}I(Ve,Te);var Ue={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),qe=0;function st(f,v,R,N,Q){this.listener=f,this.proxy=null,this.src=v,this.type=R,this.capture=!!N,this.ha=Q,this.key=++qe,this.da=this.fa=!1}function Kt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ir(f){this.src=f,this.g={},this.h=0}Ir.prototype.add=function(f,v,R,N,Q){var ne=f.toString();f=this.g[ne],f||(f=this.g[ne]=[],this.h++);var ye=gn(f,v,N,Q);return-1<ye?(v=f[ye],R||(v.fa=!1)):(v=new st(v,this.src,ne,!!N,Q),v.fa=R,f.push(v)),v};function Tr(f,v){var R=v.type;if(R in f.g){var N=f.g[R],Q=Array.prototype.indexOf.call(N,v,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(N,Q,1),ne&&(Kt(v),f.g[R].length==0&&(delete f.g[R],f.h--))}}function gn(f,v,R,N){for(var Q=0;Q<f.length;++Q){var ne=f[Q];if(!ne.da&&ne.listener==v&&ne.capture==!!R&&ne.ha==N)return Q}return-1}var zr="closure_lm_"+(1e6*Math.random()|0),xs={};function $o(f,v,R,N,Q){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)$o(f,v[ne],R,N,Q);return null}return R=Rr(R),f&&f[Ke]?f.K(v,R,h(N)?!!N.capture:!1,Q):qo(f,v,R,!1,N,Q)}function qo(f,v,R,N,Q,ne){if(!v)throw Error("Invalid event type");var ye=h(Q)?!!Q.capture:!!Q,nt=_t(f);if(nt||(f[zr]=nt=new Ir(f)),R=nt.add(v,R,N,ye,ne),R.proxy)return R;if(N=rl(),R.proxy=N,N.src=f,N.listener=R,f.addEventListener)ke||(Q=ye),Q===void 0&&(Q=!1),f.addEventListener(v.toString(),N,Q);else if(f.attachEvent)f.attachEvent(Fe(v.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return R}function rl(){function f(R){return v.call(f.src,f.listener,R)}const v=ot;return f}function Os(f,v,R,N,Q){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Os(f,v[ne],R,N,Q);else N=h(N)?!!N.capture:!!N,R=Rr(R),f&&f[Ke]?(f=f.i,v=String(v).toString(),v in f.g&&(ne=f.g[v],R=gn(ne,R,N,Q),-1<R&&(Kt(ne[R]),Array.prototype.splice.call(ne,R,1),ne.length==0&&(delete f.g[v],f.h--)))):f&&(f=_t(f))&&(v=f.g[v.toString()],f=-1,v&&(f=gn(v,R,N,Q)),(R=-1<f?v[f]:null)&&Sr(R))}function Sr(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Ke])Tr(v.i,f);else{var R=f.type,N=f.proxy;v.removeEventListener?v.removeEventListener(R,N,f.capture):v.detachEvent?v.detachEvent(Fe(R),N):v.addListener&&v.removeListener&&v.removeListener(N),(R=_t(v))?(Tr(R,f),R.h==0&&(R.src=null,v[zr]=null)):Kt(f)}}}function Fe(f){return f in xs?xs[f]:xs[f]="on"+f}function ot(f,v){if(f.da)f=!0;else{v=new Ve(v,this);var R=f.listener,N=f.ha||f.src;f.fa&&Sr(f),f=R.call(N,v)}return f}function _t(f){return f=f[zr],f instanceof Ir?f:null}var $r="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rr(f){return typeof f=="function"?f:(f[$r]||(f[$r]=function(v){return f.handleEvent(v)}),f[$r])}function dt(){ie.call(this),this.i=new Ir(this),this.M=this,this.F=null}I(dt,ie),dt.prototype[Ke]=!0,dt.prototype.removeEventListener=function(f,v,R,N){Os(this,f,v,R,N)};function tt(f,v){var R,N=f.F;if(N)for(R=[];N;N=N.F)R.push(N);if(f=f.M,N=v.type||v,typeof v=="string")v=new Te(v,f);else if(v instanceof Te)v.target=v.target||f;else{var Q=v;v=new Te(N,f),E(v,Q)}if(Q=!0,R)for(var ne=R.length-1;0<=ne;ne--){var ye=v.g=R[ne];Q=yn(ye,N,!0,v)&&Q}if(ye=v.g=f,Q=yn(ye,N,!0,v)&&Q,Q=yn(ye,N,!1,v)&&Q,R)for(ne=0;ne<R.length;ne++)ye=v.g=R[ne],Q=yn(ye,N,!1,v)&&Q}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var R=f.g[v],N=0;N<R.length;N++)Kt(R[N]);delete f.g[v],f.h--}}this.F=null},dt.prototype.K=function(f,v,R,N){return this.i.add(String(f),v,!1,R,N)},dt.prototype.L=function(f,v,R,N){return this.i.add(String(f),v,!0,R,N)};function yn(f,v,R,N){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,ne=0;ne<v.length;++ne){var ye=v[ne];if(ye&&!ye.da&&ye.capture==R){var nt=ye.listener,nn=ye.ha||ye.src;ye.fa&&Tr(f.i,ye),Q=nt.call(nn,N)!==!1&&Q}}return Q&&!N.defaultPrevented}function Ki(f,v,R){if(typeof f=="function")R&&(f=_(f,R));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(f,v||0)}function Ns(f){f.g=Ki(()=>{f.g=null,f.i&&(f.i=!1,Ns(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class Wo extends ie{constructor(v,R){super(),this.m=v,this.l=R,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ns(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ho(f){ie.call(this),this.h=f,this.g={}}I(Ho,ie);var hc=[];function fc(f){W(f.g,function(v,R){this.g.hasOwnProperty(R)&&Sr(v)},f),f.g={}}Ho.prototype.N=function(){Ho.aa.N.call(this),fc(this)},Ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pc=u.JSON.stringify,mc=u.JSON.parse,gc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Ko(){}Ko.prototype.h=null;function il(f){return f.h||(f.h=f.i())}function sl(){}var Ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ci(){Te.call(this,"d")}I(ci,Te);function ol(){Te.call(this,"c")}I(ol,Te);var di={},yc=null;function Go(){return yc=yc||new dt}di.La="serverreachability";function _c(f){Te.call(this,di.La,f)}I(_c,Te);function Gi(f){const v=Go();tt(v,new _c(v))}di.STAT_EVENT="statevent";function vc(f,v){Te.call(this,di.STAT_EVENT,f),this.stat=v}I(vc,Te);function Bt(f){const v=Go();tt(v,new vc(v,f))}di.Ma="timingevent";function al(f,v){Te.call(this,di.Ma,f),this.size=v}I(al,Te);function qr(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},v)}function Qo(){this.g=!0}Qo.prototype.xa=function(){this.g=!1};function Yo(f,v,R,N,Q,ne){f.info(function(){if(f.g)if(ne)for(var ye="",nt=ne.split("&"),nn=0;nn<nt.length;nn++){var Ge=nt[nn].split("=");if(1<Ge.length){var ln=Ge[0];Ge=Ge[1];var Gt=ln.split("_");ye=2<=Gt.length&&Gt[1]=="type"?ye+(ln+"="+Ge+"&"):ye+(ln+"=redacted&")}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+N+") [attempt "+Q+"]: "+v+`
`+R+`
`+ye})}function ll(f,v,R,N,Q,ne,ye){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Q+"]: "+v+`
`+R+`
`+ne+" "+ye})}function Wr(f,v,R,N){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Yg(f,R)+(N?" "+N:"")})}function wc(f,v){f.info(function(){return"TIMEOUT: "+v})}Qo.prototype.info=function(){};function Yg(f,v){if(!f.g)return v;if(!v)return null;try{var R=JSON.parse(v);if(R){for(f=0;f<R.length;f++)if(Array.isArray(R[f])){var N=R[f];if(!(2>N.length)){var Q=N[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ye=1;ye<Q.length;ye++)Q[ye]=""}}}}return pc(R)}catch{return v}}var ul={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hr;function Jo(){}I(Jo,Ko),Jo.prototype.g=function(){return new XMLHttpRequest},Jo.prototype.i=function(){return{}},Hr=new Jo;function Kr(f,v,R,N){this.j=f,this.i=v,this.l=R,this.R=N||1,this.U=new Ho(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rf}function rf(){this.i=null,this.g="",this.h=!1}var Ec={},cl={};function dl(f,v,R){f.L=1,f.v=Fs(or(v)),f.m=R,f.P=!0,Ic(f,null)}function Ic(f,v){f.F=Date.now(),ht(f),f.A=or(f.v);var R=f.A,N=f.R;Array.isArray(N)||(N=[String(N)]),js(R.i,"t",N),f.C=0,R=f.j.J,f.h=new rf,f.g=If(f.j,R?v:null,!f.m),0<f.O&&(f.M=new Wo(_(f.Y,f,f.g),f.O)),v=f.U,R=f.g,N=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(hc[0]=Q.toString()),Q=hc);for(var ne=0;ne<Q.length;ne++){var ye=$o(R,Q[ne],N||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),Gi(),Yo(f.i,f.u,f.A,f.l,f.R,f.m)}Kr.prototype.ca=function(f){f=f.target;const v=this.M;v&&Hn(f)==3?v.j():this.Y(f)},Kr.prototype.Y=function(f){try{if(f==this.g)e:{const Gt=Hn(this.g);var v=this.g.Ba();const Cr=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Pc(this.g)))){this.J||Gt!=4||v==7||(v==8||0>=Cr?Gi(3):Gi(2)),Xo(this);var R=this.g.Z();this.X=R;t:if(sf(this)){var N=Pc(this.g);f="";var Q=N.length,ne=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){br(this),Ds(this);var ye="";break t}this.h.i=new u.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,f+=this.h.i.decode(N[v],{stream:!(ne&&v==Q-1)});N.length=0,this.h.g+=f,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=R==200,ll(this.i,this.u,this.A,this.l,this.R,Gt,R),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,nn=this.g;if((nt=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(nt)){var Ge=nt;break t}}Ge=null}if(R=Ge)Wr(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tc(this,R);else{this.o=!1,this.s=3,Bt(12),br(this),Ds(this);break e}}if(this.P){R=!0;let lr;for(;!this.J&&this.C<ye.length;)if(lr=Jg(this,ye),lr==cl){Gt==4&&(this.s=4,Bt(14),R=!1),Wr(this.i,this.l,null,"[Incomplete Response]");break}else if(lr==Ec){this.s=4,Bt(15),Wr(this.i,this.l,ye,"[Invalid Chunk]"),R=!1;break}else Wr(this.i,this.l,lr,null),Tc(this,lr);if(sf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ye.length!=0||this.h.h||(this.s=1,Bt(16),R=!1),this.o=this.o&&R,!R)Wr(this.i,this.l,ye,"[Invalid Chunked Response]"),br(this),Ds(this);else if(0<ye.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),kc(ln),ln.M=!0,Bt(11))}}else Wr(this.i,this.l,ye,null),Tc(this,ye);Gt==4&&br(this),this.o&&!this.J&&(Gt==4?Il(this.j,this):(this.o=!1,ht(this)))}else yl(this.g),R==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),br(this),Ds(this)}}}catch{}finally{}};function sf(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Jg(f,v){var R=f.C,N=v.indexOf(`
`,R);return N==-1?cl:(R=Number(v.substring(R,N)),isNaN(R)?Ec:(N+=1,N+R>v.length?cl:(v=v.slice(N,N+R),f.C=N+R,v)))}Kr.prototype.cancel=function(){this.J=!0,br(this)};function ht(f){f.S=Date.now()+f.I,of(f,f.I)}function of(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=qr(_(f.ba,f),v)}function Xo(f){f.B&&(u.clearTimeout(f.B),f.B=null)}Kr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(wc(this.i,this.A),this.L!=2&&(Gi(),Bt(17)),br(this),this.s=2,Ds(this)):of(this,this.S-f)};function Ds(f){f.j.G==0||f.J||Il(f.j,f)}function br(f){Xo(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,fc(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Tc(f,v){try{var R=f.j;if(R.G!=0&&(R.g==f||Ln(R.h,f))){if(!f.K&&Ln(R.h,f)&&R.G==3){try{var N=R.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Q=N;if(Q[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<f.F)El(R),Xr(R);else break e;wl(R),Bt(18)}}else R.za=Q[1],0<R.za-R.T&&37500>Q[2]&&R.F&&R.v==0&&!R.C&&(R.C=qr(_(R.Za,R),6e3));if(1>=lf(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Zi(R,11)}else if((f.K||R.g==f)&&El(R),!L(v))for(Q=R.Da.g.parse(v),v=0;v<Q.length;v++){let Ge=Q[v];if(R.T=Ge[0],Ge=Ge[1],R.G==2)if(Ge[0]=="c"){R.K=Ge[1],R.ia=Ge[2];const ln=Ge[3];ln!=null&&(R.la=ln,R.j.info("VER="+R.la));const Gt=Ge[4];Gt!=null&&(R.Aa=Gt,R.j.info("SVER="+R.Aa));const Cr=Ge[5];Cr!=null&&typeof Cr=="number"&&0<Cr&&(N=1.5*Cr,R.L=N,R.j.info("backChannelRequestTimeoutMs_="+N)),N=R;const lr=f.g;if(lr){const sa=lr.g?lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sa){var ne=N.h;ne.g||sa.indexOf("spdy")==-1&&sa.indexOf("quic")==-1&&sa.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Sc(ne,ne.h),ne.h=null))}if(N.D){const Sl=lr.g?lr.g.getResponseHeader("X-HTTP-Session-Id"):null;Sl&&(N.ya=Sl,lt(N.I,N.D,Sl))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-f.F,R.j.info("Handshake RTT: "+R.R+"ms")),N=R;var ye=f;if(N.qa=Ef(N,N.J?N.ia:null,N.W),ye.K){uf(N.h,ye);var nt=ye,nn=N.L;nn&&(nt.I=nn),nt.B&&(Xo(nt),ht(nt)),N.g=ye}else ia(N);0<R.i.length&&mi(R)}else Ge[0]!="stop"&&Ge[0]!="close"||Zi(R,7);else R.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Zi(R,7):vn(R):Ge[0]!="noop"&&R.l&&R.l.ta(Ge),R.v=0)}}Gi(4)}catch{}}var af=class{constructor(f,v){this.g=f,this.map=v}};function Zo(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function lf(f){return f.h?1:f.g?f.g.size:0}function Ln(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Sc(f,v){f.g?f.g.add(v):f.h=v}function uf(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Zo.prototype.cancel=function(){if(this.i=cf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function cf(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const R of f.g.values())v=v.concat(R.D);return v}return S(f.i)}function hl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],R=f.length,N=0;N<R;N++)v.push(f[N]);return v}v=[],R=0;for(N in f)v[R++]=f[N];return v}function fl(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var R=0;R<f;R++)v.push(R);return v}v=[],R=0;for(const N in f)v[R++]=N;return v}}}function Vs(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var R=fl(f),N=hl(f),Q=N.length,ne=0;ne<Q;ne++)v.call(void 0,N[ne],R&&R[ne],f)}var ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xg(f,v){if(f){f=f.split("&");for(var R=0;R<f.length;R++){var N=f[R].indexOf("="),Q=null;if(0<=N){var ne=f[R].substring(0,N);Q=f[R].substring(N+1)}else ne=f[R];v(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Qi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Qi){this.h=f.h,ta(this,f.j),this.o=f.o,this.g=f.g,Ls(this,f.s),this.l=f.l;var v=f.i,R=new hi;R.i=v.i,v.g&&(R.g=new Map(v.g),R.h=v.h),Ms(this,R),this.m=f.m}else f&&(v=String(f).match(ea))?(this.h=!1,ta(this,v[1]||"",!0),this.o=We(v[2]||""),this.g=We(v[3]||"",!0),Ls(this,v[4]),this.l=We(v[5]||"",!0),Ms(this,v[6]||"",!0),this.m=We(v[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}Qi.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Us(v,pl,!0),":");var R=this.g;return(R||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Us(v,pl,!0),"@"),f.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&f.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&f.push("/"),f.push(Us(R,R.charAt(0)=="/"?ff:hf,!0))),(R=this.i.toString())&&f.push("?",R),(R=this.m)&&f.push("#",Us(R,Rc)),f.join("")};function or(f){return new Qi(f)}function ta(f,v,R){f.j=R?We(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Ls(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function Ms(f,v,R){v instanceof hi?(f.i=v,fi(f.i,f.h)):(R||(v=Us(v,pf)),f.i=new hi(v,f.h))}function lt(f,v,R){f.i.set(v,R)}function Fs(f){return lt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function We(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Us(f,v,R){return typeof f=="string"?(f=encodeURI(f).replace(v,df),R&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function df(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var pl=/[#\/\?@]/g,hf=/[#\?:]/g,ff=/[#\?]/g,pf=/[#\?@]/g,Rc=/#/g;function hi(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function _n(f){f.g||(f.g=new Map,f.h=0,f.i&&Xg(f.i,function(v,R){f.add(decodeURIComponent(v.replace(/\+/g," ")),R)}))}n=hi.prototype,n.add=function(f,v){_n(this),this.i=null,f=Pr(this,f);var R=this.g.get(f);return R||this.g.set(f,R=[]),R.push(v),this.h+=1,this};function Gr(f,v){_n(f),v=Pr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Qr(f,v){return _n(f),v=Pr(f,v),f.g.has(v)}n.forEach=function(f,v){_n(this),this.g.forEach(function(R,N){R.forEach(function(Q){f.call(v,Q,N,this)},this)},this)},n.na=function(){_n(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),R=[];for(let N=0;N<v.length;N++){const Q=f[N];for(let ne=0;ne<Q.length;ne++)R.push(v[N])}return R},n.V=function(f){_n(this);let v=[];if(typeof f=="string")Qr(this,f)&&(v=v.concat(this.g.get(Pr(this,f))));else{f=Array.from(this.g.values());for(let R=0;R<f.length;R++)v=v.concat(f[R])}return v},n.set=function(f,v){return _n(this),this.i=null,f=Pr(this,f),Qr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function js(f,v,R){Gr(f,v),0<R.length&&(f.i=null,f.g.set(Pr(f,v),S(R)),f.h+=R.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var R=0;R<v.length;R++){var N=v[R];const ne=encodeURIComponent(String(N)),ye=this.V(N);for(N=0;N<ye.length;N++){var Q=ne;ye[N]!==""&&(Q+="="+encodeURIComponent(String(ye[N]))),f.push(Q)}}return this.i=f.join("&")};function Pr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function fi(f,v){v&&!f.j&&(_n(f),f.i=null,f.g.forEach(function(R,N){var Q=N.toLowerCase();N!=Q&&(Gr(this,N),js(this,Q,R))},f)),f.j=v}function Zg(f,v){const R=new Qo;if(u.Image){const N=new Image;N.onload=T(Wn,R,"TestLoadImage: loaded",!0,v,N),N.onerror=T(Wn,R,"TestLoadImage: error",!1,v,N),N.onabort=T(Wn,R,"TestLoadImage: abort",!1,v,N),N.ontimeout=T(Wn,R,"TestLoadImage: timeout",!1,v,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else v(!1)}function mf(f,v){const R=new Qo,N=new AbortController,Q=setTimeout(()=>{N.abort(),Wn(R,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:N.signal}).then(ne=>{clearTimeout(Q),ne.ok?Wn(R,"TestPingServer: ok",!0,v):Wn(R,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Wn(R,"TestPingServer: error",!1,v)})}function Wn(f,v,R,N,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),N(R)}catch{}}function ey(){this.g=new gc}function gf(f,v,R){const N=R||"";try{Vs(f,function(Q,ne){let ye=Q;h(Q)&&(ye=pc(Q)),v.push(N+ne+"="+encodeURIComponent(ye))})}catch(Q){throw v.push(N+"type="+encodeURIComponent("_badmap")),Q}}function Yi(f){this.l=f.Ub||null,this.j=f.eb||!1}I(Yi,Ko),Yi.prototype.g=function(){return new na(this.l,this.j)},Yi.prototype.i=function(f){return function(){return f}}({});function na(f,v){dt.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(na,dt),n=na.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Jr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Jr(this)),this.g&&(this.readyState=3,Jr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yf(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function yf(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Yr(this):Jr(this),this.readyState==3&&yf(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Yr(this))},n.Qa=function(f){this.g&&(this.response=f,Yr(this))},n.ga=function(){this.g&&Yr(this)};function Yr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Jr(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var R=v.next();!R.done;)R=R.value,f.push(R[0]+": "+R[1]),R=v.next();return f.join(`\r
`)};function Jr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ji(f){let v="";return W(f,function(R,N){v+=N,v+=":",v+=R,v+=`\r
`}),v}function Bs(f,v,R){e:{for(N in R){var N=!1;break e}N=!0}N||(R=Ji(R),typeof f=="string"?R!=null&&encodeURIComponent(String(R)):lt(f,v,R))}function vt(f){dt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(vt,dt);var ty=/^https?$/i,Ac=["POST","PUT"];n=vt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,R,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hr.g(),this.v=this.o?il(this.o):il(Hr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(ne){ra(this,ne);return}if(f=R||"",R=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Q in N)R.set(Q,N[Q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())R.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(R.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ac,v,void 0))||N||Q||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of R)this.g.setRequestHeader(ne,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gl(this),this.u=!0,this.g.send(f),this.u=!1}catch(ne){ra(this,ne)}};function ra(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,ml(f),ar(f)}function ml(f){f.A||(f.A=!0,tt(f,"complete"),tt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,tt(this,"complete"),tt(this,"abort"),ar(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),vt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?bc(this):this.bb())},n.bb=function(){bc(this)};function bc(f){if(f.h&&typeof l<"u"&&(!f.v[1]||Hn(f)!=4||f.Z()!=2)){if(f.u&&Hn(f)==4)Ki(f.Ea,0,f);else if(tt(f,"readystatechange"),Hn(f)==4){f.h=!1;try{const ye=f.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var R;if(!(R=v)){var N;if(N=ye===0){var Q=String(f.D).match(ea)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),N=!ty.test(Q?Q.toLowerCase():"")}R=N}if(R)tt(f,"complete"),tt(f,"success");else{f.m=6;try{var ne=2<Hn(f)?f.g.statusText:""}catch{ne=""}f.l=ne+" ["+f.Z()+"]",ml(f)}}finally{ar(f)}}}}function ar(f,v){if(f.g){gl(f);const R=f.g,N=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||tt(f,"ready");try{R.onreadystatechange=N}catch{}}}function gl(f){f.I&&(u.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Hn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),mc(v)}};function Pc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function yl(f){const v={};f=(f.g&&2<=Hn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(L(f[N]))continue;var R=O(f[N]);const Q=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ne=v[Q]||[];v[Q]=ne,ne.push(R)}D(v,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(f,v,R){return R&&R.internalChannelParams&&R.internalChannelParams[f]||v}function Cc(f){this.Aa=0,this.i=[],this.j=new Qo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pi("baseRetryDelayMs",5e3,f),this.cb=pi("retryDelaySeedMs",1e4,f),this.Wa=pi("forwardChannelMaxRetries",2,f),this.wa=pi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Zo(f&&f.concurrentRequestLimit),this.Da=new ey,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Cc.prototype,n.la=8,n.G=1,n.connect=function(f,v,R,N){Bt(0),this.W=f,this.H=v||{},R&&N!==void 0&&(this.H.OSID=R,this.H.OAID=N),this.F=this.X,this.I=Ef(this,null,this.W),mi(this)};function vn(f){if(_l(f),f.G==3){var v=f.U++,R=or(f.I);if(lt(R,"SID",f.K),lt(R,"RID",v),lt(R,"TYPE","terminate"),Xi(f,R),v=new Kr(f,f.j,v),v.L=2,v.v=Fs(or(R)),R=!1,u.navigator&&u.navigator.sendBeacon)try{R=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!R&&u.Image&&(new Image().src=v.v,R=!0),R||(v.g=If(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ht(v)}wf(f)}function Xr(f){f.g&&(kc(f),f.g.cancel(),f.g=null)}function _l(f){Xr(f),f.u&&(u.clearTimeout(f.u),f.u=null),El(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function mi(f){if(!sr(f.h)&&!f.s){f.s=!0;var v=f.Ga;oe||me(),X||(oe(),X=!0),pe.add(v,f),f.B=0}}function ny(f,v){return lf(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=qr(_(f.Ga,f,v),vf(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new Kr(this,this.j,f);let ne=this.o;if(this.S&&(ne?(ne=A(ne),E(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var v=0,R=0;R<this.i.length;R++){t:{var N=this.i[R];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=R;break e}if(v===4096||R===this.i.length-1){v=R+1;break e}}v=1e3}else v=1e3;v=zs(this,Q,v),R=or(this.I),lt(R,"RID",f),lt(R,"CVER",22),this.D&&lt(R,"X-HTTP-Session-Id",this.D),Xi(this,R),ne&&(this.O?v="headers="+encodeURIComponent(String(Ji(ne)))+"&"+v:this.m&&Bs(R,this.m,ne)),Sc(this.h,Q),this.Ua&&lt(R,"TYPE","init"),this.P?(lt(R,"$req",v),lt(R,"SID","null"),Q.T=!0,dl(Q,R,null)):dl(Q,R,v),this.G=2}}else this.G==3&&(f?vl(this,f):this.i.length==0||sr(this.h)||vl(this))};function vl(f,v){var R;v?R=v.l:R=f.U++;const N=or(f.I);lt(N,"SID",f.K),lt(N,"RID",R),lt(N,"AID",f.T),Xi(f,N),f.m&&f.o&&Bs(N,f.m,f.o),R=new Kr(f,f.j,R,f.B+1),f.m===null&&(R.H=f.o),v&&(f.i=v.D.concat(f.i)),v=zs(f,R,1e3),R.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Sc(f.h,R),dl(R,N,v)}function Xi(f,v){f.H&&W(f.H,function(R,N){lt(v,N,R)}),f.l&&Vs({},function(R,N){lt(v,N,R)})}function zs(f,v,R){R=Math.min(f.i.length,R);var N=f.l?_(f.l.Na,f.l,f):null;e:{var Q=f.i;let ne=-1;for(;;){const ye=["count="+R];ne==-1?0<R?(ne=Q[0].g,ye.push("ofs="+ne)):ne=0:ye.push("ofs="+ne);let nt=!0;for(let nn=0;nn<R;nn++){let Ge=Q[nn].g;const ln=Q[nn].map;if(Ge-=ne,0>Ge)ne=Math.max(0,Q[nn].g-100),nt=!1;else try{gf(ln,ye,"req"+Ge+"_")}catch{N&&N(ln)}}if(nt){N=ye.join("&");break e}}}return f=f.i.splice(0,R),v.D=f,N}function ia(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;oe||me(),X||(oe(),X=!0),pe.add(v,f),f.v=0}}function wl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=qr(_(f.Fa,f),vf(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,_f(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=qr(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),Xr(this),_f(this))};function kc(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function _f(f){f.g=new Kr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=or(f.qa);lt(v,"RID","rpc"),lt(v,"SID",f.K),lt(v,"AID",f.T),lt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&lt(v,"TO",f.ja),lt(v,"TYPE","xmlhttp"),Xi(f,v),f.m&&f.o&&Bs(v,f.m,f.o),f.L&&(f.g.I=f.L);var R=f.g;f=f.ia,R.L=1,R.v=Fs(or(v)),R.m=null,R.P=!0,Ic(R,f)}n.Za=function(){this.C!=null&&(this.C=null,Xr(this),wl(this),Bt(19))};function El(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Il(f,v){var R=null;if(f.g==v){El(f),kc(f),f.g=null;var N=2}else if(Ln(f.h,v))R=v.D,uf(f.h,v),N=1;else return;if(f.G!=0){if(v.o)if(N==1){R=v.m?v.m.length:0,v=Date.now()-v.F;var Q=f.B;N=Go(),tt(N,new al(N,R)),mi(f)}else ia(f);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(N==1&&ny(f,v)||N==2&&wl(f)))switch(R&&0<R.length&&(v=f.h,v.i=v.i.concat(R)),Q){case 1:Zi(f,5);break;case 4:Zi(f,10);break;case 3:Zi(f,6);break;default:Zi(f,2)}}}function vf(f,v){let R=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(R*=2),R*v}function Zi(f,v){if(f.j.info("Error code "+v),v==2){var R=_(f.fb,f),N=f.Xa;const Q=!N;N=new Qi(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ta(N,"https"),Fs(N),Q?Zg(N.toString(),R):mf(N.toString(),R)}else Bt(2);f.G=0,f.l&&f.l.sa(v),wf(f),_l(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function wf(f){if(f.G=0,f.ka=[],f.l){const v=cf(f.h);(v.length!=0||f.i.length!=0)&&(b(f.ka,v),b(f.ka,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.ra()}}function Ef(f,v,R){var N=R instanceof Qi?or(R):new Qi(R);if(N.g!="")v&&(N.g=v+"."+N.g),Ls(N,N.s);else{var Q=u.location;N=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new Qi(null);N&&ta(ne,N),v&&(ne.g=v),Q&&Ls(ne,Q),R&&(ne.l=R),N=ne}return R=f.D,v=f.ya,R&&v&&lt(N,R,v),lt(N,"VER",f.la),Xi(f,N),N}function If(f,v,R){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new vt(new Yi({eb:R})):new vt(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xc(){}n=xc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Tl(){}Tl.prototype.g=function(f,v){return new Mn(f,v)};function Mn(f,v){dt.call(this),this.g=new Cc(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!L(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!L(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new gi(this)}I(Mn,dt),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){vn(this.g)},Mn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var R={};R.__data__=f,f=R}else this.u&&(R={},R.__data__=pc(f),f=R);v.i.push(new af(v.Ya++,f)),v.G==3&&mi(v)},Mn.prototype.N=function(){this.g.l=null,delete this.j,vn(this.g),delete this.g,Mn.aa.N.call(this)};function Tf(f){ci.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const R in v){f=R;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}I(Tf,ci);function Sf(){ol.call(this),this.status=1}I(Sf,ol);function gi(f){this.g=f}I(gi,xc),gi.prototype.ua=function(){tt(this.g,"a")},gi.prototype.ta=function(f){tt(this.g,new Tf(f))},gi.prototype.sa=function(f){tt(this.g,new Sf)},gi.prototype.ra=function(){tt(this.g,"b")},Tl.prototype.createWebChannel=Tl.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,nC=function(){return new Tl},tC=function(){return Go()},eC=di,_v={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ul.NO_ERROR=0,ul.TIMEOUT=8,ul.HTTP_ERROR=6,Up=ul,nf.COMPLETE="complete",ZP=nf,sl.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",dt.prototype.listen=dt.prototype.K,kd=sl,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,XP=vt}).apply(typeof wp<"u"?wp:typeof self<"u"?self:typeof window<"u"?window:{});const SS="@firebase/firestore",RS="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new Wm("@firebase/firestore");function iu(){return To.logLevel}function S4(n){To.setLogLevel(n)}function ue(n,...e){if(To.logLevel<=Be.DEBUG){const t=e.map(Kw);To.debug(`Firestore (${Zu}): ${n}`,...t)}}function $t(n,...e){if(To.logLevel<=Be.ERROR){const t=e.map(Kw);To.error(`Firestore (${Zu}): ${n}`,...t)}}function zi(n,...e){if(To.logLevel<=Be.WARN){const t=e.map(Kw);To.warn(`Firestore (${Zu}): ${n}`,...t)}}function Kw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n="Unexpected state"){const e=`FIRESTORE (${Zu}) INTERNAL ASSERTION FAILED: `+n;throw $t(e),new Error(e)}function Re(n,e){n||Ee()}function R4(n,e){n||Ee()}function ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends zn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fn.UNAUTHENTICATED))}shutdown(){}}class b4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class P4{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Re(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rn,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rn)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new rC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new fn(e)}}class C4{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class k4{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new C4(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x4{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Re(this.o===void 0);const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new AS(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Re(typeof t.token=="string"),this.R=t.token,new AS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=O4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function De(n,e){return n<e?-1:n>e?1:0}function Su(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function sC(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=-62135596800,PS=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*PS);return new At(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bS)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PS}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-bS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new At(0,0))}static max(){return new Pe(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="__name__";class Si{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(),r===void 0?r=e.length-t:r>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Si.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Si.isNumericId(e),i=Si.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Si.extractNumericId(e).compare(Si.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return go.fromString(e.substring(4,e.length-2))}}class ze extends Si{construct(e,t,r){return new ze(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ze(t)}static emptyPath(){return new ze([])}}const N4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Si{construct(e,t,r){return new St(e,t,r)}static isValidIdentifier(e){return N4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CS}static keyField(){return new St([CS])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ae(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ae(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new ae(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(t)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ze.fromString(e))}static fromName(e){return new _e(ze.fromString(e).popFirst(5))}static empty(){return new _e(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=-1;class gm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function vv(n){return n.fields.find(e=>e.kind===2)}function Ea(n){return n.fields.filter(e=>e.kind!==2)}gm.UNKNOWN_ID=-1;class jp{constructor(e,t){this.fieldPath=e,this.kind=t}}class ih{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ih(0,Er.min())}}function oC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new At(t+1,0):new At(t,r));return new Er(i,_e.empty(),e)}function aC(n){return new Er(n.readTime,n.key,Ru)}class Er{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Er(Pe.min(),_e.empty(),Ru)}static max(){return new Er(Pe.max(),_e.empty(),Ru)}}function Gw(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==lC)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,r)=>{t(e)})}static reject(e){return new G((t,r)=>{r(e)})}static waitFor(e){return new G((t,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},d=>r(d))}),l=!0,o===i&&t()})}static or(e){let t=G.resolve(!1);for(const r of e)t=t.next(i=>i?G.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new G((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const h=d;t(e[h]).next(m=>{l[h]=m,++u,u===o&&r(l)},m=>i(m))}})}static doWhile(e,t){return new G((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="SimpleDb";class ig{static open(e,t,r,i){try{return new ig(t,e.transaction(i,r))}catch(o){throw new Bd(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new Rn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new Bd(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=Qw(r.target.error);this.m.reject(new Bd(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(ue(pr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new V4(t)}}class Li{static delete(e){return ue(pr,"Removing database:",e),Ta(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Xd())return!1;if(Li.v())return!0;const e=Nt(),t=Li.C(e),r=0<t&&t<10,i=cC(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,Li.C(Nt())===12.2&&$t("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(ue(pr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const l=o.target.result;t(l)},i.onblocked=()=>{r(new Bd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const l=o.target.error;l.name==="VersionError"?r(new ae(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ae(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Bd(e,l))},i.onupgradeneeded=o=>{ue(pr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const l=o.target.result;this.O.B(l,i.transaction,o.oldVersion,this.version).next(()=>{ue(pr,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.N(e);const u=ig.open(this.db,e,o?"readonly":"readwrite",r),d=i(u).next(h=>(u.S(),h)).catch(h=>(u.abort(h),G.reject(h))).toPromise();return d.catch(()=>{}),await u.p,d}catch(u){const d=u,h=d.name!=="FirebaseError"&&l<3;if(ue(pr,"Transaction failed with error:",d.message,"Retrying:",h),this.close(),!h)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function cC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class D4{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return Ta(this.q.delete())}}class Bd extends ae{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Uo(n){return n.name==="IndexedDbTransactionError"}class V4{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ue(pr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue(pr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ta(r)}add(e){return ue(pr,"ADD",this.store.name,e,e),Ta(this.store.add(e))}get(e){return Ta(this.store.get(e)).next(t=>(t===void 0&&(t=null),ue(pr,"GET",this.store.name,e,t),t))}delete(e){return ue(pr,"DELETE",this.store.name,e),Ta(this.store.delete(e))}count(){return ue(pr,"COUNT",this.store.name),Ta(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new G((l,u)=>{o.onerror=d=>{u(d.target.error)},o.onsuccess=d=>{l(d.target.result)}})}{const o=this.cursor(r),l=[];return this.j(o,(u,d)=>{l.push(d)}).next(()=>l)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new G((i,o)=>{r.onerror=l=>{o(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){ue(pr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(o,l,u)=>u.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new G((r,i)=>{t.onerror=o=>{const l=Qw(o.target.error);i(l)},t.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next(u=>{u?l.continue():r()}):r()}})}j(e,t){const r=[];return new G((i,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const d=new D4(u),h=t(u.primaryKey,u.value,d);if(h instanceof G){const m=h.catch(g=>(d.done(),G.reject(g)));r.push(m)}d.isDone?i():d.U===null?u.continue():u.continue(d.U)}}).next(()=>G.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ta(n){return new G((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=Qw(r.target.error);t(i)}})}let kS=!1;function Qw(n){const e=Li.C(Nt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kS||(kS=!0,setTimeout(()=>{throw r},0)),r}}return n}const zd="IndexBackfiller";class L4{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){ue(zd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();ue(zd,`Documents written: ${t}`)}catch(t){Uo(t)?ue(zd,"Ignoring IndexedDB error during index backfill: ",t):await Fo(t)}await this.te(6e4)})}}class M4{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,o=!0;return G.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!r.has(l))return ue(zd,`Processing collection: ${l}`),this.ie(e,l,i).next(u=>{i-=u,r.add(l)});o=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.se(i,o)).next(u=>(ue(zd,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u))).next(()=>l.size)}))}se(e,t){let r=e;return t.changes.forEach((i,o)=>{const l=aC(o);Gw(l,r)>0&&(r=l)}),new Er(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}er.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=-1;function Lh(n){return n==null}function sh(n){return n===0&&1/n==-1/0}function dC(n){return typeof n=="number"&&Number.isInteger(n)&&!sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="";function Dn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xS(e)),e=F4(n.get(t),e);return xS(e)}function F4(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case ym:t+="";break;default:t+=o}}return t}function xS(n){return n+ym+""}function Di(n){const e=n.length;if(Re(e>=2),e===2)return Re(n.charAt(0)===ym&&n.charAt(1)===""),ze.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const l=n.indexOf(ym,o);switch((l<0||l>t)&&Ee(),n.charAt(l+1)){case"":const u=n.substring(o,l);let d;i.length===0?d=u:(i+=u,d=i,i=""),r.push(d);break;case"":i+=n.substring(o,l),i+="\0";break;case"":i+=n.substring(o,l+1);break;default:Ee()}o=l+2}return new ze(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="remoteDocuments",Mh="owner",Hl="owner",oh="mutationQueues",U4="userId",oi="mutations",OS="batchId",Ca="userMutationsIndex",NS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(n,e){return[n,Dn(e)]}function hC(n,e,t){return[n,Dn(e),t]}const j4={},Au="documentMutations",_m="remoteDocumentsV14",B4=["prefixPath","collectionGroup","readTime","documentId"],zp="documentKeyIndex",z4=["prefixPath","collectionGroup","documentId"],fC="collectionGroupIndex",$4=["collectionGroup","readTime","prefixPath","documentId"],ah="remoteDocumentGlobal",wv="remoteDocumentGlobalKey",bu="targets",pC="queryTargetsIndex",q4=["canonicalId","targetId"],Pu="targetDocuments",W4=["targetId","path"],Yw="documentTargetsIndex",H4=["path","targetId"],vm="targetGlobalKey",Va="targetGlobal",lh="collectionParents",K4=["collectionId","parent"],Cu="clientMetadata",G4="clientId",sg="bundles",Q4="bundleId",og="namedQueries",Y4="name",Jw="indexConfiguration",J4="indexId",Ev="collectionGroupIndex",X4="collectionGroup",wm="indexState",Z4=["indexId","uid"],mC="sequenceNumberIndex",eU=["uid","sequenceNumber"],Em="indexEntries",tU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gC="documentKeyIndex",nU=["indexId","uid","orderedDocumentKey"],ag="documentOverlays",rU=["userId","collectionPath","documentId"],Iv="collectionPathOverlayIndex",iU=["userId","collectionPath","largestBatchId"],yC="collectionGroupOverlayIndex",sU=["userId","collectionGroup","largestBatchId"],Xw="globals",oU="name",_C=[oh,oi,Au,Ia,bu,Mh,Va,Pu,Cu,ah,lh,sg,og],aU=[..._C,ag],vC=[oh,oi,Au,_m,bu,Mh,Va,Pu,Cu,ah,lh,sg,og,ag],wC=vC,Zw=[...wC,Jw,wm,Em],lU=Zw,uU=[...Zw,Xw];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends uC{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function an(n,e){const t=ve(n);return Li.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function jo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function EC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||In.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ep(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ep(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ep(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ep(this.root,e,this.comparator,!0)}}class Ep{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??In.RED,this.left=i??In.EMPTY,this.right=o??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new In(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return In.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,r,i,o){return this}insert(e,t,r){return new In(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new VS(this.data.getIterator())}getIteratorFrom(e){return new VS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new it(this.comparator);return t.data=e,t}}class VS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Kl(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new tr([])}unionWith(e){let t=new it(St.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Su(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new IC("Invalid base64 string: "+o):o}}(e);return new Ft(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const dU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(n){if(Re(!!n),typeof n=="string"){let e=0;const t=dU.exec(n);if(Re(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Es(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="server_timestamp",SC="__type__",RC="__previous_value__",AC="__local_write_time__";function lg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[SC])===null||t===void 0?void 0:t.stringValue)===TC}function ug(n){const e=n.mapValue.fields[RC];return lg(e)?ug(e):e}function uh(n){const e=ws(n.mapValue.fields[AC].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,t,r,i,o,l,u,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}const Sv="(default)";class So{constructor(e,t){this.projectId=e,this.database=t||Sv}static empty(){return new So("","")}get isDefaultDatabase(){return this.database===Sv}isEqual(e){return e instanceof So&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="__type__",bC="__max__",co={mapValue:{fields:{__type__:{stringValue:bC}}}},t0="__vector__",ku="value",$p={nullValue:"NULL_VALUE"};function Ro(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lg(n)?4:PC(n)?9007199254740991:cg(n)?10:11:Ee()}function $i(n,e){if(n===e)return!0;const t=Ro(n);if(t!==Ro(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return uh(n).isEqual(uh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=ws(i.timestampValue),u=ws(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Es(i.bytesValue).isEqual(Es(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return It(i.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return It(i.integerValue)===It(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=It(i.doubleValue),u=It(o.doubleValue);return l===u?sh(l)===sh(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Su(n.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(DS(l)!==DS(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!$i(l[d],u[d])))return!1;return!0}(n,e);default:return Ee()}}function ch(n,e){return(n.values||[]).find(t=>$i(t,e))!==void 0}function Ao(n,e){if(n===e)return 0;const t=Ro(n),r=Ro(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=It(o.integerValue||o.doubleValue),d=It(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return LS(n.timestampValue,e.timestampValue);case 4:return LS(uh(n),uh(e));case 5:return De(n.stringValue,e.stringValue);case 6:return function(o,l){const u=Es(o),d=Es(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const m=De(u[h],d[h]);if(m!==0)return m}return De(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=De(It(o.latitude),It(l.latitude));return u!==0?u:De(It(o.longitude),It(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return MS(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,d,h,m;const g=o.fields||{},_=l.fields||{},T=(u=g[ku])===null||u===void 0?void 0:u.arrayValue,I=(d=_[ku])===null||d===void 0?void 0:d.arrayValue,S=De(((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0,((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0);return S!==0?S:MS(T,I)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===co.mapValue&&l===co.mapValue)return 0;if(o===co.mapValue)return 1;if(l===co.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const _=De(d[g],m[g]);if(_!==0)return _;const T=Ao(u[d[g]],h[m[g]]);if(T!==0)return T}return De(d.length,m.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function LS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=ws(n),r=ws(e),i=De(t.seconds,r.seconds);return i!==0?i:De(t.nanos,r.nanos)}function MS(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Ao(t[i],r[i]);if(o)return o}return De(t.length,r.length)}function xu(n){return Rv(n)}function Rv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ws(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Es(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Rv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Rv(t.fields[l])}`;return i+"}"}(n.mapValue):Ee()}function qp(n){switch(Ro(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ug(n);return e?16+qp(e):16;case 5:return 2*n.stringValue.length;case 6:return Es(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+qp(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return jo(r.fields,(o,l)=>{i+=o.length+qp(l)}),i}(n.mapValue);default:throw Ee()}}function Ua(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Av(n){return!!n&&"integerValue"in n}function dh(n){return!!n&&"arrayValue"in n}function FS(n){return!!n&&"nullValue"in n}function US(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wp(n){return!!n&&"mapValue"in n}function cg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[e0])===null||t===void 0?void 0:t.stringValue)===t0}function $d(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return jo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$d(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$d(n.arrayValue.values[t]);return e}return Object.assign({},n)}function PC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===bC}const CC={mapValue:{fields:{[e0]:{stringValue:t0},[ku]:{arrayValue:{}}}}};function fU(n){return"nullValue"in n?$p:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ua(So.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?cg(n)?CC:{mapValue:{}}:Ee()}function pU(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ua(So.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?CC:"mapValue"in n?cg(n)?{mapValue:{}}:co:Ee()}function jS(n,e){const t=Ao(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function BS(n,e){const t=Ao(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Wp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$d(t)}setAll(e){let t=St.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=$d(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Wp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Wp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){jo(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Sn($d(this.value))}}function kC(n){const e=[];return jo(n.fields,(t,r)=>{const i=new St([t]);if(Wp(r)){const o=kC(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t,r,i,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new yt(e,0,Pe.min(),Pe.min(),Pe.min(),Sn.empty(),0)}static newFoundDocument(e,t,r,i){return new yt(e,1,t,Pe.min(),r,i,0)}static newNoDocument(e,t){return new yt(e,2,t,Pe.min(),Pe.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new yt(e,3,t,Pe.min(),Pe.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t){this.position=e,this.inclusive=t}}function zS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),t.key):r=Ao(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function $S(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$i(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t="asc"){this.field=e,this.dir=t}}function mU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{}class $e extends xC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new gU(e,t,r):t==="array-contains"?new vU(e,r):t==="in"?new MC(e,r):t==="not-in"?new wU(e,r):t==="array-contains-any"?new EU(e,r):new $e(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new yU(e,r):new _U(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ao(t,this.value)):t!==null&&Ro(this.value)===Ro(t)&&this.matchesComparison(Ao(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rt extends xC{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new rt(e,t)}matches(e){return Ou(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Ou(n){return n.op==="and"}function bv(n){return n.op==="or"}function n0(n){return OC(n)&&Ou(n)}function OC(n){for(const e of n.filters)if(e instanceof rt)return!1;return!0}function Pv(n){if(n instanceof $e)return n.field.canonicalString()+n.op.toString()+xu(n.value);if(n0(n))return n.filters.map(e=>Pv(e)).join(",");{const e=n.filters.map(t=>Pv(t)).join(",");return`${n.op}(${e})`}}function NC(n,e){return n instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&$i(r.value,i.value)}(n,e):n instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&NC(l,i.filters[u]),!0):!1}(n,e):void Ee()}function DC(n,e){const t=n.filters.concat(e);return rt.create(t,n.op)}function VC(n){return n instanceof $e?function(t){return`${t.field.canonicalString()} ${t.op} ${xu(t.value)}`}(n):n instanceof rt?function(t){return t.op.toString()+" {"+t.getFilters().map(VC).join(" ,")+"}"}(n):"Filter"}class gU extends $e{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class yU extends $e{constructor(e,t){super(e,"in",t),this.keys=LC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _U extends $e{constructor(e,t){super(e,"not-in",t),this.keys=LC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class vU extends $e{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dh(t)&&ch(t.arrayValue,this.value)}}class MC extends $e{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ch(this.value.arrayValue,t)}}class wU extends $e{constructor(e,t){super(e,"not-in",t)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ch(this.value.arrayValue,t)}}class EU extends $e{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ch(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,t=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.le=null}}function Cv(n,e=null,t=[],r=[],i=null,o=null,l=null){return new IU(n,e,t,r,i,o,l)}function ja(n){const e=ve(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Pv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Lh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>xu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>xu(r)).join(",")),e.le=t}return e.le}function Fh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!NC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$S(n.startAt,e.startAt)&&$S(n.endAt,e.endAt)}function Im(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Tm(n,e){return n.filters.filter(t=>t instanceof $e&&t.field.isEqual(e))}function qS(n,e,t){let r=$p,i=!0;for(const o of Tm(n,e)){let l=$p,u=!0;switch(o.op){case"<":case"<=":l=fU(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,u=!1;break;case"!=":case"not-in":l=$p}jS({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];jS({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function WS(n,e,t){let r=co,i=!0;for(const o of Tm(n,e)){let l=co,u=!0;switch(o.op){case">=":case">":l=pU(o.value),u=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,u=!1;break;case"!=":case"not-in":l=co}BS({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];BS({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t=null,r=[],i=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function FC(n,e,t,r,i,o,l,u){return new bs(n,e,t,r,i,o,l,u)}function ec(n){return new bs(n)}function HS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function r0(n){return n.collectionGroup!==null}function mu(n){const e=ve(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new it(St.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new hh(o,r))}),t.has(St.keyField().canonicalString())||e.he.push(new hh(St.keyField(),r))}return e.he}function $n(n){const e=ve(n);return e.Pe||(e.Pe=TU(e,mu(n))),e.Pe}function TU(n,e){if(n.limitType==="F")return Cv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new hh(i.field,o)});const t=n.endAt?new bo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new bo(n.startAt.position,n.startAt.inclusive):null;return Cv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function kv(n,e){const t=n.filters.concat([e]);return new bs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Sm(n,e,t){return new bs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Uh(n,e){return Fh($n(n),$n(e))&&n.limitType===e.limitType}function UC(n){return`${ja($n(n))}|lt:${n.limitType}`}function su(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>VC(i)).join(", ")}]`),Lh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>xu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>xu(i)).join(",")),`Target(${r})`}($n(n))}; limitType=${n.limitType})`}function jh(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of mu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,d){const h=zS(l,u,d);return l.inclusive?h<=0:h<0}(r.startAt,mu(r),i)||r.endAt&&!function(l,u,d){const h=zS(l,u,d);return l.inclusive?h>=0:h>0}(r.endAt,mu(r),i))}(n,e)}function jC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function BC(n){return(e,t)=>{let r=!1;for(const i of mu(n)){const o=SU(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function SU(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,l,u){const d=l.data.field(o),h=u.data.field(o);return d!==null&&h!==null?Ao(d,h):Ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return EC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=new pt(_e.comparator);function nr(){return RU}const zC=new pt(_e.comparator);function xd(...n){let e=zC;for(const t of n)e=e.insert(t.key,t);return e}function $C(n){let e=zC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Vi(){return qd()}function qC(){return qd()}function qd(){return new Ps(n=>n.toString(),(n,e)=>n.isEqual(e))}const AU=new pt(_e.comparator),bU=new it(_e.comparator);function Me(...n){let e=bU;for(const t of n)e=e.add(t);return e}const PU=new it(De);function i0(){return PU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function WC(n){return{integerValue:""+n}}function HC(n,e){return dC(e)?WC(e):s0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this._=void 0}}function CU(n,e,t){return n instanceof Nu?function(i,o){const l={fields:{[SC]:{stringValue:TC},[AC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&lg(o)&&(o=ug(o)),o&&(l.fields[RC]=o),{mapValue:l}}(t,e):n instanceof Ba?GC(n,e):n instanceof za?QC(n,e):function(i,o){const l=KC(i,o),u=KS(l)+KS(i.Ie);return Av(l)&&Av(i.Ie)?WC(u):s0(i.serializer,u)}(n,e)}function kU(n,e,t){return n instanceof Ba?GC(n,e):n instanceof za?QC(n,e):t}function KC(n,e){return n instanceof Du?function(r){return Av(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Nu extends dg{}class Ba extends dg{constructor(e){super(),this.elements=e}}function GC(n,e){const t=YC(e);for(const r of n.elements)t.some(i=>$i(i,r))||t.push(r);return{arrayValue:{values:t}}}class za extends dg{constructor(e){super(),this.elements=e}}function QC(n,e){let t=YC(e);for(const r of n.elements)t=t.filter(i=>!$i(i,r));return{arrayValue:{values:t}}}class Du extends dg{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function KS(n){return It(n.integerValue||n.doubleValue)}function YC(n){return dh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t){this.field=e,this.transform=t}}function xU(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ba&&i instanceof Ba||r instanceof za&&i instanceof za?Su(r.elements,i.elements,$i):r instanceof Du&&i instanceof Du?$i(r.Ie,i.Ie):r instanceof Nu&&i instanceof Nu}(n.transform,e.transform)}class OU{constructor(e,t){this.version=e,this.transformResults=t}}class Rt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rt}static exists(e){return new Rt(void 0,e)}static updateTime(e){return new Rt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hg{}function JC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new nc(n.key,Rt.none()):new tc(n.key,n.data,Rt.none());{const t=n.data,r=Sn.empty();let i=new it(St.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Cs(n.key,r,new tr(i.toArray()),Rt.none())}}function NU(n,e,t){n instanceof tc?function(i,o,l){const u=i.value.clone(),d=QS(i.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Cs?function(i,o,l){if(!Hp(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=QS(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(XC(i)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Wd(n,e,t,r){return n instanceof tc?function(o,l,u,d){if(!Hp(o.precondition,l))return u;const h=o.value.clone(),m=YS(o.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Cs?function(o,l,u,d){if(!Hp(o.precondition,l))return u;const h=YS(o.fieldTransforms,d,l),m=l.data;return m.setAll(XC(o)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(o,l,u){return Hp(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function DU(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=KC(r.transform,i||null);o!=null&&(t===null&&(t=Sn.empty()),t.set(r.field,o))}return t||null}function GS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Su(r,i,(o,l)=>xU(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tc extends hg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cs extends hg{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function XC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function QS(n,e,t){const r=new Map;Re(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,kU(l,u,t[i]))}return r}function YS(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,CU(o,l,e))}return r}class nc extends hg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o0 extends hg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&NU(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Wd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=qC();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const d=JC(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Su(this.mutations,e.mutations,(t,r)=>GS(t,r))&&Su(this.baseMutations,e.baseMutations,(t,r)=>GS(t,r))}}class l0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Re(e.mutations.length===r.length);let i=function(){return AU}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new l0(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,Qe;function ZC(n){switch(n){case te.OK:return Ee();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee()}}function ek(n){if(n===void 0)return $t("GRPC error has no .code"),te.UNKNOWN;switch(n){case Jt.OK:return te.OK;case Jt.CANCELLED:return te.CANCELLED;case Jt.UNKNOWN:return te.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return te.INTERNAL;case Jt.UNAVAILABLE:return te.UNAVAILABLE;case Jt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Jt.NOT_FOUND:return te.NOT_FOUND;case Jt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Jt.ABORTED:return te.ABORTED;case Jt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Jt.DATA_LOSS:return te.DATA_LOSS;default:return Ee()}}(Qe=Jt||(Jt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=new go([4294967295,4294967295],0);function JS(n){const e=tk().encode(n),t=new JP;return t.update(e),new Uint8Array(t.digest())}function XS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new go([t,r],0),new go([i,o],0)]}class c0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Od(`Invalid padding: ${t}`);if(r<0)throw new Od(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Od(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Od(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=go.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(go.fromNumber(r)));return i.compare(LU)===1&&(i=new go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=JS(e),[r,i]=XS(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new c0(o,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=JS(e),[r,i]=XS(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,$h.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new zh(Pe.min(),i,new pt(De),nr(),Me())}}class $h{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new $h(r,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class nk{constructor(e,t){this.targetId=e,this.ge=t}}class rk{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class ZS{constructor(){this.pe=0,this.ye=eR(),this.we=Ft.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Me(),t=Me(),r=Me();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new $h(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=eR()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Re(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class MU{constructor(e){this.ke=e,this.qe=new Map,this.Qe=nr(),this.$e=Ip(),this.Ke=Ip(),this.Ue=new pt(De)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(Im(o))if(r===0){const l=new _e(o.path);this.ze(t,l,yt.newNoDocument(l,Pe.min()))}else Re(r===1);else{const l=this.et(t);if(l!==r){const u=this.tt(e),d=u?this.nt(u,e,l):1;if(d!==0){this.Ye(t);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=Es(r).toUint8Array()}catch(d){if(d instanceof IC)return zi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new c0(l,i,o)}catch(d){return zi(d instanceof Od?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const u=this.Xe(l);if(u){if(o.current&&Im(u.target)){const d=new _e(u.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,yt.newNoDocument(d,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let r=Me();this.Ke.forEach((o,l)=>{let u=!0;l.forEachWhile(d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const i=new zh(e,t,this.Ue,this.Qe,r);return this.Qe=nr(),this.$e=Ip(),this.Ke=Ip(),this.Ue=new pt(De),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new ZS,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new it(De),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new it(De),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new ZS),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ip(){return new pt(_e.comparator)}function eR(){return new pt(_e.comparator)}const FU={asc:"ASCENDING",desc:"DESCENDING"},UU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jU={and:"AND",or:"OR"};class BU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xv(n,e){return n.useProto3Json||Lh(e)?e:{value:e}}function Vu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ik(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zU(n,e){return Vu(n,e.toTimestamp())}function qt(n){return Re(!!n),Pe.fromTimestamp(function(t){const r=ws(t);return new At(r.seconds,r.nanos)}(n))}function d0(n,e){return Ov(n,e).canonicalString()}function Ov(n,e){const t=function(i){return new ze(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function sk(n){const e=ze.fromString(n);return Re(mk(e)),e}function fh(n,e){return d0(n.databaseId,e.path)}function Mi(n,e){const t=sk(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(lk(t))}function ok(n,e){return d0(n.databaseId,e)}function ak(n){const e=sk(n);return e.length===4?ze.emptyPath():lk(e)}function Nv(n){return new ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lk(n){return Re(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function tR(n,e,t){return{name:fh(n,e),fields:t.value.mapValue.fields}}function uk(n,e,t){const r=Mi(n,e.name),i=qt(e.updateTime),o=e.createTime?qt(e.createTime):Pe.min(),l=new Sn({mapValue:{fields:e.fields}}),u=yt.newFoundDocument(r,i,o,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function $U(n,e){return"found"in e?function(r,i){Re(!!i.found),i.found.name,i.found.updateTime;const o=Mi(r,i.found.name),l=qt(i.found.updateTime),u=i.found.createTime?qt(i.found.createTime):Pe.min(),d=new Sn({mapValue:{fields:i.found.fields}});return yt.newFoundDocument(o,l,u,d)}(n,e):"missing"in e?function(r,i){Re(!!i.missing),Re(!!i.readTime);const o=Mi(r,i.missing),l=qt(i.readTime);return yt.newNoDocument(o,l)}(n,e):Ee()}function qU(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,m){return h.useProto3Json?(Re(m===void 0||typeof m=="string"),Ft.fromBase64String(m||"")):(Re(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Ft.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const m=h.code===void 0?te.UNKNOWN:ek(h.code);return new ae(m,h.message||"")}(l);t=new rk(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mi(n,r.document.name),o=qt(r.document.updateTime),l=r.document.createTime?qt(r.document.createTime):Pe.min(),u=new Sn({mapValue:{fields:r.document.fields}}),d=yt.newFoundDocument(i,o,l,u),h=r.targetIds||[],m=r.removedTargetIds||[];t=new Kp(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mi(n,r.document),o=r.readTime?qt(r.readTime):Pe.min(),l=yt.newNoDocument(i,o),u=r.removedTargetIds||[];t=new Kp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mi(n,r.document),o=r.removedTargetIds||[];t=new Kp([],o,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new VU(i,o),u=r.targetId;t=new nk(u,l)}}return t}function ph(n,e){let t;if(e instanceof tc)t={update:tR(n,e.key,e.value)};else if(e instanceof nc)t={delete:fh(n,e.key)};else if(e instanceof Cs)t={update:tR(n,e.key,e.data),updateMask:YU(e.fieldMask)};else{if(!(e instanceof o0))return Ee();t={verify:fh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof Nu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ba)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof za)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Du)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Ee()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:zU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee()}(n,e.precondition)),t}function Dv(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?Rt.updateTime(qt(o.updateTime)):o.exists!==void 0?Rt.exists(o.exists):Rt.none()}(e.currentDocument):Rt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let d=null;if("setToServerValue"in u)Re(u.setToServerValue==="REQUEST_TIME"),d=new Nu;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];d=new Ba(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];d=new za(m)}else"increment"in u?d=new Du(l,u.increment):Ee();const h=St.fromServerFormat(u.fieldPath);return new Bh(h,d)}(n,i)):[];if(e.update){e.update.name;const i=Mi(n,e.update.name),o=new Sn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(d){const h=d.fieldPaths||[];return new tr(h.map(m=>St.fromServerFormat(m)))}(e.updateMask);return new Cs(i,o,l,t,r)}return new tc(i,o,t,r)}if(e.delete){const i=Mi(n,e.delete);return new nc(i,t)}if(e.verify){const i=Mi(n,e.verify);return new o0(i,t)}return Ee()}function WU(n,e){return n&&n.length>0?(Re(e!==void 0),n.map(t=>function(i,o){let l=i.updateTime?qt(i.updateTime):qt(o);return l.isEqual(Pe.min())&&(l=qt(o)),new OU(l,i.transformResults||[])}(t,e))):[]}function ck(n,e){return{documents:[ok(n,e.path)]}}function dk(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ok(n,i);const o=function(h){if(h.length!==0)return pk(rt.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(m=>function(_){return{field:ou(_.field),direction:KU(_.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=xv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:i}}function hk(n){let e=ak(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Re(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(g){const _=fk(g);return _ instanceof rt&&n0(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(_=>function(I){return new hh(au(I.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(g){let _;return _=typeof g=="object"?g.value:g,Lh(_)?null:_}(t.limit));let d=null;t.startAt&&(d=function(g){const _=!!g.before,T=g.values||[];return new bo(T,_)}(t.startAt));let h=null;return t.endAt&&(h=function(g){const _=!g.before,T=g.values||[];return new bo(T,_)}(t.endAt)),FC(e,i,l,o,u,"F",d,h)}function HU(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=au(t.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=au(t.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=au(t.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=au(t.unaryFilter.field);return $e.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):n.fieldFilter!==void 0?function(t){return $e.create(au(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return rt.create(t.compositeFilter.filters.map(r=>fk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee()}function KU(n){return FU[n]}function GU(n){return UU[n]}function QU(n){return jU[n]}function ou(n){return{fieldPath:n.canonicalString()}}function au(n){return St.fromServerFormat(n.fieldPath)}function pk(n){return n instanceof $e?function(t){if(t.op==="=="){if(US(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NAN"}};if(FS(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(US(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NOT_NAN"}};if(FS(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ou(t.field),op:GU(t.op),value:t.value}}}(n):n instanceof rt?function(t){const r=t.getFilters().map(i=>pk(i));return r.length===1?r[0]:{compositeFilter:{op:QU(t.op),filters:r}}}(n):Ee()}function YU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,t,r,i,o=Pe.min(),l=Pe.min(),u=Ft.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.Tt=e}}function JU(n,e){let t;if(e.document)t=uk(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=qa(e.noDocument.readTime);t=yt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee();{const r=_e.fromSegments(e.unknownDocument.path),i=qa(e.unknownDocument.version);t=yt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new At(i[0],i[1]);return Pe.fromTimestamp(o)}(e.readTime)),t}function nR(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Rm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,l){return{name:fh(o,l.key),fields:l.data.value.mapValue.fields,updateTime:Vu(o,l.version.toTimestamp()),createTime:Vu(o,l.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:$a(e.version)};else{if(!e.isUnknownDocument())return Ee();r.unknownDocument={path:t.path.toArray(),version:$a(e.version)}}return r}function Rm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function $a(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qa(n){const e=new At(n.seconds,n.nanoseconds);return Pe.fromTimestamp(e)}function Sa(n,e){const t=(e.baseMutations||[]).map(o=>Dv(n.Tt,o));for(let o=0;o<e.mutations.length-1;++o){const l=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const u=e.mutations[o+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>Dv(n.Tt,o)),i=At.fromMillis(e.localWriteTimeMs);return new a0(e.batchId,i,t,r)}function Nd(n){const e=qa(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?qa(n.lastLimboFreeSnapshotVersion):Pe.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return Re(o.documents.length===1),$n(ec(ak(o.documents[0])))}(n.query):function(o){return $n(hk(o))}(n.query),new hs(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ft.fromBase64String(n.resumeToken))}function yk(n,e){const t=$a(e.snapshotVersion),r=$a(e.lastLimboFreeSnapshotVersion);let i;i=Im(e.target)?ck(n.Tt,e.target):dk(n.Tt,e.target).ht;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ja(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function h0(n){const e=hk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sm(e,e.limit,"L"):e}function U_(n,e){return new u0(e.largestBatchId,Dv(n.Tt,e.overlayMutation))}function rR(n,e){const t=e.path.lastSegment();return[n,Dn(e.path.popLast()),t]}function iR(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:$a(r.readTime),documentKey:Dn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{getBundleMetadata(e,t){return sR(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:qa(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return sR(e).put(function(i){return{bundleId:i.id,createTime:$a(qt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return oR(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:h0(o.bundledQuery),readTime:qa(o.readTime)}}(r)})}saveNamedQuery(e,t){return oR(e).put(function(i){return{name:i.name,readTime:$a(qt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function sR(n){return an(n,sg)}function oR(n){return an(n,og)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new fg(e,r)}getOverlay(e,t){return od(e).get(rR(this.userId,t)).next(r=>r?U_(this.serializer,r):null)}getOverlays(e,t){const r=Vi();return G.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,l)=>{const u=new u0(t,l);i.push(this.Et(e,u))}),G.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Dn(l.getCollectionPath())));const o=[];return i.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);o.push(od(e).J(Iv,u))}),G.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Vi(),o=Dn(t),l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return od(e).G(Iv,l).next(u=>{for(const d of u){const h=U_(this.serializer,d);i.set(h.getKey(),h)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Vi();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return od(e).Z({index:yC,range:u},(d,h,m)=>{const g=U_(this.serializer,h);o.size()<i||g.largestBatchId===l?(o.set(g.getKey(),g),l=g.largestBatchId):m.done()}).next(()=>o)}Et(e,t){return od(e).put(function(i,o,l){const[u,d,h]=rR(o,l.mutation.key);return{userId:o,collectionPath:d,documentId:h,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:ph(i.Tt,l.mutation)}}(this.serializer,this.userId,t))}}function od(n){return an(n,ag)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{dt(e){return an(e,Xw)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Ft.fromUint8Array(r):Ft.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(It(e.integerValue));else if("doubleValue"in e){const r=It(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),sh(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=ws(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Es(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?PC(e)?this.ft(t,Number.MAX_SAFE_INTEGER):cg(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):Ee()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const o=e.fields||{};this.ft(t,53);const l=ku,u=((i=(r=o[l].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(It(u)),this.wt(l,t),this.Rt(o[l],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}Ra.xt=new Ra;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=255;function ej(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function aR(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const l=ej(255&r[o]);if(i+=l,l!==8)break}return i}(n);return Math.ceil(e/8)}class tj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=aR(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=aR(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(Gl),this.jt(255)}Ht(){this.Jt(Gl),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===Gl?(this.jt(Gl),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===Gl?(this.Jt(Gl),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class nj{constructor(e){this.Zt=e}St(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class rj{constructor(e){this.Zt=e}St(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class ad{constructor(){this.Zt=new tj,this.Xt=new nj(this.Zt),this.en=new rj(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Aa(this.indexId,this.documentKey,this.arrayValue,r)}}function io(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=lR(n.arrayValue,e.arrayValue),t!==0?t:(t=lR(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function lR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.rn=new it((t,r)=>St.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Re(e.collectionGroup===this.collectionId),this.an)return!1;const t=vv(e);if(t!==void 0&&!this.cn(t))return!1;const r=Ea(e);let i=new Set,o=0,l=0;for(;o<r.length&&this.cn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.rn.size>0){const u=this.rn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const d=r[o];if(!this.ln(u,d)||!this.hn(this.sn[l++],d))return!1}++o}for(;o<r.length;++o){const u=r[o];if(l>=this.sn.length||!this.hn(this.sn[l++],u))return!1}return!0}Pn(){if(this.an)return null;let e=new it(St.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new jp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new jp(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new jp(r.field,r.dir==="asc"?0:1)));return new gm(gm.UNKNOWN_ID,this.collectionId,t,ih.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(n){var e,t;if(Re(n instanceof $e||n instanceof rt),n instanceof $e){if(n instanceof MC){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>$e.create(n.field,"==",o)))||[];return rt.create(i,"or")}return n}const r=n.filters.map(i=>_k(i));return rt.create(r,n.op)}function ij(n){if(n.getFilters().length===0)return[];const e=Mv(_k(n));return Re(vk(e)),Vv(e)||Lv(e)?[e]:e.getFilters()}function Vv(n){return n instanceof $e}function Lv(n){return n instanceof rt&&n0(n)}function vk(n){return Vv(n)||Lv(n)||function(t){if(t instanceof rt&&bv(t)){for(const r of t.getFilters())if(!Vv(r)&&!Lv(r))return!1;return!0}return!1}(n)}function Mv(n){if(Re(n instanceof $e||n instanceof rt),n instanceof $e)return n;if(n.filters.length===1)return Mv(n.filters[0]);const e=n.filters.map(r=>Mv(r));let t=rt.create(e,n.op);return t=Am(t),vk(t)?t:(Re(t instanceof rt),Re(Ou(t)),Re(t.filters.length>1),t.filters.reduce((r,i)=>f0(r,i)))}function f0(n,e){let t;return Re(n instanceof $e||n instanceof rt),Re(e instanceof $e||e instanceof rt),t=n instanceof $e?e instanceof $e?function(i,o){return rt.create([i,o],"and")}(n,e):cR(n,e):e instanceof $e?cR(e,n):function(i,o){if(Re(i.filters.length>0&&o.filters.length>0),Ou(i)&&Ou(o))return DC(i,o.getFilters());const l=bv(i)?i:o,u=bv(i)?o:i,d=l.filters.map(h=>f0(h,u));return rt.create(d,"or")}(n,e),Am(t)}function cR(n,e){if(Ou(e))return DC(e,n.getFilters());{const t=e.filters.map(r=>f0(n,r));return rt.create(t,"or")}}function Am(n){if(Re(n instanceof $e||n instanceof rt),n instanceof $e)return n;const e=n.getFilters();if(e.length===1)return Am(e[0]);if(OC(n))return n;const t=e.map(i=>Am(i)),r=[];return t.forEach(i=>{i instanceof $e?r.push(i):i instanceof rt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:rt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.Tn=new p0}addToCollectionParentIndex(e,t){return this.Tn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Er.min())}updateCollectionGroup(e,t,r){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class p0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new it(ze.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="IndexedDbIndexManager",Tp=new Uint8Array(0);class oj{constructor(e,t){this.databaseId=t,this.In=new p0,this.En=new Ps(r=>ja(r),(r,i)=>Fh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const o={collectionId:r,parent:Dn(i)};return hR(e).put(o)}return G.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[sC(t),""],!1,!0);return hR(e).G(i).next(o=>{for(const l of o){if(l.collectionId!==t)break;r.push(Di(l.parent))}return r})}addFieldIndex(e,t){const r=ld(e),i=function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const l=Yl(e);return o.next(u=>{l.put(iR(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=ld(e),i=Yl(e),o=Ql(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=ld(e),r=Ql(e),i=Yl(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return G.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new uR(r).Pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Ql(e);let i=!0;const o=new Map;return G.forEach(this.dn(t),l=>this.An(e,l).next(u=>{i&&(i=!!u),o.set(l,u)})).next(()=>{if(i){let l=Me();const u=[];return G.forEach(o,(d,h)=>{ue(dR,`Using index ${function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(z=>`${z.fieldPath}:${z.kind}`).join(",")}`}(d)} to execute ${ja(t)}`);const m=function(M,z){const j=vv(z);if(j===void 0)return null;for(const W of Tm(M,j.fieldPath))switch(W.op){case"array-contains-any":return W.value.arrayValue.values||[];case"array-contains":return[W.value]}return null}(h,d),g=function(M,z){const j=new Map;for(const W of Ea(z))for(const D of Tm(M,W.fieldPath))switch(D.op){case"==":case"in":j.set(W.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return j.set(W.fieldPath.canonicalString(),D.value),Array.from(j.values())}return null}(h,d),_=function(M,z){const j=[];let W=!0;for(const D of Ea(z)){const A=D.kind===0?qS(M,D.fieldPath,M.startAt):WS(M,D.fieldPath,M.startAt);j.push(A.value),W&&(W=A.inclusive)}return new bo(j,W)}(h,d),T=function(M,z){const j=[];let W=!0;for(const D of Ea(z)){const A=D.kind===0?WS(M,D.fieldPath,M.endAt):qS(M,D.fieldPath,M.endAt);j.push(A.value),W&&(W=A.inclusive)}return new bo(j,W)}(h,d),I=this.Rn(d,h,_),S=this.Rn(d,h,T),b=this.Vn(d,h,g),V=this.mn(d.indexId,m,I,_.inclusive,S,T.inclusive,b);return G.forEach(V,L=>r.H(L,t.limit).next(M=>{M.forEach(z=>{const j=_e.fromSegments(z.documentKey);l.has(j)||(l=l.add(j),u.push(j))})}))}).next(()=>u)}return G.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=ij(rt.create(e.filters,"and")).map(r=>Cv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,o,l,u){const d=(t!=null?t.length:1)*Math.max(r.length,o.length),h=d/(t!=null?t.length:1),m=[];for(let g=0;g<d;++g){const _=t?this.fn(t[g/h]):Tp,T=this.gn(e,_,r[g%h],i),I=this.pn(e,_,o[g%h],l),S=u.map(b=>this.gn(e,_,b,!0));m.push(...this.createRange(T,I,S))}return m}gn(e,t,r,i){const o=new Aa(e,_e.empty(),t,r);return i?o:o.nn()}pn(e,t,r,i){const o=new Aa(e,_e.empty(),t,r);return i?o.nn():o}An(e,t){const r=new uR(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let l=null;for(const u of o)r.un(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(e,t){let r=2;const i=this.dn(t);return G.forEach(i,o=>this.An(e,o).next(l=>{l?r!==0&&l.fields.length<function(d){let h=new it(St.comparator),m=!1;for(const g of d.filters)for(const _ of g.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?m=!0:h=h.add(_.field));for(const g of d.orderBy)g.field.isKeyField()||(h=h.add(g.field));return h.size+(m?1:0)}(o)&&(r=1):r=0})).next(()=>function(l){return l.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new ad;for(const i of Ea(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const l=r.tn(i.kind);Ra.xt.At(o,l)}return r.Yt()}fn(e){const t=new ad;return Ra.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new ad;return Ra.xt.At(Ua(this.databaseId,t),r.tn(function(o){const l=Ea(o);return l.length===0?0:l[l.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new ad);let o=0;for(const l of Ea(e)){const u=r[o++];for(const d of i)if(this.bn(t,l.fieldPath)&&dh(u))i=this.Sn(i,l,u);else{const h=d.tn(l.kind);Ra.xt.At(u,h)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}Sn(e,t,r){const i=[...e],o=[];for(const l of r.arrayValue.values||[])for(const u of i){const d=new ad;d.seed(u.Yt()),Ra.xt.At(l,d.tn(t.kind)),o.push(d)}return o}bn(e,t){return!!e.filters.find(r=>r instanceof $e&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=ld(e),i=Yl(e);return(t?r.G(Ev,IDBKeyRange.bound(t,t)):r.G()).next(o=>{const l=[];return G.forEach(o,u=>i.get([u.indexId,this.uid]).next(d=>{l.push(function(m,g){const _=g?new ih(g.sequenceNumber,new Er(qa(g.readTime),new _e(Di(g.documentKey)),g.largestBatchId)):ih.empty(),T=m.fields.map(([I,S])=>new jp(St.fromServerFormat(I),S));return new gm(m.indexId,m.collectionGroup,T,_)}(u,d))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:De(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=ld(e),o=Yl(e);return this.vn(e).next(l=>i.G(Ev,IDBKeyRange.bound(t,t)).next(u=>G.forEach(u,d=>o.put(iR(d.indexId,this.uid,l,r)))))}updateIndexEntries(e,t){const r=new Map;return G.forEach(t,(i,o)=>{const l=r.get(i.collectionGroup);return(l?G.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),G.forEach(u,d=>this.Cn(e,i,d).next(h=>{const m=this.Fn(o,d);return h.isEqual(m)?G.resolve():this.Mn(e,o,d,h,m)}))))})}xn(e,t,r,i){return Ql(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return Ql(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=Ql(e);let o=new it(io);return i.Z({index:gC,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(l,u)=>{o=o.add(new Aa(r.indexId,t,u.arrayValue,u.directionalValue))}).next(()=>o)}Fn(e,t){let r=new it(io);const i=this.yn(t,e);if(i==null)return r;const o=vv(t);if(o!=null){const l=e.data.field(o.fieldPath);if(dh(l))for(const u of l.arrayValue.values||[])r=r.add(new Aa(t.indexId,e.key,this.fn(u),i))}else r=r.add(new Aa(t.indexId,e.key,Tp,i));return r}Mn(e,t,r,i,o){ue(dR,"Updating index entries for document '%s'",t.key);const l=[];return function(d,h,m,g,_){const T=d.getIterator(),I=h.getIterator();let S=Kl(T),b=Kl(I);for(;S||b;){let V=!1,L=!1;if(S&&b){const M=m(S,b);M<0?L=!0:M>0&&(V=!0)}else S!=null?L=!0:V=!0;V?(g(b),b=Kl(I)):L?(_(S),S=Kl(T)):(S=Kl(T),b=Kl(I))}}(i,o,io,u=>{l.push(this.xn(e,t,r,u))},u=>{l.push(this.On(e,t,r,u))}),G.waitFor(l)}vn(e){let t=1;return Yl(e).Z({index:mC,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,u)=>io(l,u)).filter((l,u,d)=>!u||io(l,d[u-1])!==0);const i=[];i.push(e);for(const l of r){const u=io(l,e),d=io(l,t);if(u===0)i[0]=e.nn();else if(u>0&&d<0)i.push(l),i.push(l.nn());else if(d>0)break}i.push(t);const o=[];for(let l=0;l<i.length;l+=2){if(this.Nn(i[l],i[l+1]))return[];const u=[i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Tp,[]],d=[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Tp,[]];o.push(IDBKeyRange.bound(u,d))}return o}Nn(e,t){return io(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(fR)}getMinOffset(e,t){return G.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||Ee())).next(fR)}}function hR(n){return an(n,lh)}function Ql(n){return an(n,Em)}function ld(n){return an(n,Jw)}function Yl(n){return an(n,wm)}function fR(n){Re(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Gw(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Er(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wk=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(n,e,t){const r=n.store(oi),i=n.store(Au),o=[],l=IDBKeyRange.only(t.batchId);let u=0;const d=r.Z({range:l},(m,g,_)=>(u++,_.delete()));o.push(d.next(()=>{Re(u===1)}));const h=[];for(const m of t.mutations){const g=hC(e,m.key.path,t.batchId);o.push(i.delete(g)),h.push(m.key)}return G.waitFor(o).next(()=>h)}function bm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ee();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(wk,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class pg{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Re(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new pg(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return so(e).Z({index:Ca,range:r},(i,o,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=lu(e),l=so(e);return l.add({}).next(u=>{Re(typeof u=="number");const d=new a0(u,t,r,i),h=function(T,I,S){const b=S.baseMutations.map(L=>ph(T.Tt,L)),V=S.mutations.map(L=>ph(T.Tt,L));return{userId:I,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:b,mutations:V}}(this.serializer,this.userId,d),m=[];let g=new it((_,T)=>De(_.canonicalString(),T.canonicalString()));for(const _ of i){const T=hC(this.userId,_.key.path,u);g=g.add(_.key.path.popLast()),m.push(l.put(h)),m.push(o.put(T,j4))}return g.forEach(_=>{m.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.Bn[u]=d.keys()}),G.waitFor(m).next(()=>d)})}lookupMutationBatch(e,t){return so(e).get(t).next(r=>r?(Re(r.userId===this.userId),Sa(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?G.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return so(e).Z({index:Ca,range:i},(l,u,d)=>{u.userId===this.userId&&(Re(u.batchId>=r),o=Sa(this.serializer,u)),d.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=yo;return so(e).Z({index:Ca,range:t,reverse:!0},(i,o,l)=>{r=o.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,yo],[this.userId,Number.POSITIVE_INFINITY]);return so(e).G(Ca,t).next(r=>r.map(i=>Sa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Bp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return lu(e).Z({range:i},(l,u,d)=>{const[h,m,g]=l,_=Di(m);if(h===this.userId&&t.path.isEqual(_))return so(e).get(g).next(T=>{if(!T)throw Ee();Re(T.userId===this.userId),o.push(Sa(this.serializer,T))});d.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new it(De);const i=[];return t.forEach(o=>{const l=Bp(this.userId,o.path),u=IDBKeyRange.lowerBound(l),d=lu(e).Z({range:u},(h,m,g)=>{const[_,T,I]=h,S=Di(T);_===this.userId&&o.path.isEqual(S)?r=r.add(I):g.done()});i.push(d)}),G.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=Bp(this.userId,r),l=IDBKeyRange.lowerBound(o);let u=new it(De);return lu(e).Z({range:l},(d,h,m)=>{const[g,_,T]=d,I=Di(_);g===this.userId&&r.isPrefixOf(I)?I.length===i&&(u=u.add(T)):m.done()}).next(()=>this.kn(e,u))}kn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(so(e).get(o).next(l=>{if(l===null)throw Ee();Re(l.userId===this.userId),r.push(Sa(this.serializer,l))}))}),G.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Ek(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),G.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return G.resolve();const r=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),i=[];return lu(e).Z({range:r},(o,l,u)=>{if(o[0]===this.userId){const d=Di(o[1]);i.push(d)}else u.done()}).next(()=>{Re(i.length===0)})})}containsKey(e,t){return Ik(e,this.userId,t)}Qn(e){return Tk(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:yo,lastStreamToken:""})}}function Ik(n,e,t){const r=Bp(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let l=!1;return lu(n).Z({range:o,Y:!0},(u,d,h)=>{const[m,g,_]=u;m===e&&g===i&&(l=!0),h.done()}).next(()=>l)}function so(n){return an(n,oi)}function lu(n){return an(n,Au)}function Tk(n){return an(n,oh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Wa(0)}static Un(){return new Wa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new Wa(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>Pe.fromTimestamp(new At(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Jl(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Re(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Jl(e).Z((l,u)=>{const d=Nd(u);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,o.push(this.removeTargetData(e,d)))}).next(()=>G.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Jl(e).Z((r,i)=>{const o=Nd(i);t(o)})}Wn(e){return mR(e).get(vm).next(t=>(Re(t!==null),t))}Gn(e,t){return mR(e).put(vm,t)}zn(e,t){return Jl(e).put(yk(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=ja(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Jl(e).Z({range:i,index:pC},(l,u,d)=>{const h=Nd(u);Fh(t,h.target)&&(o=h,d.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=uo(e);return t.forEach(l=>{const u=Dn(l.path);i.push(o.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))}),G.waitFor(i)}removeMatchingKeys(e,t,r){const i=uo(e);return G.forEach(t,o=>{const l=Dn(o.path);return G.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=uo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=uo(e);let o=Me();return i.Z({range:r,Y:!0},(l,u,d)=>{const h=Di(l[1]),m=new _e(h);o=o.add(m)}).next(()=>o)}containsKey(e,t){const r=Dn(t.path),i=IDBKeyRange.bound([r],[sC(r)],!1,!0);let o=0;return uo(e).Z({index:Yw,Y:!0,range:i},([l,u],d,h)=>{l!==0&&(o++,h.done())}).next(()=>o>0)}lt(e,t){return Jl(e).get(t).next(r=>r?Nd(r):null)}}function Jl(n){return an(n,bu)}function mR(n){return an(n,Va)}function uo(n){return an(n,Pu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="LruGarbageCollector",lj=1048576;function yR([n,e],[t,r]){const i=De(n,t);return i===0?De(e,r):i}class uj{constructor(e){this.Hn=e,this.buffer=new it(yR),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();yR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Sk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(gR,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Uo(t)?ue(gR,"Ignoring IndexedDB error during garbage collection: ",t):await Fo(t)}await this.er(3e5)})}}class cj{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return G.resolve(er.ae);const r=new uj(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(pR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pR):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,l,u,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),iu()<=Be.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}function Rk(n,e){return new cj(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,t){this.db=e,this.garbageCollector=Rk(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return Sp(e,r)}removeReference(e,t,r){return Sp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Sp(e,t)}ar(e,t){return function(i,o){let l=!1;return Tk(i).X(u=>Ik(i,u,o).next(d=>(d&&(l=!0),G.resolve(!d)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this._r(e,(l,u)=>{if(u<=t){const d=this.ar(e,l).next(h=>{if(!h)return o++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Pe.min()),uo(e).delete(function(g){return[0,Dn(g.path)]}(l))))});i.push(d)}}).next(()=>G.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Sp(e,t)}_r(e,t){const r=uo(e);let i,o=er.ae;return r.Z({index:Yw},([l,u],{path:d,sequenceNumber:h})=>{l===0?(o!==er.ae&&t(new _e(Di(i)),o),o=h,i=d):o=er.ae}).next(()=>{o!==er.ae&&t(new _e(Di(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Sp(n,e){return uo(n).put(function(r,i){return{targetId:0,path:Dn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.changes=new Ps(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?G.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return _a(e).put(r)}removeEntry(e,t,r){return _a(e).delete(function(o,l){const u=o.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Rm(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=yt.newInvalidDocument(t);return _a(e).Z({index:zp,range:IDBKeyRange.only(ud(t))},(i,o)=>{r=this.cr(t,o)}).next(()=>r)}lr(e,t){let r={size:0,document:yt.newInvalidDocument(t)};return _a(e).Z({index:zp,range:IDBKeyRange.only(ud(t))},(i,o)=>{r={document:this.cr(t,o),size:bm(o)}}).next(()=>r)}getEntries(e,t){let r=nr();return this.hr(e,t,(i,o)=>{const l=this.cr(i,o);r=r.insert(i,l)}).next(()=>r)}Pr(e,t){let r=nr(),i=new pt(_e.comparator);return this.hr(e,t,(o,l)=>{const u=this.cr(o,l);r=r.insert(o,u),i=i.insert(o,bm(l))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return G.resolve();let i=new it(wR);t.forEach(d=>i=i.add(d));const o=IDBKeyRange.bound(ud(i.first()),ud(i.last())),l=i.getIterator();let u=l.getNext();return _a(e).Z({index:zp,range:o},(d,h,m)=>{const g=_e.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;u&&wR(u,g)<0;)r(u,null),u=l.getNext();u&&u.isEqual(g)&&(r(u,h),u=l.hasNext()?l.getNext():null),u?m.W(ud(u)):m.done()}).next(()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),Rm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _a(e).G(IDBKeyRange.bound(u,d,!0)).next(h=>{o==null||o.incrementDocumentReadCount(h.length);let m=nr();for(const g of h){const _=this.cr(_e.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);_.isFoundDocument()&&(jh(t,_)||i.has(_.key))&&(m=m.insert(_.key,_))}return m})}getAllFromCollectionGroup(e,t,r,i){let o=nr();const l=vR(t,r),u=vR(t,Er.max());return _a(e).Z({index:fC,range:IDBKeyRange.bound(l,u,!0)},(d,h,m)=>{const g=this.cr(_e.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);o=o.insert(g.key,g),o.size===i&&m.done()}).next(()=>o)}newChangeBuffer(e){return new fj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return _R(e).get(wv).next(t=>(Re(!!t),t))}ur(e,t){return _R(e).put(wv,t)}cr(e,t){if(t){const r=JU(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Pe.min())))return r}return yt.newInvalidDocument(e)}}function bk(n){return new hj(n)}class fj extends Ak{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new Ps(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new it((o,l)=>De(o.canonicalString(),l.canonicalString()));return this.changes.forEach((o,l)=>{const u=this.Er.get(o);if(t.push(this.Ir.removeEntry(e,o,u.readTime)),l.isValidDocument()){const d=nR(this.Ir.serializer,l);i=i.add(o.path.popLast());const h=bm(d);r+=h-u.size,t.push(this.Ir.addEntry(e,o,d))}else if(r-=u.size,this.trackRemovals){const d=nR(this.Ir.serializer,l.convertToNoDocument(Pe.min()));t.push(this.Ir.addEntry(e,o,d))}}),i.forEach(o=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Ir.updateMetadata(e,r)),G.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((o,l)=>{this.Er.set(o,{size:l,readTime:r.get(o).readTime})}),r))}}function _R(n){return an(n,ah)}function _a(n){return an(n,_m)}function ud(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function vR(n,e){const t=e.documentKey.path.toArray();return[n,Rm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function wR(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=De(t[o],r[o]),i)return i;return i=De(t.length,r.length),i||(i=De(t[t.length-2],r[r.length-2]),i||De(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Wd(r.mutation,i,tr.empty(),At.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){const i=Vi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=xd();return o.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Vi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let o=nr();const l=qd(),u=function(){return qd()}();return t.forEach((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof Cs)?o=o.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),Wd(m.mutation,h,m.mutation.getFieldMask(),At.now())):l.set(h.key,tr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,m)=>l.set(h,m)),t.forEach((h,m)=>{var g;return u.set(h,new pj(m,(g=l.get(h))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const r=qd();let i=new pt((l,u)=>l-u),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const h=t.get(d);if(h===null)return;let m=r.get(d)||tr.empty();m=u.applyToLocalView(h,m),r.set(d,m);const g=(i.get(u.batchId)||Me()).add(d);i=i.insert(u.batchId,g)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,m=d.value,g=qC();m.forEach(_=>{if(!o.has(_)){const T=JC(t.get(_),r.get(_));T!==null&&g.set(_,T),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return G.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):r0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):G.resolve(Vi());let u=Ru,d=o;return l.next(h=>G.forEach(h,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),o.get(m)?G.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,Me())).next(m=>({batchId:u,changes:$C(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=xd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=xd();return this.indexManager.getCollectionParents(e,o).next(u=>G.forEach(u,d=>{const h=function(g,_){return new bs(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((g,_)=>{l=l.insert(g,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,yt.newInvalidDocument(m)))});let u=xd();return l.forEach((d,h)=>{const m=o.get(d);m!==void 0&&Wd(m.mutation,h,tr.empty(),At.now()),jh(t,h)&&(u=u.insert(d,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return G.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:qt(i.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:h0(i.bundledQuery),readTime:qt(i.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.overlays=new pt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vi();return G.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),G.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),G.resolve()}getOverlaysForCollection(e,t,r){const i=Vi(),o=t.length+1,l=new _e(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return G.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new pt((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=o.get(h.largestBatchId);m===null&&(m=Vi(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=Vi(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=i)););return G.resolve(u)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new u0(t,r));let o=this.Rr.get(t);o===void 0&&(o=Me(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.Vr=new it(hn.mr),this.gr=new it(hn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new hn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new hn(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new _e(new ze([])),r=new hn(t,e),i=new hn(t,e+1),o=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new ze([])),r=new hn(t,e),i=new hn(t,e+1);let o=Me();return this.gr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new hn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||De(e.Cr,t.Cr)}static pr(e,t){return De(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new it(hn.mr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new a0(o,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Mr=this.Mr.add(new hn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return G.resolve(l)}lookupMutationBatch(e,t){return G.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return G.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?yo:this.Fr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new hn(t,0),i=new hn(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],l=>{const u=this.Or(l.Cr);o.push(u)}),G.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new it(De);return t.forEach(i=>{const o=new hn(i,0),l=new hn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],u=>{r=r.add(u.Cr)})}),G.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const l=new hn(new _e(o),0);let u=new it(De);return this.Mr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Cr)),!0)},l),G.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Re(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return G.forEach(t.mutations,i=>{const o=new hn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new hn(t,0),i=this.Mr.firstAfterOrEqual(r);return G.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.kr=e,this.docs=function(){return new pt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return G.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(t))}getEntries(e,t){let r=nr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():yt.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=nr();const l=t.path,u=new _e(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||Gw(aC(m),r)<=0||(i.has(m.key)||jh(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return G.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Ee()}qr(e,t){return G.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new wj(this)}getSize(e){return G.resolve(this.size)}}class wj extends Ak{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),G.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.persistence=e,this.Qr=new Ps(t=>ja(t),Fh),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new m0,this.targetCount=0,this.Ur=Wa.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),G.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Wa(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.zn(t),G.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),G.waitFor(o).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return G.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),G.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),G.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return G.resolve(r)}containsKey(e,t){return G.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new er(0),this.zr=!1,this.zr=!0,this.jr=new yj,this.referenceDelegate=e(this),this.Hr=new Ej(this),this.indexManager=new sj,this.remoteDocumentCache=function(i){return new vj(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new gk(t),this.Yr=new mj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new _j(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const i=new Ij(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return G.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class Ij extends uC{constructor(e){super(),this.currentSequenceNumber=e}}class mg{constructor(e){this.persistence=e,this.ti=new m0,this.ni=null}static ri(e){return new mg(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),G.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),G.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,Pe.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return G.or([()=>G.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Pm{constructor(e,t){this.persistence=e,this.oi=new Ps(r=>Dn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Rk(this,t)}static ri(e,t){return new Pm(e,t)}Zr(){}Xr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return G.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?G.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(u=>{u||(r++,o.removeEntry(l,Pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qp(e.data.value)),t}ar(e,t,r){return G.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return G.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.serializer=e}B(e,t,r,i){const o=new ig("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(Mh)}(e),function(d){d.createObjectStore(oh,{keyPath:U4}),d.createObjectStore(oi,{keyPath:OS,autoIncrement:!0}).createIndex(Ca,NS,{unique:!0}),d.createObjectStore(Au)}(e),ER(e),function(d){d.createObjectStore(Ia)}(e));let l=G.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(Pu),d.deleteObjectStore(bu),d.deleteObjectStore(Va)}(e),ER(e)),l=l.next(()=>function(d){const h=d.store(Va),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pe.min().toTimestamp(),targetCount:0};return h.put(vm,m)}(o))),r<4&&i>=4&&(r!==0&&(l=l.next(()=>function(d,h){return h.store(oi).G().next(g=>{d.deleteObjectStore(oi),d.createObjectStore(oi,{keyPath:OS,autoIncrement:!0}).createIndex(Ca,NS,{unique:!0});const _=h.store(oi),T=g.map(I=>_.put(I));return G.waitFor(T)})}(e,o))),l=l.next(()=>{(function(d){d.createObjectStore(Cu,{keyPath:G4})})(e)})),r<5&&i>=5&&(l=l.next(()=>this._i(o))),r<6&&i>=6&&(l=l.next(()=>(function(d){d.createObjectStore(ah)}(e),this.ai(o)))),r<7&&i>=7&&(l=l.next(()=>this.ui(o))),r<8&&i>=8&&(l=l.next(()=>this.ci(e,o))),r<9&&i>=9&&(l=l.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(l=l.next(()=>this.li(o))),r<11&&i>=11&&(l=l.next(()=>{(function(d){d.createObjectStore(sg,{keyPath:Q4})})(e),function(d){d.createObjectStore(og,{keyPath:Y4})}(e)})),r<12&&i>=12&&(l=l.next(()=>{(function(d){const h=d.createObjectStore(ag,{keyPath:rU});h.createIndex(Iv,iU,{unique:!1}),h.createIndex(yC,sU,{unique:!1})})(e)})),r<13&&i>=13&&(l=l.next(()=>function(d){const h=d.createObjectStore(_m,{keyPath:B4});h.createIndex(zp,z4),h.createIndex(fC,$4)}(e)).next(()=>this.hi(e,o)).next(()=>e.deleteObjectStore(Ia))),r<14&&i>=14&&(l=l.next(()=>this.Pi(e,o))),r<15&&i>=15&&(l=l.next(()=>function(d){d.createObjectStore(Jw,{keyPath:J4,autoIncrement:!0}).createIndex(Ev,X4,{unique:!1}),d.createObjectStore(wm,{keyPath:Z4}).createIndex(mC,eU,{unique:!1}),d.createObjectStore(Em,{keyPath:tU}).createIndex(gC,nU,{unique:!1})}(e))),r<16&&i>=16&&(l=l.next(()=>{t.objectStore(wm).clear()}).next(()=>{t.objectStore(Em).clear()})),r<17&&i>=17&&(l=l.next(()=>{(function(d){d.createObjectStore(Xw,{keyPath:oU})})(e)})),l}ai(e){let t=0;return e.store(Ia).Z((r,i)=>{t+=bm(i)}).next(()=>{const r={byteSize:t};return e.store(ah).put(wv,r)})}_i(e){const t=e.store(oh),r=e.store(oi);return t.G().next(i=>G.forEach(i,o=>{const l=IDBKeyRange.bound([o.userId,yo],[o.userId,o.lastAcknowledgedBatchId]);return r.G(Ca,l).next(u=>G.forEach(u,d=>{Re(d.userId===o.userId);const h=Sa(this.serializer,d);return Ek(e,o.userId,h).next(()=>{})}))}))}ui(e){const t=e.store(Pu),r=e.store(Ia);return e.store(Va).get(vm).next(i=>{const o=[];return r.Z((l,u)=>{const d=new ze(l),h=function(g){return[0,Dn(g)]}(d);o.push(t.get(h).next(m=>m?G.resolve():(g=>t.put({targetId:0,path:Dn(g),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>G.waitFor(o))})}ci(e,t){e.createObjectStore(lh,{keyPath:K4});const r=t.store(lh),i=new p0,o=l=>{if(i.add(l)){const u=l.lastSegment(),d=l.popLast();return r.put({collectionId:u,parent:Dn(d)})}};return t.store(Ia).Z({Y:!0},(l,u)=>{const d=new ze(l);return o(d.popLast())}).next(()=>t.store(Au).Z({Y:!0},([l,u,d],h)=>{const m=Di(u);return o(m.popLast())}))}li(e){const t=e.store(bu);return t.Z((r,i)=>{const o=Nd(i),l=yk(this.serializer,o);return t.put(l)})}hi(e,t){const r=t.store(Ia),i=[];return r.Z((o,l)=>{const u=t.store(_m),d=function(g){return g.document?new _e(ze.fromString(g.document.name).popFirst(5)):g.noDocument?_e.fromSegments(g.noDocument.path):g.unknownDocument?_e.fromSegments(g.unknownDocument.path):Ee()}(l).path.toArray(),h={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(h))}).next(()=>G.waitFor(i))}Pi(e,t){const r=t.store(oi),i=bk(this.serializer),o=new g0(mg.ri,this.serializer.Tt);return r.G().next(l=>{const u=new Map;return l.forEach(d=>{var h;let m=(h=u.get(d.userId))!==null&&h!==void 0?h:Me();Sa(this.serializer,d).keys().forEach(g=>m=m.add(g)),u.set(d.userId,m)}),G.forEach(u,(d,h)=>{const m=new fn(h),g=fg.It(this.serializer,m),_=o.getIndexManager(m),T=pg.It(m,this.serializer,_,o.referenceDelegate);return new Pk(i,T,g,_).recalculateAndSaveOverlaysForDocumentKeys(new Tv(t,er.ae),d).next()})})}}function ER(n){n.createObjectStore(Pu,{keyPath:W4}).createIndex(Yw,H4,{unique:!0}),n.createObjectStore(bu,{keyPath:"targetId"}).createIndex(pC,q4,{unique:!0}),n.createObjectStore(Va)}const oo="IndexedDbPersistence",j_=18e5,B_=5e3,z_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ck="main";class y0{constructor(e,t,r,i,o,l,u,d,h,m,g=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=o,this.window=l,this.document=u,this.Ii=h,this.Ei=m,this.di=g,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=_=>Promise.resolve(),!y0.D())throw new ae(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dj(this,i),this.gi=t+Ck,this.serializer=new gk(d),this.pi=new Li(this.gi,this.di,new Tj(this.serializer)),this.jr=new ZU,this.Hr=new aj(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bk(this.serializer),this.Yr=new XU,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,m===!1&&$t(oo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,z_);return this.bi(),this.Si(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new er(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Rp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(Uo(e))return ue(oo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue(oo,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return cd(e).get(Hl).next(t=>G.resolve(this.Ni(t)))}Bi(e){return Rp(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,j_)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=an(t,Cu);return r.G().next(i=>{const o=this.qi(i,j_),l=i.filter(u=>o.indexOf(u)===-1);return G.forEach(l,u=>r.delete(u.clientId)).next(()=>l)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?G.resolve(!0):cd(e).get(Hl).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,B_)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,z_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rp(e).G().next(r=>this.qi(r,B_).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(o||l&&u)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&ue(oo,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[Mh,Cu],e=>{const t=new Tv(e,er.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>Rp(e).G().next(t=>this.qi(t,j_).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return pg.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new oj(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return fg.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue(oo,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(d){return d===17?uU:d===16?lU:d===15?Zw:d===14?wC:d===13?vC:d===12?aU:d===11?_C:void Ee()}(this.di);let l;return this.pi.runTransaction(e,i,o,u=>(l=new Tv(u,this.Gr?this.Gr.next():er.ae),t==="readwrite-primary"?this.Fi(l).next(d=>!!d||this.Mi(l)).next(d=>{if(!d)throw $t(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new ae(te.FAILED_PRECONDITION,lC);return r(l)}).next(d=>this.Oi(l).next(()=>d)):this.ji(l).next(()=>r(l)))).then(u=>(l.raiseOnCommittedEvent(),u))}ji(e){return cd(e).get(Hl).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,B_)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ae(te.FAILED_PRECONDITION,z_)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cd(e).put(Hl,t)}static D(){return Li.D()}xi(e){const t=cd(e);return t.get(Hl).next(r=>this.Ni(r)?(ue(oo,"Releasing primary lease."),t.delete(Hl)):G.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||($t(`Detected an update time that is in the future: ${e} > ${r}`),!1))}bi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}Si(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;jb()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return ue(oo,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return $t(oo,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){$t("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cd(n){return an(n,Mh)}function Rp(n){return an(n,Cu)}function _0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Me(),i=Me();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new v0(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return jb()?8:cC(Nt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new Sj;return this._s(e,t,l).next(u=>{if(o.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(iu()<=Be.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",su(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(iu()<=Be.DEBUG&&ue("QueryEngine","Query:",su(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(iu()<=Be.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",su(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(t))):G.resolve())}rs(e,t){if(HS(t))return G.resolve(null);let r=$n(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Sm(t,null,"F"),r=$n(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Me(...o);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.cs(t,u);return this.ls(t,h,l,d.readTime)?this.rs(e,Sm(t,null,"F")):this.hs(e,h,t,d)}))})))}ss(e,t,r,i){return HS(t)||i.isEqual(Pe.min())?G.resolve(null):this.ns.getDocuments(e,r).next(o=>{const l=this.cs(t,o);return this.ls(t,l,r,i)?G.resolve(null):(iu()<=Be.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),su(t)),this.hs(e,l,t,oC(i,Ru)).next(u=>u))})}cs(e,t){let r=new it(BC(e));return t.forEach((i,o)=>{jh(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return iu()<=Be.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",su(t)),this.ns.getDocumentsMatchingQuery(e,t,Er.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="LocalStore",Rj=3e8;class Aj{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new pt(De),this.Is=new Ps(o=>ja(o),Fh),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pk(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function xk(n,e,t,r){return new Aj(n,e,t,r)}async function Ok(n,e){const t=ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let d=Me();for(const h of i){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of o){u.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(h=>({Rs:h,removedBatchIds:l,addedBatchIds:u}))})})}function bj(n,e){const t=ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,d,h,m){const g=h.batch,_=g.keys();let T=G.resolve();return _.forEach(I=>{T=T.next(()=>m.getEntry(d,I)).next(S=>{const b=h.docVersions.get(I);Re(b!==null),S.version.compareTo(b)<0&&(g.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),m.addEntry(S)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(d,g))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=Me();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Nk(n){const e=ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Pj(n,e){const t=ve(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((m,g)=>{const _=i.get(g);if(!_)return;u.push(t.Hr.removeMatchingKeys(o,m.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(o,m.addedDocuments,g)));let T=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(Ft.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(g,T),function(S,b,V){return S.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=Rj?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,T,m)&&u.push(t.Hr.updateTargetData(o,T))});let d=nr(),h=Me();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(Dk(o,l,e.documentUpdates).next(m=>{d=m.Vs,h=m.fs})),!r.isEqual(Pe.min())){const m=t.Hr.getLastRemoteSnapshotVersion(o).next(g=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(m)}return G.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(t.Ts=i,o))}function Dk(n,e,t){let r=Me(),i=Me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=nr();return t.forEach((u,d)=>{const h=o.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Pe.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):ue(w0,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)}),{Vs:l,fs:i}})}function Cj(n,e){const t=ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=yo),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Lu(n,e){const t=ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,G.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new hs(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Mu(n,e,t){const r=ve(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Uo(l))throw l;ue(w0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Cm(n,e,t){const r=ve(n);let i=Pe.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,m){const g=ve(d),_=g.Is.get(m);return _!==void 0?G.resolve(g.Ts.get(_)):g.Hr.getTargetData(h,m)}(r,l,$n(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,u.targetId).next(d=>{o=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:Pe.min(),t?o:Me())).next(u=>(Mk(r,jC(e),u),{documents:u,gs:o})))}function Vk(n,e){const t=ve(n),r=ve(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.lt(o,e).next(l=>l?l.target:null))}function Lk(n,e){const t=ve(n),r=t.Es.get(e)||Pe.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,oC(r,Ru),Number.MAX_SAFE_INTEGER)).then(i=>(Mk(t,e,i),i))}function Mk(n,e,t){let r=n.Es.get(e)||Pe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}async function kj(n,e,t,r){const i=ve(n);let o=Me(),l=nr();for(const h of t){const m=e.ps(h.metadata.name);h.document&&(o=o.add(m));const g=e.ys(h);g.setReadTime(e.ws(h.metadata.readTime)),l=l.insert(m,g)}const u=i.ds.newChangeBuffer({trackRemovals:!0}),d=await Lu(i,function(m){return $n(ec(ze.fromString(`__bundle__/docs/${m}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",h=>Dk(h,u,l).next(m=>(u.apply(h),m)).next(m=>i.Hr.removeMatchingKeysForTargetId(h,d.targetId).next(()=>i.Hr.addMatchingKeys(h,o,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,m.Vs,m.fs)).next(()=>m.Vs)))}async function xj(n,e,t=Me()){const r=await Lu(n,$n(h0(e.bundledQuery))),i=ve(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const l=qt(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Yr.saveNamedQuery(o,e);const u=r.withResumeToken(Ft.EMPTY_BYTE_STRING,l);return i.Ts=i.Ts.insert(u.targetId,u),i.Hr.updateTargetData(o,u).next(()=>i.Hr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Hr.addMatchingKeys(o,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="firestore_clients";function IR(n,e){return`${Fk}_${n}_${e}`}const Uk="firestore_mutations";function TR(n,e,t){let r=`${Uk}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const jk="firestore_targets";function $_(n,e){return`${jk}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="SharedClientState";class km{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static bs(e,t,r){const i=JSON.parse(r);let o,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(o=new ae(i.error.code,i.error.message))),l?new km(e,t,i.state,o):($t(Ri,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static bs(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new ae(r.error.code,r.error.message))),o?new Hd(e,r.state,i):($t(Ri,`Failed to parse target state for ID '${e}': ${t}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static bs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=i0();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=dC(r.activeTargetIds[l]),o=o.add(r.activeTargetIds[l]);return i?new xm(e,o):($t(Ri,`Failed to parse client data for instance '${e}': ${t}`),null)}}class E0{constructor(e,t){this.clientId=e,this.onlineState=t}static bs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new E0(t.clientId,t.onlineState):($t(Ri,`Failed to parse online state: ${e}`),null)}}class Fv{constructor(){this.activeTargetIds=i0()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q_{constructor(e,t,r,i,o){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new pt(De),this.started=!1,this.Os=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ns=IR(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new Fv),this.Ls=new RegExp(`^${Fk}_${l}_([^_]*)$`),this.ks=new RegExp(`^${Uk}_${l}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${jk}_${l}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(IR(this.persistenceKey,r));if(i){const o=xm.bs(r,i);o&&(this.xs=this.xs.insert(o.clientId,o))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem($_(this.persistenceKey,e));if(i){const o=Hd.bs(e,i);o&&(r=o.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($_(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue(Ri,"READ",e,t),t}setItem(e,t){ue(Ri,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue(Ri,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(ue(Ri,"EVENT",t.key,t.newValue),t.key===this.Ns)return void $t("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(o){let l=er.ae;if(o!=null)try{const u=JSON.parse(o);Re(typeof u=="number"),l=u}catch(u){$t(Ri,"Failed to read sequence number from WebStorage",u)}return l}(t.newValue);r!==er.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.Ss())}zs(e,t,r){const i=new km(this.currentUser,e,t,r),o=TR(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())}js(e){const t=TR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=$_(this.persistenceKey,e),o=new Hd(e,t,r);this.setItem(i,o.Ss())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return xm.bs(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return km.bs(new fn(o),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return Hd.bs(i,t)}Us(e){return E0.bs(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);ue(Ri,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),o=this.Gs(r),l=[],u=[];return o.forEach(d=>{i.has(d)||l.push(d)}),i.forEach(d=>{o.has(d)||u.push(d)}),this.syncEngine.lo(l,u).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=i0();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Bk{constructor(){this.ho=new Fv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Fv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="ConnectivityMonitor";class RR{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(SR,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(SR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ap=null;function Uv(){return Ap===null?Ap=function(){return 268435456+Math.round(2147483648*Math.random())}():Ap++,"0x"+Ap.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="RestConnection",Nj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dj{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Sv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,o){const l=Uv(),u=this.So(e,t.toUriEncodedString());ue(W_,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,o),this.vo(e,u,d,r).then(h=>(ue(W_,`Received RPC '${e}' ${l}: `,h),h),h=>{throw zi(W_,`RPC '${e}' ${l} failed with error: `,h,"url: ",u,"request:",r),h})}Co(e,t,r,i,o,l){return this.bo(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}So(e,t){const r=Nj[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class Lj extends Dj{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=Uv();return new Promise((l,u)=>{const d=new XP;d.setWithCredentials(!0),d.listenOnce(ZP.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Up.NO_ERROR:const m=d.getResponseJson();ue(kn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Up.TIMEOUT:ue(kn,`RPC '${e}' ${o} timed out`),u(new ae(te.DEADLINE_EXCEEDED,"Request time out"));break;case Up.HTTP_ERROR:const g=d.getStatus();if(ue(kn,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const I=function(b){const V=b.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(V)>=0?V:te.UNKNOWN}(T.status);u(new ae(I,T.message))}else u(new ae(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ae(te.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ue(kn,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);ue(kn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",h,r,15)})}Wo(e,t,r){const i=Uv(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=nC(),u=tC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=o.join("");ue(kn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=l.createWebChannel(m,d);let _=!1,T=!1;const I=new Vj({Fo:b=>{T?ue(kn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(_||(ue(kn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),ue(kn,`RPC '${e}' stream ${i} sending:`,b),g.send(b))},Mo:()=>g.close()}),S=(b,V,L)=>{b.listen(V,M=>{try{L(M)}catch(z){setTimeout(()=>{throw z},0)}})};return S(g,kd.EventType.OPEN,()=>{T||(ue(kn,`RPC '${e}' stream ${i} transport opened.`),I.Qo())}),S(g,kd.EventType.CLOSE,()=>{T||(T=!0,ue(kn,`RPC '${e}' stream ${i} transport closed`),I.Ko())}),S(g,kd.EventType.ERROR,b=>{T||(T=!0,zi(kn,`RPC '${e}' stream ${i} transport errored:`,b),I.Ko(new ae(te.UNAVAILABLE,"The operation could not be completed")))}),S(g,kd.EventType.MESSAGE,b=>{var V;if(!T){const L=b.data[0];Re(!!L);const M=L,z=(M==null?void 0:M.error)||((V=M[0])===null||V===void 0?void 0:V.error);if(z){ue(kn,`RPC '${e}' stream ${i} received error:`,z);const j=z.status;let W=function(C){const E=Jt[C];if(E!==void 0)return ek(E)}(j),D=z.message;W===void 0&&(W=te.INTERNAL,D="Unknown error status: "+j+" with message "+z.message),T=!0,I.Ko(new ae(W,D)),g.close()}else ue(kn,`RPC '${e}' stream ${i} received:`,L),I.Uo(L)}}),S(u,eC.STAT_EVENT,b=>{b.stat===_v.PROXY?ue(kn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===_v.NOPROXY&&ue(kn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(){return typeof window<"u"?window:null}function Gp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n){return new BU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="PersistentStream";class $k{constructor(e,t,r,i,o,l,u,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new I0(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?($t(t.toString()),$t("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new ae(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(AR,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ue(AR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mj extends $k{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=qU(this.serializer,e),r=function(o){if(!("targetChange"in o))return Pe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Pe.min():l.readTime?qt(l.readTime):Pe.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Nv(this.serializer),t.addTarget=function(o,l){let u;const d=l.target;if(u=Im(d)?{documents:ck(o,d)}:{query:dk(o,d).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=ik(o,l.resumeToken);const h=xv(o,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Pe.min())>0){u.readTime=Vu(o,l.snapshotVersion.toTimestamp());const h=xv(o,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=HU(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Nv(this.serializer),t.removeTarget=e,this.I_(t)}}class Fj extends $k{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=WU(e.writeResults,e.commitTime),r=qt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Nv(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ph(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{}class jj extends Uj{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.bo(e,Ov(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(te.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,Ov(t,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ae(te.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Bj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?($t(t),this.N_=!1):ue("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="RemoteStore";class zj{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{r.enqueueAndForget(async()=>{Bo(this)&&(ue(Ha,"Restarting streams for network reachability change."),await async function(d){const h=ve(d);h.W_.add(4),await rc(h),h.j_.set("Unknown"),h.W_.delete(4),await Wh(h)}(this))})}),this.j_=new Bj(r,i)}}async function Wh(n){if(Bo(n))for(const e of n.G_)await e(!0)}async function rc(n){for(const e of n.G_)await e(!1)}function gg(n,e){const t=ve(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),R0(t)?S0(t):sc(t).c_()&&T0(t,e))}function Fu(n,e){const t=ve(n),r=sc(t);t.U_.delete(e),r.c_()&&qk(t,e),t.U_.size===0&&(r.c_()?r.P_():Bo(t)&&t.j_.set("Unknown"))}function T0(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sc(n).y_(e)}function qk(n,e){n.H_.Ne(e),sc(n).w_(e)}function S0(n){n.H_=new MU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),sc(n).start(),n.j_.B_()}function R0(n){return Bo(n)&&!sc(n).u_()&&n.U_.size>0}function Bo(n){return ve(n).W_.size===0}function Wk(n){n.H_=void 0}async function $j(n){n.j_.set("Online")}async function qj(n){n.U_.forEach((e,t)=>{T0(n,e)})}async function Wj(n,e){Wk(n),R0(n)?(n.j_.q_(e),S0(n)):n.j_.set("Unknown")}async function Hj(n,e,t){if(n.j_.set("Online"),e instanceof rk&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.U_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.U_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(r){ue(Ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Om(n,r)}else if(e instanceof Kp?n.H_.We(e):e instanceof nk?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Pe.min()))try{const r=await Nk(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.H_.ot(l);return u.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.U_.get(h);m&&o.U_.set(h,m.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,h)=>{const m=o.U_.get(d);if(!m)return;o.U_.set(d,m.withResumeToken(Ft.EMPTY_BYTE_STRING,m.snapshotVersion)),qk(o,d);const g=new hs(m.target,d,h,m.sequenceNumber);T0(o,g)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ue(Ha,"Failed to raise snapshot:",r),await Om(n,r)}}async function Om(n,e,t){if(!Uo(e))throw e;n.W_.add(1),await rc(n),n.j_.set("Offline"),t||(t=()=>Nk(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(Ha,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Wh(n)})}function Hk(n,e){return e().catch(t=>Om(n,t,e))}async function ic(n){const e=ve(n),t=Po(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:yo;for(;Kj(e);)try{const i=await Cj(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,Gj(e,i)}catch(i){await Om(e,i)}Kk(e)&&Gk(e)}function Kj(n){return Bo(n)&&n.K_.length<10}function Gj(n,e){n.K_.push(e);const t=Po(n);t.c_()&&t.b_&&t.S_(e.mutations)}function Kk(n){return Bo(n)&&!Po(n).u_()&&n.K_.length>0}function Gk(n){Po(n).start()}async function Qj(n){Po(n).C_()}async function Yj(n){const e=Po(n);for(const t of n.K_)e.S_(t.mutations)}async function Jj(n,e,t){const r=n.K_.shift(),i=l0.from(r,e,t);await Hk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await ic(n)}async function Xj(n,e){e&&Po(n).b_&&await async function(r,i){if(function(l){return ZC(l)&&l!==te.ABORTED}(i.code)){const o=r.K_.shift();Po(r).h_(),await Hk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ic(r)}}(n,e),Kk(n)&&Gk(n)}async function bR(n,e){const t=ve(n);t.asyncQueue.verifyOperationInProgress(),ue(Ha,"RemoteStore received new credentials");const r=Bo(t);t.W_.add(3),await rc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Wh(t)}async function jv(n,e){const t=ve(n);e?(t.W_.delete(2),await Wh(t)):e||(t.W_.add(2),await rc(t),t.j_.set("Unknown"))}function sc(n){return n.J_||(n.J_=function(t,r,i){const o=ve(t);return o.M_(),new Mj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:$j.bind(null,n),No:qj.bind(null,n),Lo:Wj.bind(null,n),p_:Hj.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),R0(n)?S0(n):n.j_.set("Unknown")):(await n.J_.stop(),Wk(n))})),n.J_}function Po(n){return n.Y_||(n.Y_=function(t,r,i){const o=ve(t);return o.M_(),new Fj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:Qj.bind(null,n),Lo:Xj.bind(null,n),D_:Yj.bind(null,n),v_:Jj.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await ic(n)):(await n.Y_.stop(),n.K_.length>0&&(ue(Ha,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,u=new A0(e,t,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oc(n,e){if($t("AsyncQueue",`${e}: ${n}`),Uo(n))return new ae(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{static emptySet(e){return new gu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=xd(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new gu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.Z_=new pt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Uu{constructor(e,t,r,i,o,l,u,d,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Uu(e,t,gu.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class eB{constructor(){this.queries=CR(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=ve(t),o=i.queries;i.queries=CR(),o.forEach((l,u)=>{for(const d of u.ta)d.onError(r)})})(this,new ae(te.ABORTED,"Firestore shutting down"))}}function CR(){return new Ps(n=>UC(n),Uh)}async function b0(n,e){const t=ve(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new Zj,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=oc(l,`Initialization of query '${su(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&C0(t)}async function P0(n,e){const t=ve(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function tB(n,e){const t=ve(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.ta)u.oa(i)&&(r=!0);l.ea=i}}r&&C0(t)}function nB(n,e,t){const r=ve(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function C0(n){n.ia.forEach(e=>{e.next()})}var Bv,kR;(kR=Bv||(Bv={}))._a="default",kR.Cache="cache";class k0{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Uu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Bv.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.serializer=e}ps(e){return Mi(this.serializer,e)}ys(e){return e.metadata.exists?uk(this.serializer,e.document,!1):yt.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return qt(e)}}class iB{constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Qk(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=ze.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new xR(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.ps(i.metadata.name);for(const l of i.metadata.queries){const u=(t.get(l)||Me()).add(o);t.set(l,u)}}return t}async complete(){const e=await kj(this.localStore,new xR(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await xj(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function Qk(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.key=e}}class Jk{constructor(e){this.key=e}}class Xk{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=BC(e),this.wa=new gu(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new PR,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const _=i.get(m),T=jh(this.query,g)?g:null,I=!!_&&this.mutatedKeys.has(_.key),S=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let b=!1;_&&T?_.data.isEqual(T.data)?I!==S&&(r.track({type:3,doc:T}),b=!0):this.va(_,T)||(r.track({type:2,doc:T}),b=!0,(d&&this.ya(T,d)>0||h&&this.ya(T,h)<0)&&(u=!0)):!_&&T?(r.track({type:0,doc:T}),b=!0):_&&!T&&(r.track({type:1,doc:_}),b=!0,(d||h)&&(u=!0)),b&&(T?(l=l.add(T),o=S?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:u,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,g)=>function(T,I){const S=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return S(T)-S(I)}(m.type,g.type)||this.ya(m.doc,g.doc)),this.Ca(r),i=i!=null&&i;const u=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,h=d!==this.ga;return this.ga=d,l.length!==0||h?{snapshot:new Uu(this.query,e.wa,o,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new PR,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Jk(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Yk(r))}),t}Oa(e){this.fa=e.gs,this.pa=Me();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Uu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const zo="SyncEngine";class sB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class oB{constructor(e){this.key=e,this.Ba=!1}}class aB{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Ps(u=>UC(u),Uh),this.qa=new Map,this.Qa=new Set,this.$a=new pt(_e.comparator),this.Ka=new Map,this.Ua=new m0,this.Wa={},this.Ga=new Map,this.za=Wa.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function lB(n,e,t=!0){const r=yg(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await Zk(r,e,t,!0),i}async function uB(n,e){const t=yg(n);await Zk(t,e,!0,!1)}async function Zk(n,e,t,r){const i=await Lu(n.localStore,$n(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await x0(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&gg(n.remoteStore,i),u}async function x0(n,e,t,r,i){n.Ha=(g,_,T)=>async function(S,b,V,L){let M=b.view.Sa(V);M.ls&&(M=await Cm(S.localStore,b.query,!1).then(({documents:D})=>b.view.Sa(D,M)));const z=L&&L.targetChanges.get(b.targetId),j=L&&L.targetMismatches.get(b.targetId)!=null,W=b.view.applyChanges(M,S.isPrimaryClient,z,j);return zv(S,b.targetId,W.Ma),W.snapshot}(n,g,_,T);const o=await Cm(n.localStore,e,!0),l=new Xk(e,o.gs),u=l.Sa(o.documents),d=$h.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=l.applyChanges(u,n.isPrimaryClient,d);zv(n,t,h.Ma);const m=new sB(e,t,l);return n.ka.set(e,m),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),h.snapshot}async function cB(n,e,t){const r=ve(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(l=>!Uh(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Mu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Fu(r.remoteStore,i.targetId),ju(r,i.targetId)}).catch(Fo)):(ju(r,i.targetId),await Mu(r.localStore,i.targetId,!0))}async function dB(n,e){const t=ve(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Fu(t.remoteStore,r.targetId))}async function hB(n,e,t){const r=V0(n);try{const i=await function(l,u){const d=ve(l),h=At.now(),m=u.reduce((T,I)=>T.add(I.key),Me());let g,_;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let I=nr(),S=Me();return d.ds.getEntries(T,m).next(b=>{I=b,I.forEach((V,L)=>{L.isValidDocument()||(S=S.add(V))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,I)).next(b=>{g=b;const V=[];for(const L of u){const M=DU(L,g.get(L.key).overlayedDocument);M!=null&&V.push(new Cs(L.key,M,kC(M.value.mapValue),Rt.exists(!0)))}return d.mutationQueue.addMutationBatch(T,h,V,u)}).next(b=>{_=b;const V=b.applyToLocalDocumentSet(g,S);return d.documentOverlayCache.saveOverlays(T,b.batchId,V)})}).then(()=>({batchId:_.batchId,changes:$C(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let h=l.Wa[l.currentUser.toKey()];h||(h=new pt(De)),h=h.insert(u,d),l.Wa[l.currentUser.toKey()]=h}(r,i.batchId,t),await ks(r,i.changes),await ic(r.remoteStore)}catch(i){const o=oc(i,"Failed to persist write");t.reject(o)}}async function e1(n,e){const t=ve(n);try{const r=await Pj(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Ka.get(o);l&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Re(l.Ba):i.removedDocuments.size>0&&(Re(l.Ba),l.Ba=!1))}),await ks(t,r,e)}catch(r){await Fo(r)}}function OR(n,e,t){const r=ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,l)=>{const u=l.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=ve(l);d.onlineState=u;let h=!1;d.queries.forEach((m,g)=>{for(const _ of g.ta)_.sa(u)&&(h=!0)}),h&&C0(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fB(n,e,t){const r=ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let l=new pt(_e.comparator);l=l.insert(o,yt.newNoDocument(o,Pe.min()));const u=Me().add(o),d=new zh(Pe.min(),new Map,new pt(De),l,u);await e1(r,d),r.$a=r.$a.remove(o),r.Ka.delete(e),D0(r)}else await Mu(r.localStore,e,!1).then(()=>ju(r,e,t)).catch(Fo)}async function pB(n,e){const t=ve(n),r=e.batch.batchId;try{const i=await bj(t.localStore,e);N0(t,r,null),O0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ks(t,i)}catch(i){await Fo(i)}}async function mB(n,e,t){const r=ve(n);try{const i=await function(l,u){const d=ve(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,u).next(g=>(Re(g!==null),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(r.localStore,e);N0(r,e,t),O0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ks(r,i)}catch(i){await Fo(i)}}async function gB(n,e){const t=ve(n);Bo(t.remoteStore)||ue(zo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(l){const u=ve(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>u.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===yo)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=oc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function O0(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function N0(n,e,t){const r=ve(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function ju(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||t1(n,r)})}function t1(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Fu(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),D0(n))}function zv(n,e,t){for(const r of t)r instanceof Yk?(n.Ua.addReference(r.key,e),yB(n,r)):r instanceof Jk?(ue(zo,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||t1(n,r.key)):Ee()}function yB(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ue(zo,"New document in limbo: "+t),n.Qa.add(r),D0(n))}function D0(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(ze.fromString(e)),r=n.za.next();n.Ka.set(r,new oB(t)),n.$a=n.$a.insert(t,r),gg(n.remoteStore,new hs($n(ec(t.path)),r,"TargetPurposeLimboResolution",er.ae))}}async function ks(n,e,t){const r=ve(n),i=[],o=[],l=[];r.ka.isEmpty()||(r.ka.forEach((u,d)=>{l.push(r.Ha(d,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const g=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){i.push(h);const g=v0.Yi(d.targetId,h);o.push(g)}}))}),await Promise.all(l),r.La.p_(i),await async function(d,h){const m=ve(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>G.forEach(h,_=>G.forEach(_.Hi,T=>m.persistence.referenceDelegate.addReference(g,_.targetId,T)).next(()=>G.forEach(_.Ji,T=>m.persistence.referenceDelegate.removeReference(g,_.targetId,T)))))}catch(g){if(!Uo(g))throw g;ue(w0,"Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const T=m.Ts.get(_),I=T.snapshotVersion,S=T.withLastLimboFreeSnapshotVersion(I);m.Ts=m.Ts.insert(_,S)}}}(r.localStore,o))}async function _B(n,e){const t=ve(n);if(!t.currentUser.isEqual(e)){ue(zo,"User change. New user:",e.toKey());const r=await Ok(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(u=>{u.forEach(d=>{d.reject(new ae(te.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ks(t,r.Rs)}}function vB(n,e){const t=ve(n),r=t.Ka.get(e);if(r&&r.Ba)return Me().add(r.key);{let i=Me();const o=t.qa.get(e);if(!o)return i;for(const l of o){const u=t.ka.get(l);i=i.unionWith(u.view.ba)}return i}}async function wB(n,e){const t=ve(n),r=await Cm(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&zv(t,e.targetId,i.Ma),i}async function EB(n,e){const t=ve(n);return Lk(t.localStore,e).then(r=>ks(t,r))}async function IB(n,e,t,r){const i=ve(n),o=await function(u,d){const h=ve(u),m=ve(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",g=>m.Ln(g,d).next(_=>_?h.localDocuments.getDocuments(g,_):G.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await ic(i.remoteStore):t==="acknowledged"||t==="rejected"?(N0(i,e,r||null),O0(i,e),function(u,d){ve(ve(u).mutationQueue).qn(d)}(i.localStore,e)):Ee(),await ks(i,o)):ue(zo,"Cannot apply mutation batch with id: "+e)}async function TB(n,e){const t=ve(n);if(yg(t),V0(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await NR(t,r.toArray());t.ja=!0,await jv(t.remoteStore,!0);for(const o of i)gg(t.remoteStore,o)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((o,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(ju(t,l),Mu(t.localStore,l,!0))),Fu(t.remoteStore,l)}),await i,await NR(t,r),function(l){const u=ve(l);u.Ka.forEach((d,h)=>{Fu(u.remoteStore,h)}),u.Ua.Dr(),u.Ka=new Map,u.$a=new pt(_e.comparator)}(t),t.ja=!1,await jv(t.remoteStore,!1)}}async function NR(n,e,t){const r=ve(n),i=[],o=[];for(const l of e){let u;const d=r.qa.get(l);if(d&&d.length!==0){u=await Lu(r.localStore,$n(d[0]));for(const h of d){const m=r.ka.get(h),g=await wB(r,m);g.snapshot&&o.push(g.snapshot)}}else{const h=await Vk(r.localStore,l);u=await Lu(r.localStore,h),await x0(r,n1(h),l,!1,u.resumeToken)}i.push(u)}return r.La.p_(o),i}function n1(n){return FC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function SB(n){return function(t){return ve(ve(t).persistence).zi()}(ve(n).localStore)}async function RB(n,e,t,r){const i=ve(n);if(i.ja)return void ue(zo,"Ignoring unexpected query state notification.");const o=i.qa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const l=await Lk(i.localStore,jC(o[0])),u=zh.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Ft.EMPTY_BYTE_STRING);await ks(i,l,u);break}case"rejected":await Mu(i.localStore,e,!0),ju(i,e,r);break;default:Ee()}}async function AB(n,e,t){const r=yg(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ue(zo,"Adding an already active target "+i);continue}const o=await Vk(r.localStore,i),l=await Lu(r.localStore,o);await x0(r,n1(o),l.targetId,!1,l.resumeToken),gg(r.remoteStore,l)}for(const i of t)r.qa.has(i)&&await Mu(r.localStore,i,!1).then(()=>{Fu(r.remoteStore,i),ju(r,i)}).catch(Fo)}}function yg(n){const e=ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=e1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fB.bind(null,e),e.La.p_=tB.bind(null,e.eventManager),e.La.Ja=nB.bind(null,e.eventManager),e}function V0(n){const e=ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mB.bind(null,e),e}function bB(n,e,t){const r=ve(n);(async function(o,l,u){try{const d=await l.getMetadata();if(await function(T,I){const S=ve(T),b=qt(I.createTime);return S.persistence.runTransaction("hasNewerBundle","readonly",V=>S.Yr.getBundleMetadata(V,I.id)).then(V=>!!V&&V.createTime.compareTo(b)>=0)}(o.localStore,d))return await l.close(),u._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(d)),Promise.resolve(new Set);u._updateProgress(Qk(d));const h=new iB(d,o.localStore,l.serializer);let m=await l.Ya();for(;m;){const _=await h.Aa(m);_&&u._updateProgress(_),m=await l.Ya()}const g=await h.complete();return await ks(o,g.ma,void 0),await function(T,I){const S=ve(T);return S.persistence.runTransaction("Save bundle","readwrite",b=>S.Yr.saveBundleMetadata(b,I))}(o.localStore,d),u._completeWith(g.progress),Promise.resolve(g.Va)}catch(d){return zi(zo,`Loading bundle failed with ${d}`),u._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return xk(this.persistence,new kk,e.initialUser,this.serializer)}Xa(e){return new g0(mg.ri,this.serializer)}Za(e){return new Bk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class PB extends mh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Re(this.persistence.referenceDelegate instanceof Pm);const r=this.persistence.referenceDelegate.garbageCollector;return new Sk(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new g0(r=>Pm.ri(r,t),this.serializer)}}class r1 extends mh{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await V0(this.ru.syncEngine),await ic(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return xk(this.persistence,new kk,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new Sk(r,e.asyncQueue,t)}nu(e,t){const r=new M4(t,this.persistence);return new L4(e.asyncQueue,r)}Xa(e){const t=_0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new y0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,zk(),Gp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new Bk}}class CB extends r1{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof q_&&(this.sharedClientState.syncEngine={uo:IB.bind(null,t),co:RB.bind(null,t),lo:AB.bind(null,t),zi:SB.bind(null,t),ao:EB.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await TB(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=zk();if(!q_.D(t))throw new ae(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=_0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new q_(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class gh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_B.bind(null,this.syncEngine),await jv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eB}()}createDatastore(e){const t=qh(e.databaseInfo.databaseId),r=function(o){return new Lj(o)}(e.databaseInfo);return function(o,l,u,d){return new jj(o,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,u){return new zj(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>OR(this.syncEngine,t,0),function(){return RR.D()?new RR:new Oj}())}createSyncEngine(e,t){return function(i,o,l,u,d,h,m){const g=new aB(i,o,l,u,d,h);return m&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=ve(i);ue(Ha,"RemoteStore shutting down."),o.W_.add(5),await rc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}gh.provider={build:()=>new gh};function DR(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):$t("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new Rn,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new rB(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const l=ve(i),u={documents:o.map(g=>fh(l.serializer,g))},d=await l.Co("BatchGetDocuments",l.serializer.databaseId,ze.emptyPath(),u,o.length),h=new Map;d.forEach(g=>{const _=$U(l.serializer,g);h.set(_.key.toString(),_)});const m=[];return o.forEach(g=>{const _=h.get(g.toString());Re(!!_),m.push(_)}),m}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new nc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new o0(i,this.precondition(i)))}),await async function(r,i){const o=ve(r),l={writes:i.map(u=>ph(o.serializer,u))};await o.bo("Commit",o.serializer.databaseId,ze.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ee();t=Pe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ae(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Pe.min())?Rt.exists(!1):Rt.updateTime(t):Rt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pe.min()))throw new ae(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rt.updateTime(t)}return Rt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Tu=r.maxAttempts,this.a_=new I0(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new xB(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!Lh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!ZC(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="FirestoreClient";class NB{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=fn.UNAUTHENTICATED,this.clientId=iC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{ue(Co,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ue(Co,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=oc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function H_(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Co,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ok(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function VR(n,e){n.asyncQueue.verifyOperationInProgress();const t=await L0(n);ue(Co,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>bR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>bR(e.remoteStore,i)),n._onlineComponents=e}async function L0(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Co,"Using user provided OfflineComponentProvider");try{await H_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;zi("Error using user provided cache. Falling back to memory cache: "+t),await H_(n,new mh)}}else ue(Co,"Using default OfflineComponentProvider"),await H_(n,new PB(void 0));return n._offlineComponents}async function vg(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Co,"Using user provided OnlineComponentProvider"),await VR(n,n._uninitializedComponentsProvider._online)):(ue(Co,"Using default OnlineComponentProvider"),await VR(n,new gh))),n._onlineComponents}function i1(n){return L0(n).then(e=>e.persistence)}function M0(n){return L0(n).then(e=>e.localStore)}function s1(n){return vg(n).then(e=>e.remoteStore)}function F0(n){return vg(n).then(e=>e.syncEngine)}function DB(n){return vg(n).then(e=>e.datastore)}async function Bu(n){const e=await vg(n),t=e.eventManager;return t.onListen=lB.bind(null,e.syncEngine),t.onUnlisten=cB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dB.bind(null,e.syncEngine),t}function VB(n){return n.asyncQueue.enqueue(async()=>{const e=await i1(n),t=await s1(n);return e.setNetworkEnabled(!0),function(i){const o=ve(i);return o.W_.delete(0),Wh(o)}(t)})}function LB(n){return n.asyncQueue.enqueue(async()=>{const e=await i1(n),t=await s1(n);return e.setNetworkEnabled(!1),async function(i){const o=ve(i);o.W_.add(0),await rc(o),o.j_.set("Offline")}(t)})}function MB(n,e){const t=new Rn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,l){try{const u=await function(h,m){const g=ve(h);return g.persistence.runTransaction("read document","readonly",_=>g.localDocuments.getDocument(_,m))}(i,o);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new ae(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const d=oc(u,`Failed to get document '${o} from cache`);l.reject(d)}}(await M0(n),e,t)),t.promise}function o1(n,e,t={}){const r=new Rn;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,h){const m=new _g({next:_=>{m.su(),l.enqueueAndForget(()=>P0(o,g));const T=_.docs.has(u);!T&&_.fromCache?h.reject(new ae(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&d&&d.source==="server"?h.reject(new ae(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new k0(ec(u.path),m,{includeMetadataChanges:!0,Ta:!0});return b0(o,g)}(await Bu(n),n.asyncQueue,e,t,r)),r.promise}function FB(n,e){const t=new Rn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,l){try{const u=await Cm(i,o,!0),d=new Xk(o,u.gs),h=d.Sa(u.documents),m=d.applyChanges(h,!1);l.resolve(m.snapshot)}catch(u){const d=oc(u,`Failed to execute query '${o} against cache`);l.reject(d)}}(await M0(n),e,t)),t.promise}function a1(n,e,t={}){const r=new Rn;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,h){const m=new _g({next:_=>{m.su(),l.enqueueAndForget(()=>P0(o,g)),_.fromCache&&d.source==="server"?h.reject(new ae(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new k0(u,m,{includeMetadataChanges:!0,Ta:!0});return b0(o,g)}(await Bu(n),n.asyncQueue,e,t,r)),r.promise}function UB(n,e){const t=new _g(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){ve(i).ia.add(o),o.next()}(await Bu(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){ve(i).ia.delete(o)}(await Bu(n),t))}}function jB(n,e,t,r){const i=function(l,u){let d;return d=typeof l=="string"?tk().encode(l):l,function(m,g){return new kB(m,g)}(function(m,g){if(m instanceof Uint8Array)return DR(m,g);if(m instanceof ArrayBuffer)return DR(new Uint8Array(m),g);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),u)}(t,qh(e));n.asyncQueue.enqueueAndForget(async()=>{bB(await F0(n),i,r)})}function BB(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=ve(r);return o.persistence.runTransaction("Get named query","readonly",l=>o.Yr.getNamedQuery(l,i))}(await M0(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(n,e,t){if(!t)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function u1(n,e,t,r){if(e===!0&&r===!0)throw new ae(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function MR(n){if(!_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FR(n){if(_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee()}function Xe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wg(n);throw new ae(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function c1(n,e){if(e<=0)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="firestore.googleapis.com",UR=!0;class jR{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d1,this.ssl=UR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:UR;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lj)throw new ae(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A4;switch(r.type){case"firstParty":return new k4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=LR.get(t);r&&(ue("ComponentProvider","Removing Datastore"),LR.delete(t),r.terminate())}(this),Promise.resolve()}}function zB(n,e,t,r={}){var i;const o=(n=Xe(n,Hh))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o.host!==d1&&o.host!==u&&zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:u,ssl:!1,emulatorOptions:r});if(!ys(d,l)&&(n._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=fn.MOCK_USER;else{h=N2(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ae(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new fn(g)}n._authCredentials=new b4(new rC(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qn=class h1{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new h1(this.firestore,e,this._query)}},Ot=class f1{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new f1(this.firestore,e,this._key)}},_o=class p1 extends qn{constructor(e,t,r){super(e,t,ec(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new _e(e))}withConverter(e){return new p1(this.firestore,e,this._path)}};function m1(n,e,...t){if(n=Ce(n),U0("collection","path",e),n instanceof Hh){const r=ze.fromString(e,...t);return FR(r),new _o(n,null,r)}{if(!(n instanceof Ot||n instanceof _o))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ze.fromString(e,...t));return FR(r),new _o(n.firestore,null,r)}}function $B(n,e){if(n=Xe(n,Hh),U0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qn(n,null,function(r){return new bs(ze.emptyPath(),r)}(e))}function Nm(n,e,...t){if(n=Ce(n),arguments.length===1&&(e=iC.newId()),U0("doc","path",e),n instanceof Hh){const r=ze.fromString(e,...t);return MR(r),new Ot(n,null,new _e(r))}{if(!(n instanceof Ot||n instanceof _o))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ze.fromString(e,...t));return MR(r),new Ot(n.firestore,n instanceof _o?n.converter:null,new _e(r))}}function g1(n,e){return n=Ce(n),e=Ce(e),(n instanceof Ot||n instanceof _o)&&(e instanceof Ot||e instanceof _o)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function y1(n,e){return n=Ce(n),e=Ce(e),n instanceof qn&&e instanceof qn&&n.firestore===e.firestore&&Uh(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="AsyncQueue";class zR{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new I0(this,"async_queue_retry"),this.bu=()=>{const r=Gp();r&&ue(BR,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Gp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Gp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Rn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Uo(e))throw e;ue(BR,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw $t("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=A0.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function $v(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class qB{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=-1;let Wt=class extends Hh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new zR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zR(e),this._firestoreClient=void 0,await e}}};function Vn(n){if(n._terminated)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_1(n),n._firestoreClient}function _1(n){var e,t,r;const i=n._freezeSettings(),o=function(u,d,h,m){return new hU(u,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,l1(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new NB(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(n._componentsProvider))}function HB(n,e){zi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return v1(n,gh.provider,{build:r=>new r1(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function KB(n){zi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();v1(n,gh.provider,{build:t=>new CB(t,e.cacheSizeBytes)})}function v1(n,e,t){if((n=Xe(n,Wt))._firestoreClient||n._terminated)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ae(te.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},_1(n)}function GB(n){if(n._initialized&&!n._terminated)throw new ae(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Rn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Li.D())return Promise.resolve();const i=r+Ck;await Li.delete(i)}(_0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function QB(n){return function(t){const r=new Rn;return t.asyncQueue.enqueueAndForget(async()=>gB(await F0(t),r)),r.promise}(Vn(n=Xe(n,Wt)))}function YB(n){return VB(Vn(n=Xe(n,Wt)))}function JB(n){return LB(Vn(n=Xe(n,Wt)))}function XB(n,e){const t=Vn(n=Xe(n,Wt)),r=new qB;return jB(t,n._databaseId,e,r),r}function ZB(n,e){return BB(Vn(n=Xe(n,Wt)),e).then(t=>t?new qn(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qi(Ft.fromBase64String(e))}catch(t){throw new ae(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qi(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=/^__.*__$/;class t5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new tc(e,this.data,t,this.fieldTransforms)}}class w1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function E1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Ig{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ig(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Dm(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(E1(this.Lu)&&e5.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class n5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||qh(e)}ju(e,t,r,i=!1){return new Ig({Lu:e,methodName:t,zu:r,path:St.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function el(n){const e=n._freezeSettings(),t=qh(n._databaseId);return new n5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Tg(n,e,t,r,i,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,i);K0("Data must be an object, but it was:",l,r);const u=S1(r,l);let d,h;if(o.merge)d=new tr(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const g of o.mergeFields){const _=qv(e,g,t);if(!l.contains(_))throw new ae(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);A1(m,_)||m.push(_)}d=new tr(m),h=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,h=l.fieldTransforms;return new t5(new Sn(u),d,h)}class Kh extends Za{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}function I1(n,e,t){return new Ig({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class B0 extends Za{_toFieldTransform(e){return new Bh(e.path,new Nu)}isEqual(e){return e instanceof B0}}class z0 extends Za{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=I1(this,e,!0),r=this.Hu.map(o=>tl(o,t)),i=new Ba(r);return new Bh(e.path,i)}isEqual(e){return e instanceof z0&&ys(this.Hu,e.Hu)}}class $0 extends Za{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=I1(this,e,!0),r=this.Hu.map(o=>tl(o,t)),i=new za(r);return new Bh(e.path,i)}isEqual(e){return e instanceof $0&&ys(this.Hu,e.Hu)}}class q0 extends Za{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Du(e.serializer,HC(e.serializer,this.Ju));return new Bh(e.path,t)}isEqual(e){return e instanceof q0&&this.Ju===e.Ju}}function W0(n,e,t,r){const i=n.ju(1,e,t);K0("Data must be an object, but it was:",i,r);const o=[],l=Sn.empty();jo(r,(d,h)=>{const m=G0(e,d,t);h=Ce(h);const g=i.Ku(m);if(h instanceof Kh)o.push(m);else{const _=tl(h,g);_!=null&&(o.push(m),l.set(m,_))}});const u=new tr(o);return new w1(l,u,i.fieldTransforms)}function H0(n,e,t,r,i,o){const l=n.ju(1,e,t),u=[qv(e,r,t)],d=[i];if(o.length%2!=0)throw new ae(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)u.push(qv(e,o[_])),d.push(o[_+1]);const h=[],m=Sn.empty();for(let _=u.length-1;_>=0;--_)if(!A1(h,u[_])){const T=u[_];let I=d[_];I=Ce(I);const S=l.Ku(T);if(I instanceof Kh)h.push(T);else{const b=tl(I,S);b!=null&&(h.push(T),m.set(T,b))}}const g=new tr(h);return new w1(m,g,l.fieldTransforms)}function T1(n,e,t,r=!1){return tl(t,n.ju(r?4:3,e))}function tl(n,e){if(R1(n=Ce(n)))return K0("Unsupported field value:",e,n),S1(n,e);if(n instanceof Za)return function(r,i){if(!E1(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let d=tl(u,i.Uu(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HC(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=At.fromDate(r);return{timestampValue:Vu(i.serializer,o)}}if(r instanceof At){const o=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vu(i.serializer,o)}}if(r instanceof Eg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qi)return{bytesValue:ik(i.serializer,r._byteString)};if(r instanceof Ot){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:d0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof j0)return function(l,u){return{mapValue:{fields:{[e0]:{stringValue:t0},[ku]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return s0(u.serializer,h)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${wg(r)}`)}(n,e)}function S1(n,e){const t={};return EC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(n,(r,i)=>{const o=tl(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function R1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof Eg||n instanceof qi||n instanceof Ot||n instanceof Za||n instanceof j0)}function K0(n,e,t){if(!R1(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=wg(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function qv(n,e,t){if((e=Ce(e))instanceof ko)return e._internalPath;if(typeof e=="string")return G0(n,e);throw Dm("Field path arguments must be of type string or ",n,!1,void 0,t)}const r5=new RegExp("[~\\*/\\[\\]]");function G0(n,e,t){if(e.search(r5)>=0)throw Dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ko(...e.split("."))._internalPath}catch{throw Dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dm(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ae(te.INVALID_ARGUMENT,u+n+d)}function A1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class i5 extends yh{data(){return super.data()}}function Sg(n,e){return typeof e=="string"?G0(n,e):e instanceof ko?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q0{}class Gh extends Q0{}function ao(n,e,...t){let r=[];e instanceof Q0&&r.push(e),r=r.concat(t),function(o){const l=o.filter(d=>d instanceof Y0).length,u=o.filter(d=>d instanceof Rg).length;if(l>1||l>0&&u>0)throw new ae(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Rg extends Gh{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Rg(e,t,r)}_apply(e){const t=this._parse(e);return C1(e._query,t),new qn(e.firestore,e.converter,kv(e._query,t))}_parse(e){const t=el(e.firestore);return function(o,l,u,d,h,m,g){let _;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ae(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){qR(g,m);const I=[];for(const S of g)I.push($R(d,o,S));_={arrayValue:{values:I}}}else _=$R(d,o,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||qR(g,m),_=T1(u,l,g,m==="in"||m==="not-in");return $e.create(h,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function s5(n,e,t){const r=e,i=Sg("where",n);return Rg._create(i,r,t)}class Y0 extends Q0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Y0(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:rt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const u=o.getFlattenedFilters();for(const d of u)C1(l,d),l=kv(l,d)}(e._query,t),new qn(e.firestore,e.converter,kv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class J0 extends Gh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new J0(e,t)}_apply(e){const t=function(i,o,l){if(i.startAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hh(o,l)}(e._query,this._field,this._direction);return new qn(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new bs(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function o5(n,e="asc"){const t=e,r=Sg("orderBy",n);return J0._create(r,t)}class Ag extends Gh{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ag(e,t,r)}_apply(e){return new qn(e.firestore,e.converter,Sm(e._query,this._limit,this._limitType))}}function a5(n){return c1("limit",n),Ag._create("limit",n,"F")}function l5(n){return c1("limitToLast",n),Ag._create("limitToLast",n,"L")}class bg extends Gh{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new bg(e,t,r)}_apply(e){const t=P1(e,this.type,this._docOrFields,this._inclusive);return new qn(e.firestore,e.converter,function(i,o){return new bs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function u5(...n){return bg._create("startAt",n,!0)}function c5(...n){return bg._create("startAfter",n,!1)}class Pg extends Gh{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Pg(e,t,r)}_apply(e){const t=P1(e,this.type,this._docOrFields,this._inclusive);return new qn(e.firestore,e.converter,function(i,o){return new bs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function d5(...n){return Pg._create("endBefore",n,!1)}function h5(...n){return Pg._create("endAt",n,!0)}function P1(n,e,t,r){if(t[0]=Ce(t[0]),t[0]instanceof yh)return function(o,l,u,d,h){if(!d)throw new ae(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const g of mu(o))if(g.field.isKeyField())m.push(Ua(l,d.key));else{const _=d.data.field(g.field);if(lg(_))throw new ae(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const T=g.field.canonicalString();throw new ae(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}m.push(_)}return new bo(m,h)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=el(n.firestore);return function(l,u,d,h,m,g){const _=l.explicitOrderBy;if(m.length>_.length)throw new ae(te.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let I=0;I<m.length;I++){const S=m[I];if(_[I].field.isKeyField()){if(typeof S!="string")throw new ae(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof S}`);if(!r0(l)&&S.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${S}' contains a slash.`);const b=l.path.child(ze.fromString(S));if(!_e.isDocumentKey(b))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const V=new _e(b);T.push(Ua(u,V))}else{const b=T1(d,h,S);T.push(b)}}return new bo(T,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function $R(n,e,t){if(typeof(t=Ce(t))=="string"){if(t==="")throw new ae(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r0(e)&&t.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ze.fromString(t));if(!_e.isDocumentKey(r))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ua(n,new _e(r))}if(t instanceof Ot)return Ua(n,t._key);throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wg(t)}.`)}function qR(n,e){if(!Array.isArray(n)||n.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function C1(n,e){const t=function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class X0{convertValue(e,t="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return jo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ku].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>It(l.doubleValue));return new j0(o)}convertGeoPoint(e){return new Eg(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ug(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(uh(e));default:return null}}convertTimestamp(e){const t=ws(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ze.fromString(e);Re(mk(r));const i=new So(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(t)||$t(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class f5 extends X0{constructor(e){super(),this.firestore=e}convertBytes(e){return new qi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Is=class extends yh{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Sg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Kd=class extends Is{data(e={}){return super.data(e)}},xo=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ka(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Kd(this._firestore,this._userDataWriter,r.key,r,new ka(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new Kd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ka(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const d=new Kd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ka(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:p5(u.type),doc:d,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function p5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}function k1(n,e){return n instanceof Is&&e instanceof Is?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof xo&&e instanceof xo&&n._firestore===e._firestore&&y1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(n){n=Xe(n,Ot);const e=Xe(n.firestore,Wt);return o1(Vn(e),n._key).then(t=>Z0(e,n,t))}class nl extends X0{constructor(e){super(),this.firestore=e}convertBytes(e){return new qi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function g5(n){n=Xe(n,Ot);const e=Xe(n.firestore,Wt),t=Vn(e),r=new nl(e);return MB(t,n._key).then(i=>new Is(e,r,n._key,i,new ka(i!==null&&i.hasLocalMutations,!0),n.converter))}function y5(n){n=Xe(n,Ot);const e=Xe(n.firestore,Wt);return o1(Vn(e),n._key,{source:"server"}).then(t=>Z0(e,n,t))}function _5(n){n=Xe(n,qn);const e=Xe(n.firestore,Wt),t=Vn(e),r=new nl(e);return b1(n._query),a1(t,n._query).then(i=>new xo(e,r,n,i))}function v5(n){n=Xe(n,qn);const e=Xe(n.firestore,Wt),t=Vn(e),r=new nl(e);return FB(t,n._query).then(i=>new xo(e,r,n,i))}function w5(n){n=Xe(n,qn);const e=Xe(n.firestore,Wt),t=Vn(e),r=new nl(e);return a1(t,n._query,{source:"server"}).then(i=>new xo(e,r,n,i))}function WR(n,e,t){n=Xe(n,Ot);const r=Xe(n.firestore,Wt),i=Cg(n.converter,e,t);return Qh(r,[Tg(el(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Rt.none())])}function HR(n,e,t,...r){n=Xe(n,Ot);const i=Xe(n.firestore,Wt),o=el(i);let l;return l=typeof(e=Ce(e))=="string"||e instanceof ko?H0(o,"updateDoc",n._key,e,t,r):W0(o,"updateDoc",n._key,e),Qh(i,[l.toMutation(n._key,Rt.exists(!0))])}function E5(n){return Qh(Xe(n.firestore,Wt),[new nc(n._key,Rt.none())])}function I5(n,e){const t=Xe(n.firestore,Wt),r=Nm(n),i=Cg(n.converter,e);return Qh(t,[Tg(el(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Rt.exists(!1))]).then(()=>r)}function x1(n,...e){var t,r,i;n=Ce(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||$v(e[l])||(o=e[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if($v(e[l])){const g=e[l];e[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let d,h,m;if(n instanceof Ot)h=Xe(n.firestore,Wt),m=ec(n._key.path),d={next:g=>{e[l]&&e[l](Z0(h,n,g))},error:e[l+1],complete:e[l+2]};else{const g=Xe(n,qn);h=Xe(g.firestore,Wt),m=g._query;const _=new nl(h);d={next:T=>{e[l]&&e[l](new xo(h,_,g,T))},error:e[l+1],complete:e[l+2]},b1(n._query)}return function(_,T,I,S){const b=new _g(S),V=new k0(T,b,I);return _.asyncQueue.enqueueAndForget(async()=>b0(await Bu(_),V)),()=>{b.su(),_.asyncQueue.enqueueAndForget(async()=>P0(await Bu(_),V))}}(Vn(h),m,u,d)}function T5(n,e){return UB(Vn(n=Xe(n,Wt)),$v(e)?e:{next:e})}function Qh(n,e){return function(r,i){const o=new Rn;return r.asyncQueue.enqueueAndForget(async()=>hB(await F0(r),i,o)),o.promise}(Vn(n),e)}function Z0(n,e,t){const r=t.docs.get(e._key),i=new nl(n);return new Is(n,i,e._key,r,new ka(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R5=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=el(e)}set(e,t,r){this._verifyNotCommitted();const i=ho(e,this._firestore),o=Cg(i.converter,t,r),l=Tg(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Rt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=ho(e,this._firestore);let l;return l=typeof(t=Ce(t))=="string"||t instanceof ko?H0(this._dataReader,"WriteBatch.update",o._key,t,r,i):W0(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(l.toMutation(o._key,Rt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ho(e,this._firestore);return this._mutations=this._mutations.concat(new nc(t._key,Rt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ho(n,e){if((n=Ce(n)).firestore!==e)throw new ae(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=el(e)}get(e){const t=ho(e,this._firestore),r=new f5(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return Ee();const o=i[0];if(o.isFoundDocument())return new yh(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new yh(this._firestore,r,t._key,null,t.converter);throw Ee()})}set(e,t,r){const i=ho(e,this._firestore),o=Cg(i.converter,t,r),l=Tg(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const o=ho(e,this._firestore);let l;return l=typeof(t=Ce(t))=="string"||t instanceof ko?H0(this._dataReader,"Transaction.update",o._key,t,r,i):W0(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,l),this}delete(e){const t=ho(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b5=class extends A5{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ho(e,this._firestore),r=new nl(this._firestore);return super.get(e).then(i=>new Is(this._firestore,r,t._key,i._document,new ka(!1,!1),t.converter))}};function P5(n,e,t){n=Xe(n,Wt);const r=Object.assign(Object.assign({},S5),t);return function(o){if(o.maxAttempts<1)throw new ae(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,l,u){const d=new Rn;return o.asyncQueue.enqueueAndForget(async()=>{const h=await DB(o);new OB(o.asyncQueue,h,u,l,d).Iu()}),d.promise}(Vn(n),i=>e(new b5(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(){return new Kh("deleteField")}function k5(){return new B0("serverTimestamp")}function x5(...n){return new z0("arrayUnion",n)}function O5(...n){return new $0("arrayRemove",n)}function N5(n){return new q0("increment",n)}(function(e,t=!0){(function(i){Zu=i})(Lo),Eo(new ji("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new Wt(new P4(r.getProvider("auth-internal")),new x4(l,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ae(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new So(h.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),ai(SS,RS,e),ai(SS,RS,"esm2017")})();const D5="@firebase/firestore-compat",V5="0.3.44";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){if(typeof Uint8Array>"u")throw new ae("unimplemented","Uint8Arrays are not available in this environment.")}function GR(){if(!cU())throw new ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}let O1=class Wv{constructor(e){this._delegate=e}static fromBase64String(e){return GR(),new Wv(qi.fromBase64String(e))}static fromUint8Array(e){return KR(),new Wv(qi.fromUint8Array(e))}toBase64(){return GR(),this._delegate.toBase64()}toUint8Array(){return KR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(n){return L5(n,["next","error","complete"])}function L5(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{enableIndexedDbPersistence(e,t){return HB(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return KB(e._delegate)}clearIndexedDbPersistence(e){return GB(e._delegate)}}class N1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof So||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){zB(this._delegate,e,t,r)}enableNetwork(){return YB(this._delegate)}disableNetwork(){return JB(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,u1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return QB(this._delegate)}onSnapshotsInSync(e){return T5(this._delegate,e)}get app(){if(!this._appCompat)throw new ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new zu(this,m1(this._delegate,e))}catch(t){throw Bn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Mr(this,Nm(this._delegate,e))}catch(t){throw Bn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new jn(this,$B(this._delegate,e))}catch(t){throw Bn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return P5(this._delegate,t=>e(new D1(this,t)))}batch(){return Vn(this._delegate),new V1(new R5(this._delegate,e=>Qh(this._delegate,e)))}loadBundle(e){return XB(this._delegate,e)}namedQuery(e){return ZB(this._delegate,e).then(t=>t?new jn(this,t):null)}}class kg extends X0{constructor(e){super(),this.firestore=e}convertBytes(e){return new O1(new qi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Mr.forKey(t,this.firestore,null)}}function F5(n){S4(n)}class D1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new kg(e)}get(e){const t=xa(e);return this._delegate.get(t).then(r=>new _h(this._firestore,new Is(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=xa(e);return r?(eE("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=xa(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=xa(e);return this._delegate.delete(t),this}}class V1{constructor(e){this._delegate=e}set(e,t,r){const i=xa(e);return r?(eE("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=xa(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=xa(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ka{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Kd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vh(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Ka.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new Ka(e,new kg(e),t),i.set(t,o)),o}}Ka.INSTANCES=new WeakMap;class Mr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new kg(e)}static forPath(e,t,r){if(e.length%2!==0)throw new ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Mr(t,new Ot(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new Mr(t,new Ot(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new zu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new zu(this.firestore,m1(this._delegate,e))}catch(t){throw Bn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ce(e),e instanceof Ot?g1(this._delegate,e):!1}set(e,t){t=eE("DocumentReference.set",t);try{return t?WR(this._delegate,e,t):WR(this._delegate,e)}catch(r){throw Bn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?HR(this._delegate,e):HR(this._delegate,e,t,...r)}catch(i){throw Bn(i,"updateDoc()","DocumentReference.update()")}}delete(){return E5(this._delegate)}onSnapshot(...e){const t=L1(e),r=M1(e,i=>new _h(this.firestore,new Is(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return x1(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=g5(this._delegate):(e==null?void 0:e.source)==="server"?t=y5(this._delegate):t=m5(this._delegate),t.then(r=>new _h(this.firestore,new Is(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Mr(this.firestore,e?this._delegate.withConverter(Ka.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Bn(n,e,t){return n.message=n.message.replace(e,t),n}function L1(n){for(const e of n)if(typeof e=="object"&&!Hv(e))return e;return{}}function M1(n,e){var t,r;let i;return Hv(n[0])?i=n[0]:Hv(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class _h{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Mr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return k1(this._delegate,e._delegate)}}class vh extends _h{data(e){const t=this._delegate.data(e);return this._delegate._converter||R4(t!==void 0),t}}class jn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new kg(e)}where(e,t,r){try{return new jn(this.firestore,ao(this._delegate,s5(e,t,r)))}catch(i){throw Bn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new jn(this.firestore,ao(this._delegate,o5(e,t)))}catch(r){throw Bn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new jn(this.firestore,ao(this._delegate,a5(e)))}catch(t){throw Bn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new jn(this.firestore,ao(this._delegate,l5(e)))}catch(t){throw Bn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new jn(this.firestore,ao(this._delegate,u5(...e)))}catch(t){throw Bn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new jn(this.firestore,ao(this._delegate,c5(...e)))}catch(t){throw Bn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new jn(this.firestore,ao(this._delegate,d5(...e)))}catch(t){throw Bn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new jn(this.firestore,ao(this._delegate,h5(...e)))}catch(t){throw Bn(t,"endAt()","Query.endAt()")}}isEqual(e){return y1(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=v5(this._delegate):(e==null?void 0:e.source)==="server"?t=w5(this._delegate):t=_5(this._delegate),t.then(r=>new Kv(this.firestore,new xo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=L1(e),r=M1(e,i=>new Kv(this.firestore,new xo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return x1(this._delegate,t,r)}withConverter(e){return new jn(this.firestore,e?this._delegate.withConverter(Ka.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class U5{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new vh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Kv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new jn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new vh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new U5(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new vh(this._firestore,r))})}isEqual(e){return k1(this._delegate,e._delegate)}}class zu extends jn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Mr(this.firestore,e):null}doc(e){try{return e===void 0?new Mr(this.firestore,Nm(this._delegate)):new Mr(this.firestore,Nm(this._delegate,e))}catch(t){throw Bn(t,"doc()","CollectionReference.doc()")}}add(e){return I5(this._delegate,e).then(t=>new Mr(this.firestore,t))}isEqual(e){return g1(this._delegate,e._delegate)}withConverter(e){return new zu(this.firestore,e?this._delegate.withConverter(Ka.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function xa(n){return Xe(n,Ot)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(...e){this._delegate=new ko(...e)}static documentId(){return new tE(St.keyField().canonicalString())}isEqual(e){return e=Ce(e),e instanceof ko?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{static serverTimestamp(){const e=k5();return e._methodName="FieldValue.serverTimestamp",new ba(e)}static delete(){const e=C5();return e._methodName="FieldValue.delete",new ba(e)}static arrayUnion(...e){const t=x5(...e);return t._methodName="FieldValue.arrayUnion",new ba(t)}static arrayRemove(...e){const t=O5(...e);return t._methodName="FieldValue.arrayRemove",new ba(t)}static increment(e){const t=N5(e);return t._methodName="FieldValue.increment",new ba(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5={Firestore:N1,GeoPoint:Eg,Timestamp:At,Blob:O1,Transaction:D1,WriteBatch:V1,DocumentReference:Mr,DocumentSnapshot:_h,Query:jn,QueryDocumentSnapshot:vh,QuerySnapshot:Kv,CollectionReference:zu,FieldPath:tE,FieldValue:ba,setLogLevel:F5,CACHE_SIZE_UNLIMITED:WB};function B5(n,e){n.INTERNAL.registerComponent(new ji("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},j5)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(n){B5(n,(e,t)=>new N1(e,t,new M5)),n.registerVersion(D5,V5)}z5(Qu);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=2e3;async function q5(n,e,t){var r;const{BuildInfo:i}=Ga();li(e.sessionId,"AuthEvent did not contain a session ID");const o=await Q5(e.sessionId),l={};return xh()?l.ibi=i.packageName:kh()?l.apn=i.packageName:mn(n,"operation-not-supported-in-this-environment"),i.displayName&&(l.appDisplayName=i.displayName),l.sessionId=o,yv(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,l)}async function W5(n){const{BuildInfo:e}=Ga(),t={};xh()?t.iosBundleId=e.packageName:kh()?t.androidPackageName=e.packageName:mn(n,"operation-not-supported-in-this-environment"),await GP(n,t)}function H5(n){const{cordova:e}=Ga();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,xL()?"_blank":"_system","location=yes"),t(i)})})}async function K5(n,e,t){const{cordova:r}=Ga();let i=()=>{};try{await new Promise((o,l)=>{let u=null;function d(){var g;o();const _=(g=r.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof _=="function"&&_(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function h(){u||(u=window.setTimeout(()=>{l(on(n,"redirect-cancelled-by-user"))},$5))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&h()}e.addPassiveListener(d),document.addEventListener("resume",h,!1),kh()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",m,!1),u&&window.clearTimeout(u)}})}finally{i()}}function G5(n){var e,t,r,i,o,l,u,d,h,m;const g=Ga();de(typeof((e=g==null?void 0:g.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),de(typeof((t=g==null?void 0:g.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),de(typeof((o=(i=(r=g==null?void 0:g.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de(typeof((d=(u=(l=g==null?void 0:g.cordova)===null||l===void 0?void 0:l.plugins)===null||u===void 0?void 0:u.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de(typeof((m=(h=g==null?void 0:g.cordova)===null||h===void 0?void 0:h.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Q5(n){const e=Y5(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Y5(n){if(li(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=20;class X5 extends HP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Z5(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:n3(),postBody:null,tenantId:n.tenantId,error:on(n,"no-auth-event")}}function e3(n,e){return Gv()._set(Qv(n),e)}async function QR(n){const e=await Gv()._get(Qv(n));return e&&await Gv()._remove(Qv(n)),e}function t3(n,e){var t,r;const i=i3(e);if(i.includes("/__/auth/callback")){const o=Qp(i),l=o.firebaseError?r3(decodeURIComponent(o.firebaseError)):null,u=(r=(t=l==null?void 0:l.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=u?on(u):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function n3(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<J5;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function Gv(){return yr(Zm)}function Qv(n){return Na("authEvent",n.config.apiKey,n.name)}function r3(n){try{return JSON.parse(n)}catch{return null}}function i3(n){const e=Qp(n),t=e.link?decodeURIComponent(e.link):void 0,r=Qp(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Qp(i).link||i||r||t||n}function Qp(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return uu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=500;class o3{constructor(){this._redirectPersistence=Io,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=rg,this._overrideRedirectResult=Ww}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new X5(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){mn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){G5(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),NF(),await this._originValidation(e);const l=Z5(e,r,i);await e3(e,l);const u=await q5(e,l,t),d=await H5(u);return K5(e,o,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=W5(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=Ga(),l=setTimeout(async()=>{await QR(e),t.onEvent(YR())},s3),u=async m=>{clearTimeout(l);const g=await QR(e);let _=null;g&&(m!=null&&m.url)&&(_=t3(g,m.url)),t.onEvent(_||YR())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const d=i,h=`${o.packageName.toLowerCase()}://`;Ga().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(h)&&u({url:m}),typeof d=="function")try{d(m)}catch(g){console.error(g)}}}}const a3=o3;function YR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:on("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(n,e){Dt(n)._logFramework(e)}var u3="@firebase/auth-compat",c3="0.5.19";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=1e3;function Gd(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function h3(){return Gd()==="http:"||Gd()==="https:"}function F1(n=Nt()){return!!((Gd()==="file:"||Gd()==="ionic:"||Gd()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function f3(){return Sw()||Tw()}function p3(){return Ub()&&(document==null?void 0:document.documentMode)===11}function m3(n=Nt()){return/Edge\/\d+/.test(n)}function g3(n=Nt()){return p3()||m3(n)}function U1(){try{const n=self.localStorage,e=Dh();if(n)return n.setItem(e,"1"),n.removeItem(e),g3()?Xd():!0}catch{return nE()&&Xd()}return!1}function nE(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function K_(){return(h3()||Fb()||F1())&&!f3()&&U1()&&!nE()}function j1(){return F1()&&typeof document<"u"}async function y3(){return j1()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},d3);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function _3(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr={LOCAL:"local",NONE:"none",SESSION:"session"},dd=de,B1="persistence";function v3(n,e){if(dd(Object.values(mr).includes(e),n,"invalid-persistence-type"),Sw()){dd(e!==mr.SESSION,n,"unsupported-persistence-type");return}if(Tw()){dd(e===mr.NONE,n,"unsupported-persistence-type");return}if(nE()){dd(e===mr.NONE||e===mr.LOCAL&&Xd(),n,"unsupported-persistence-type");return}dd(e===mr.NONE||U1(),n,"unsupported-persistence-type")}async function Yv(n){await n._initializationPromise;const e=z1(),t=Na(B1,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function w3(n,e){const t=z1();if(!t)return[];const r=Na(B1,n,e);switch(t.getItem(r)){case mr.NONE:return[Eu];case mr.LOCAL:return[Tu,Io];case mr.SESSION:return[Io];default:return[]}}function z1(){var n;try{return((n=_3())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=de;class fo{constructor(){this.browserResolver=yr(QP),this.cordovaResolver=yr(a3),this.underlyingResolver=null,this._redirectPersistence=Io,this._completeRedirectFn=rg,this._overrideRedirectResult=Ww}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return j1()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return E3(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await y3();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(n){return n.unwrap()}function I3(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(n){return q1(n)}function S3(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new R3(n,GM(n,e))}else if(r){const i=q1(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function q1(n){const{_tokenResponse:e}=n instanceof zn?n.customData:n;if(!e)return null;if(!(n instanceof zn)&&"temporaryProof"in e&&"phoneNumber"in e)return Fa.credentialFromResult(n);const t=e.providerId;if(!t||t===id.PASSWORD)return null;let r;switch(t){case id.GOOGLE:r=Ci;break;case id.FACEBOOK:r=Pi;break;case id.GITHUB:r=ki;break;case id.TWITTER:r=xi;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:l,pendingToken:u,nonce:d}=e;return!o&&!l&&!i&&!u?null:u?t.startsWith("saml.")?Iu._create(t,u):Bi._fromParams({providerId:t,signInMethod:t,pendingToken:u,idToken:i,accessToken:o}):new fu(t).credential({idToken:i,accessToken:o,rawNonce:d})}return n instanceof zn?r.credentialFromError(n):r.credentialFromResult(n)}function Zn(n,e){return e.catch(t=>{throw t instanceof zn&&S3(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:T3(t),additionalUserInfo:WM(t),user:fs.getOrCreate(i)}})}async function Jv(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>Zn(n,t.confirm(r))}}class R3{constructor(e,t){this.resolver=t,this.auth=I3(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Zn($1(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this._delegate=e,this.multiFactor=JM(e)}static getOrCreate(e){return fs.USER_MAP.has(e)||fs.USER_MAP.set(e,new fs(e)),fs.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Zn(this.auth,CP(this._delegate,e))}async linkWithPhoneNumber(e,t){return Jv(this.auth,wF(this._delegate,e,t))}async linkWithPopup(e){return Zn(this.auth,CF(this._delegate,e,fo))}async linkWithRedirect(e){return await Yv(Dt(this.auth)),FF(this._delegate,e,fo)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Zn(this.auth,kP(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Jv(this.auth,EF(this._delegate,e,t))}reauthenticateWithPopup(e){return Zn(this.auth,PF(this._delegate,e,fo))}async reauthenticateWithRedirect(e){return await Yv(Dt(this.auth)),LF(this._delegate,e,fo)}sendEmailVerification(e){return DM(this._delegate,e)}async unlink(e){return await IM(this._delegate,e),this}updateEmail(e){return FM(this._delegate,e)}updatePassword(e){return UM(this._delegate,e)}updatePhoneNumber(e){return IF(this._delegate,e)}updateProfile(e){return MM(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return VM(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}fs.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=de;let Xv=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;hd(r,"invalid-api-key",{appName:e.name}),hd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?fo:void 0;this._delegate=t.initialize({options:{persistence:A3(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(hL),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?fs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){EP(this._delegate,e,t)}applyActionCode(e){return bM(this._delegate,e)}checkActionCode(e){return xP(this._delegate,e)}confirmPasswordReset(e,t){return AM(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Zn(this._delegate,OP(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return NM(this._delegate,e)}isSignInWithEmailLink(e){return kM(this._delegate,e)}async getRedirectResult(){hd(K_(),this._delegate,"operation-not-supported-in-this-environment");const e=await jF(this._delegate,fo);return e?Zn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){l3(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:l}=JR(e,t,r);return this._delegate.onAuthStateChanged(i,o,l)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:l}=JR(e,t,r);return this._delegate.onIdTokenChanged(i,o,l)}sendSignInLinkToEmail(e,t){return CM(this._delegate,e,t)}sendPasswordResetEmail(e,t){return RM(this._delegate,e,t||void 0)}async setPersistence(e){v3(this._delegate,e);let t;switch(e){case mr.SESSION:t=Io;break;case mr.LOCAL:t=await yr(Tu)._isAvailable()?Tu:Zm;break;case mr.NONE:t=Eu;break;default:return mn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Zn(this._delegate,EM(this._delegate))}signInWithCredential(e){return Zn(this._delegate,Jm(this._delegate,e))}signInWithCustomToken(e){return Zn(this._delegate,SM(this._delegate,e))}signInWithEmailAndPassword(e,t){return Zn(this._delegate,NP(this._delegate,e,t))}signInWithEmailLink(e,t){return Zn(this._delegate,xM(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Jv(this._delegate,vF(this._delegate,e,t))}async signInWithPopup(e){return hd(K_(),this._delegate,"operation-not-supported-in-this-environment"),Zn(this._delegate,bF(this._delegate,e,fo))}async signInWithRedirect(e){return hd(K_(),this._delegate,"operation-not-supported-in-this-environment"),await Yv(this._delegate),DF(this._delegate,e,fo)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return PM(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};Xv.Persistence=mr;function JR(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:l=>i(l&&fs.getOrCreate(l)),error:e,complete:t}}function A3(n,e){const t=w3(n,e);if(typeof self<"u"&&!t.includes(Tu)&&t.push(Tu),typeof window<"u")for(const r of[Zm,Io])t.includes(r)||t.push(r);return t.includes(Eu)||t.push(Eu),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{static credential(e,t){return Fa.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Fa($1(Qu.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}rE.PHONE_SIGN_IN_METHOD=Fa.PHONE_SIGN_IN_METHOD;rE.PROVIDER_ID=Fa.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=de;class P3{constructor(e,t,r=Qu.app()){var i;b3((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new yF(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="auth-compat";function k3(n){n.INTERNAL.registerComponent(new ji(C3,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Xv(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Wl.EMAIL_SIGNIN,PASSWORD_RESET:Wl.PASSWORD_RESET,RECOVER_EMAIL:Wl.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Wl.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Wl.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Wl.VERIFY_EMAIL}},EmailAuthProvider:Mo,FacebookAuthProvider:Pi,GithubAuthProvider:ki,GoogleAuthProvider:Ci,OAuthProvider:fu,SAMLAuthProvider:hm,PhoneAuthProvider:rE,PhoneMultiFactorGenerator:YP,RecaptchaVerifier:P3,TwitterAuthProvider:xi,Auth:Xv,AuthCredential:Ju,Error:zn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(u3,c3)}k3(Qu);const x3={apiKey:"AIzaSyCY9O5oyUzEqrotZMXBLQqnCSPDQClHjE8",authDomain:"clone-ef248.firebaseapp.com",projectId:"clone-ef248",storageBucket:"clone-ef248.appspot.com",messagingSenderId:"449369468724",appId:"1:449369468724:web:4e0fdccda4d0162b927f61"},W1=Qu.initializeApp(x3),Vm=I4(W1),H1=W1.firestore();function O3(){var i;const[{user:n,basket:e},t]=K.useContext(Ss),r=e.reduce((o,l)=>o+l.amount,0);return B.jsxs("section",{className:Ti.fixed,children:[B.jsxs("div",{className:Ti.header_container,children:[B.jsxs("div",{className:Ti.logo_container,children:[B.jsx(Oi,{to:"/",children:B.jsx("img",{src:"/amazon_logo_white.png",alt:"Amazon Logo"})}),B.jsxs("div",{className:Ti.delivery,children:[B.jsx("span",{children:B.jsx(QN,{size:15})}),B.jsxs("div",{children:[B.jsx("p",{children:"Deliver to"}),B.jsx("span",{children:"SanFrancisco"})]})]})]}),B.jsxs("div",{className:Ti.search,children:[B.jsxs("select",{children:[B.jsx("option",{value:"",children:"ALL"}),B.jsx("option",{value:"computer",children:"Computer"}),B.jsx("option",{value:"book",children:"Book"}),B.jsx("option",{value:"electronics",children:"Electronics"})]}),B.jsx("input",{type:"text",placeholder:"Search Amazon"}),B.jsx(YN,{size:25})]}),B.jsxs("div",{className:Ti.order_container,children:[B.jsx("div",{className:Ti.language,children:B.jsxs("div",{className:Ti.lang2,children:[B.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1024px-Flag_of_the_United_States.svg.png",alt:"US Flag"}),B.jsxs("select",{children:[B.jsx("option",{value:"en",children:"EN"}),B.jsx("option",{value:"am",children:"አማ"})]})]})}),B.jsx(Oi,{to:!n&&"/auth",children:B.jsx("div",{children:n?B.jsxs(B.Fragment,{children:[B.jsxs("p",{children:["Hello, ",(i=n==null?void 0:n.email)==null?void 0:i.split("@")[0]," "]}),B.jsx("span",{onClick:()=>Vm.signOut(),children:"Sign Out"})]}):B.jsxs(B.Fragment,{children:[B.jsx("p",{children:"Hello , sign in"}),B.jsx("span",{children:"Account and List"})]})})}),B.jsxs(Oi,{to:"/orders",children:[B.jsx("p",{children:"Returns"}),B.jsx("span",{children:"& Orders"})]}),B.jsxs(Oi,{to:"/cart",className:Ti.cart,children:[B.jsx("img",{src:JN,alt:"Cart"}),";",B.jsx("span",{children:r})]})]})]}),B.jsx(ZN,{})]})}var G_={},fd={},bp={},Pp={},Q_={exports:{}},Y_,XR;function N3(){if(XR)return Y_;XR=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Y_=n,Y_}var J_,ZR;function D3(){if(ZR)return J_;ZR=1;var n=N3();function e(){}function t(){}return t.resetWarningCache=e,J_=function(){function r(l,u,d,h,m,g){if(g!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},J_}var eA;function K1(){return eA||(eA=1,Q_.exports=D3()()),Q_.exports}var tA;function V3(){return tA||(tA=1,function(n){(function(e,t){t(n,Do(),K1())})(Pp,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=I;var i=l(t),o=l(r);function l(L){return L&&L.__esModule?L:{default:L}}var u=Object.assign||function(L){for(var M=1;M<arguments.length;M++){var z=arguments[M];for(var j in z)Object.prototype.hasOwnProperty.call(z,j)&&(L[j]=z[j])}return L};function d(L,M){var z={};for(var j in L)M.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(L,j)&&(z[j]=L[j]);return z}function h(L,M){if(!(L instanceof M))throw new TypeError("Cannot call a class as a function")}var m=function(){function L(M,z){for(var j=0;j<z.length;j++){var W=z[j];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(M,W.key,W)}}return function(M,z,j){return z&&L(M.prototype,z),j&&L(M,j),M}}();function g(L,M){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:L}function _(L,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);L.prototype=Object.create(M&&M.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(L,M):L.__proto__=M)}var T=!1;function I(L){T=L}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){I(!0)}}))}catch{}function S(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?L:L.capture}function b(L){if("touches"in L){var M=L.touches[0],z=M.pageX,j=M.pageY;return{x:z,y:j}}var W=L.screenX,D=L.screenY;return{x:W,y:D}}var V=function(L){_(M,L);function M(){var z;h(this,M);for(var j=arguments.length,W=Array(j),D=0;D<j;D++)W[D]=arguments[D];var A=g(this,(z=M.__proto__||Object.getPrototypeOf(M)).call.apply(z,[this].concat(W)));return A._handleSwipeStart=A._handleSwipeStart.bind(A),A._handleSwipeMove=A._handleSwipeMove.bind(A),A._handleSwipeEnd=A._handleSwipeEnd.bind(A),A._onMouseDown=A._onMouseDown.bind(A),A._onMouseMove=A._onMouseMove.bind(A),A._onMouseUp=A._onMouseUp.bind(A),A._setSwiperRef=A._setSwiperRef.bind(A),A}return m(M,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,S({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,S({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(j){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(j))}},{key:"_onMouseMove",value:function(j){this.mouseDown&&this._handleSwipeMove(j)}},{key:"_onMouseUp",value:function(j){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(j)}},{key:"_handleSwipeStart",value:function(j){var W=b(j),D=W.x,A=W.y;this.moveStart={x:D,y:A},this.props.onSwipeStart(j)}},{key:"_handleSwipeMove",value:function(j){if(this.moveStart){var W=b(j),D=W.x,A=W.y,C=D-this.moveStart.x,E=A-this.moveStart.y;this.moving=!0;var O=this.props.onSwipeMove({x:C,y:E},j);O&&j.cancelable&&j.preventDefault(),this.movePosition={deltaX:C,deltaY:E}}}},{key:"_handleSwipeEnd",value:function(j){this.props.onSwipeEnd(j);var W=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-W?this.props.onSwipeLeft(1,j):this.movePosition.deltaX>W&&this.props.onSwipeRight(1,j),this.movePosition.deltaY<-W?this.props.onSwipeUp(1,j):this.movePosition.deltaY>W&&this.props.onSwipeDown(1,j)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(j){this.swiper=j,this.props.innerRef(j)}},{key:"render",value:function(){var j=this.props;j.tagName;var W=j.className,D=j.style,A=j.children;j.allowMouseEvents,j.onSwipeUp,j.onSwipeDown,j.onSwipeLeft,j.onSwipeRight,j.onSwipeStart,j.onSwipeMove,j.onSwipeEnd,j.innerRef,j.tolerance;var C=d(j,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,u({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:W,style:D},C),A)}}]),M}(t.Component);V.displayName="ReactSwipe",V.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},V.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=V})}(Pp)),Pp}var nA;function G1(){return nA||(nA=1,function(n){(function(e,t){t(n,V3())})(bp,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(bp)),bp}var pd={},X_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var rA;function L3(){return rA||(rA=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(o=i(o,r(u)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var u in o)e.call(o,u)&&o[u]&&(l=i(l,u));return l}function i(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(X_)),X_.exports}var iA;function Q1(){if(iA)return pd;iA=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.default=void 0;var n=e(L3());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,l){return o in i?Object.defineProperty(i,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[o]=l,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,l){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":l==="horizontal","axis-vertical":l!=="horizontal"})},SLIDER:function(o,l){return(0,n.default)({thumbs:!o,slider:o,animated:!l})},ITEM:function(o,l,u){return(0,n.default)({thumb:!o,slide:o,selected:l,previous:u})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return pd.default=r,pd}var md={},gd={},sA;function M3(){if(sA)return gd;sA=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return gd.outerWidth=n,gd}var yd={},oA;function iE(){if(oA)return yd;oA=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,l=i==="horizontal"?[o,0,0]:[0,o,0],u="translate3d",d="("+l.join(",")+")";return u+d};return yd.default=n,yd}var _d={},aA;function Y1(){if(aA)return _d;aA=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.default=void 0;var n=function(){return window};return _d.default=n,_d}var lA;function J1(){if(lA)return md;lA=1,Object.defineProperty(md,"__esModule",{value:!0}),md.default=void 0;var n=d(Do()),e=l(Q1()),t=M3(),r=l(iE()),i=l(G1()),o=l(Y1());function l(A){return A&&A.__esModule?A:{default:A}}function u(){if(typeof WeakMap!="function")return null;var A=new WeakMap;return u=function(){return A},A}function d(A){if(A&&A.__esModule)return A;if(A===null||h(A)!=="object"&&typeof A!="function")return{default:A};var C=u();if(C&&C.has(A))return C.get(A);var E={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in A)if(Object.prototype.hasOwnProperty.call(A,k)){var x=O?Object.getOwnPropertyDescriptor(A,k):null;x&&(x.get||x.set)?Object.defineProperty(E,k,x):E[k]=A[k]}return E.default=A,C&&C.set(A,E),E}function h(A){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(E){return typeof E}:h=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},h(A)}function m(){return m=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var E=arguments[C];for(var O in E)Object.prototype.hasOwnProperty.call(E,O)&&(A[O]=E[O])}return A},m.apply(this,arguments)}function g(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function _(A,C){for(var E=0;E<C.length;E++){var O=C[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}function T(A,C,E){return C&&_(A.prototype,C),A}function I(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),C&&S(A,C)}function S(A,C){return S=Object.setPrototypeOf||function(O,k){return O.__proto__=k,O},S(A,C)}function b(A){var C=M();return function(){var O=z(A),k;if(C){var x=z(this).constructor;k=Reflect.construct(O,arguments,x)}else k=O.apply(this,arguments);return V(this,k)}}function V(A,C){return C&&(h(C)==="object"||typeof C=="function")?C:L(A)}function L(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function z(A){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},z(A)}function j(A,C,E){return C in A?Object.defineProperty(A,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):A[C]=E,A}var W=function(C){return C.hasOwnProperty("key")},D=function(A){I(E,A);var C=b(E);function E(O){var k;return g(this,E),k=C.call(this,O),j(L(k),"itemsWrapperRef",void 0),j(L(k),"itemsListRef",void 0),j(L(k),"thumbsRef",void 0),j(L(k),"setItemsWrapperRef",function(x){k.itemsWrapperRef=x}),j(L(k),"setItemsListRef",function(x){k.itemsListRef=x}),j(L(k),"setThumbsRef",function(x,ee){k.thumbsRef||(k.thumbsRef=[]),k.thumbsRef[ee]=x}),j(L(k),"updateSizes",function(){if(!(!k.props.children||!k.itemsWrapperRef||!k.thumbsRef)){var x=n.Children.count(k.props.children),ee=k.itemsWrapperRef.clientWidth,F=k.props.thumbWidth?k.props.thumbWidth:(0,t.outerWidth)(k.thumbsRef[0]),fe=Math.floor(ee/F),oe=fe<x,X=oe?x-fe:0;k.setState(function(pe,me){return{itemSize:F,visibleItems:fe,firstItem:oe?k.getFirstItem(me.selectedItem):0,lastPosition:X,showArrows:oe}})}}),j(L(k),"handleClickItem",function(x,ee,F){if(!W(F)||F.key==="Enter"){var fe=k.props.onSelectItem;typeof fe=="function"&&fe(x,ee)}}),j(L(k),"onSwipeStart",function(){k.setState({swiping:!0})}),j(L(k),"onSwipeEnd",function(){k.setState({swiping:!1})}),j(L(k),"onSwipeMove",function(x){var ee=x.x;if(!k.state.itemSize||!k.itemsWrapperRef||!k.state.visibleItems)return!1;var F=0,fe=n.Children.count(k.props.children),oe=-(k.state.firstItem*100)/k.state.visibleItems,X=Math.max(fe-k.state.visibleItems,0),pe=-X*100/k.state.visibleItems;oe===F&&ee>0&&(ee=0),oe===pe&&ee<0&&(ee=0);var me=k.itemsWrapperRef.clientWidth,q=oe+100/(me/ee);return k.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ie){k.itemsListRef.style[ie]=(0,r.default)(q,"%",k.props.axis)}),!0}),j(L(k),"slideRight",function(x){k.moveTo(k.state.firstItem-(typeof x=="number"?x:1))}),j(L(k),"slideLeft",function(x){k.moveTo(k.state.firstItem+(typeof x=="number"?x:1))}),j(L(k),"moveTo",function(x){x=x<0?0:x,x=x>=k.state.lastPosition?k.state.lastPosition:x,k.setState({firstItem:x})}),k.state={selectedItem:O.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},k}return T(E,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(k){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==k.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(k){var x=k;return k>=this.state.lastPosition&&(x=this.state.lastPosition),k<this.state.firstItem+this.state.visibleItems&&(x=this.state.firstItem),k<this.state.firstItem&&(x=k),x}},{key:"renderItems",value:function(){var k=this;return this.props.children.map(function(x,ee){var F=e.default.ITEM(!1,ee===k.state.selectedItem),fe={key:ee,ref:function(X){return k.setThumbsRef(X,ee)},className:F,onClick:k.handleClickItem.bind(k,ee,k.props.children[ee]),onKeyDown:k.handleClickItem.bind(k,ee,k.props.children[ee]),"aria-label":"".concat(k.props.labels.item," ").concat(ee+1),style:{width:k.props.thumbWidth}};return n.default.createElement("li",m({},fe,{role:"button",tabIndex:0}),x)})}},{key:"render",value:function(){var k=this;if(!this.props.children)return null;var x=n.Children.count(this.props.children)>1,ee=this.state.showArrows&&this.state.firstItem>0,F=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,fe={},oe=-this.state.firstItem*(this.state.itemSize||0),X=(0,r.default)(oe,"px",this.props.axis),pe=this.props.transitionTime+"ms";return fe={WebkitTransform:X,MozTransform:X,MsTransform:X,OTransform:X,transform:X,msTransform:X,WebkitTransitionDuration:pe,MozTransitionDuration:pe,MsTransitionDuration:pe,OTransitionDuration:pe,transitionDuration:pe,msTransitionDuration:pe},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!ee),onClick:function(){return k.slideRight()},"aria-label":this.props.labels.leftArrow}),x?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:fe,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(q){return k.setItemsListRef(q)},style:fe},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!F),onClick:function(){return k.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),E}(n.Component);return md.default=D,j(D,"displayName","Thumbs"),j(D,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),md}var vd={},uA;function F3(){if(uA)return vd;uA=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.default=void 0;var n=function(){return document};return vd.default=n,vd}var hr={},cA;function X1(){if(cA)return hr;cA=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.setPosition=hr.getPosition=hr.isKeyboardEvent=hr.defaultStatusFormatter=hr.noop=void 0;var n=Do(),e=t(iE());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};hr.noop=r;var i=function(h,m){return"".concat(h," of ").concat(m)};hr.defaultStatusFormatter=i;var o=function(h){return h?h.hasOwnProperty("key"):!1};hr.isKeyboardEvent=o;var l=function(h,m){if(m.infiniteLoop&&++h,h===0)return 0;var g=n.Children.count(m.children);if(m.centerMode&&m.axis==="horizontal"){var _=-h*m.centerSlidePercentage,T=g-1;return h&&(h!==T||m.infiniteLoop)?_+=(100-m.centerSlidePercentage)/2:h===T&&(_+=100-m.centerSlidePercentage),_}return-h*100};hr.getPosition=l;var u=function(h,m){var g={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(_){g[_]=(0,e.default)(h,"%",m)}),g};return hr.setPosition=u,hr}var si={},dA;function U3(){if(dA)return si;dA=1,Object.defineProperty(si,"__esModule",{value:!0}),si.fadeAnimationHandler=si.slideStopSwipingHandler=si.slideSwipeAnimationHandler=si.slideAnimationHandler=void 0;var n=Do(),e=r(iE()),t=X1();function r(g){return g&&g.__esModule?g:{default:g}}function i(g,_){var T=Object.keys(g);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(g);_&&(I=I.filter(function(S){return Object.getOwnPropertyDescriptor(g,S).enumerable})),T.push.apply(T,I)}return T}function o(g){for(var _=1;_<arguments.length;_++){var T=arguments[_]!=null?arguments[_]:{};_%2?i(Object(T),!0).forEach(function(I){l(g,I,T[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(I){Object.defineProperty(g,I,Object.getOwnPropertyDescriptor(T,I))})}return g}function l(g,_,T){return _ in g?Object.defineProperty(g,_,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[_]=T,g}var u=function(_,T){var I={},S=T.selectedItem,b=S,V=n.Children.count(_.children)-1,L=_.infiniteLoop&&(S<0||S>V);if(L)return b<0?_.centerMode&&_.centerSlidePercentage&&_.axis==="horizontal"?I.itemListStyle=(0,t.setPosition)(-(V+2)*_.centerSlidePercentage-(100-_.centerSlidePercentage)/2,_.axis):I.itemListStyle=(0,t.setPosition)(-(V+2)*100,_.axis):b>V&&(I.itemListStyle=(0,t.setPosition)(0,_.axis)),I;var M=(0,t.getPosition)(S,_),z=(0,e.default)(M,"%",_.axis),j=_.transitionTime+"ms";return I.itemListStyle={WebkitTransform:z,msTransform:z,OTransform:z,transform:z},T.swiping||(I.itemListStyle=o(o({},I.itemListStyle),{},{WebkitTransitionDuration:j,MozTransitionDuration:j,OTransitionDuration:j,transitionDuration:j,msTransitionDuration:j})),I};si.slideAnimationHandler=u;var d=function(_,T,I,S){var b={},V=T.axis==="horizontal",L=n.Children.count(T.children),M=0,z=(0,t.getPosition)(I.selectedItem,T),j=T.infiniteLoop?(0,t.getPosition)(L-1,T)-100:(0,t.getPosition)(L-1,T),W=V?_.x:_.y,D=W;z===M&&W>0&&(D=0),z===j&&W<0&&(D=0);var A=z+100/(I.itemSize/D),C=Math.abs(W)>T.swipeScrollTolerance;return T.infiniteLoop&&C&&(I.selectedItem===0&&A>-100?A-=L*100:I.selectedItem===L-1&&A<-L*100&&(A+=L*100)),(!T.preventMovementUntilSwipeScrollTolerance||C||I.swipeMovementStarted)&&(I.swipeMovementStarted||S({swipeMovementStarted:!0}),b.itemListStyle=(0,t.setPosition)(A,T.axis)),C&&!I.cancelClick&&S({cancelClick:!0}),b};si.slideSwipeAnimationHandler=d;var h=function(_,T){var I=(0,t.getPosition)(T.selectedItem,_),S=(0,t.setPosition)(I,_.axis);return{itemListStyle:S}};si.slideStopSwipingHandler=h;var m=function(_,T){var I=_.transitionTime+"ms",S="ease-in-out",b={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:S,msTransitionTimingFunction:S,MozTransitionTimingFunction:S,WebkitTransitionTimingFunction:S,OTransitionTimingFunction:S};return T.swiping||(b=o(o({},b),{},{WebkitTransitionDuration:I,MozTransitionDuration:I,OTransitionDuration:I,transitionDuration:I,msTransitionDuration:I})),{slideStyle:b,selectedStyle:o(o({},b),{},{opacity:1,position:"relative"}),prevStyle:o({},b)}};return si.fadeAnimationHandler=m,si}var hA;function j3(){if(hA)return fd;hA=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.default=void 0;var n=m(Do()),e=d(G1()),t=d(Q1()),r=d(J1()),i=d(F3()),o=d(Y1()),l=X1(),u=U3();function d(O){return O&&O.__esModule?O:{default:O}}function h(){if(typeof WeakMap!="function")return null;var O=new WeakMap;return h=function(){return O},O}function m(O){if(O&&O.__esModule)return O;if(O===null||g(O)!=="object"&&typeof O!="function")return{default:O};var k=h();if(k&&k.has(O))return k.get(O);var x={},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in O)if(Object.prototype.hasOwnProperty.call(O,F)){var fe=ee?Object.getOwnPropertyDescriptor(O,F):null;fe&&(fe.get||fe.set)?Object.defineProperty(x,F,fe):x[F]=O[F]}return x.default=O,k&&k.set(O,x),x}function g(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(x){return typeof x}:g=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},g(O)}function _(){return _=Object.assign||function(O){for(var k=1;k<arguments.length;k++){var x=arguments[k];for(var ee in x)Object.prototype.hasOwnProperty.call(x,ee)&&(O[ee]=x[ee])}return O},_.apply(this,arguments)}function T(O,k){var x=Object.keys(O);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(O);k&&(ee=ee.filter(function(F){return Object.getOwnPropertyDescriptor(O,F).enumerable})),x.push.apply(x,ee)}return x}function I(O){for(var k=1;k<arguments.length;k++){var x=arguments[k]!=null?arguments[k]:{};k%2?T(Object(x),!0).forEach(function(ee){C(O,ee,x[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(x)):T(Object(x)).forEach(function(ee){Object.defineProperty(O,ee,Object.getOwnPropertyDescriptor(x,ee))})}return O}function S(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function b(O,k){for(var x=0;x<k.length;x++){var ee=k[x];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(O,ee.key,ee)}}function V(O,k,x){return k&&b(O.prototype,k),O}function L(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),k&&M(O,k)}function M(O,k){return M=Object.setPrototypeOf||function(ee,F){return ee.__proto__=F,ee},M(O,k)}function z(O){var k=D();return function(){var ee=A(O),F;if(k){var fe=A(this).constructor;F=Reflect.construct(ee,arguments,fe)}else F=ee.apply(this,arguments);return j(this,F)}}function j(O,k){return k&&(g(k)==="object"||typeof k=="function")?k:W(O)}function W(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A(O){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},A(O)}function C(O,k,x){return k in O?Object.defineProperty(O,k,{value:x,enumerable:!0,configurable:!0,writable:!0}):O[k]=x,O}var E=function(O){L(x,O);var k=z(x);function x(ee){var F;S(this,x),F=k.call(this,ee),C(W(F),"thumbsRef",void 0),C(W(F),"carouselWrapperRef",void 0),C(W(F),"listRef",void 0),C(W(F),"itemsRef",void 0),C(W(F),"timer",void 0),C(W(F),"animationHandler",void 0),C(W(F),"setThumbsRef",function(oe){F.thumbsRef=oe}),C(W(F),"setCarouselWrapperRef",function(oe){F.carouselWrapperRef=oe}),C(W(F),"setListRef",function(oe){F.listRef=oe}),C(W(F),"setItemsRef",function(oe,X){F.itemsRef||(F.itemsRef=[]),F.itemsRef[X]=oe}),C(W(F),"autoPlay",function(){n.Children.count(F.props.children)<=1||(F.clearAutoPlay(),F.props.autoPlay&&(F.timer=setTimeout(function(){F.increment()},F.props.interval)))}),C(W(F),"clearAutoPlay",function(){F.timer&&clearTimeout(F.timer)}),C(W(F),"resetAutoPlay",function(){F.clearAutoPlay(),F.autoPlay()}),C(W(F),"stopOnHover",function(){F.setState({isMouseEntered:!0},F.clearAutoPlay)}),C(W(F),"startOnLeave",function(){F.setState({isMouseEntered:!1},F.autoPlay)}),C(W(F),"isFocusWithinTheCarousel",function(){return F.carouselWrapperRef?!!((0,i.default)().activeElement===F.carouselWrapperRef||F.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),C(W(F),"navigateWithKeyboard",function(oe){if(F.isFocusWithinTheCarousel()){var X=F.props.axis,pe=X==="horizontal",me={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},q=pe?me.ArrowRight:me.ArrowDown,ie=pe?me.ArrowLeft:me.ArrowUp;q===oe.keyCode?F.increment():ie===oe.keyCode&&F.decrement()}}),C(W(F),"updateSizes",function(){if(!(!F.state.initialized||!F.itemsRef||F.itemsRef.length===0)){var oe=F.props.axis==="horizontal",X=F.itemsRef[0];if(X){var pe=oe?X.clientWidth:X.clientHeight;F.setState({itemSize:pe}),F.thumbsRef&&F.thumbsRef.updateSizes()}}}),C(W(F),"setMountState",function(){F.setState({hasMount:!0}),F.updateSizes()}),C(W(F),"handleClickItem",function(oe,X){if(n.Children.count(F.props.children)!==0){if(F.state.cancelClick){F.setState({cancelClick:!1});return}F.props.onClickItem(oe,X),oe!==F.state.selectedItem&&F.setState({selectedItem:oe})}}),C(W(F),"handleOnChange",function(oe,X){n.Children.count(F.props.children)<=1||F.props.onChange(oe,X)}),C(W(F),"handleClickThumb",function(oe,X){F.props.onClickThumb(oe,X),F.moveTo(oe)}),C(W(F),"onSwipeStart",function(oe){F.setState({swiping:!0}),F.props.onSwipeStart(oe)}),C(W(F),"onSwipeEnd",function(oe){F.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),F.props.onSwipeEnd(oe),F.clearAutoPlay(),F.state.autoPlay&&F.autoPlay()}),C(W(F),"onSwipeMove",function(oe,X){F.props.onSwipeMove(X);var pe=F.props.swipeAnimationHandler(oe,F.props,F.state,F.setState.bind(W(F)));return F.setState(I({},pe)),!!Object.keys(pe).length}),C(W(F),"decrement",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem-(typeof oe=="number"?oe:1))}),C(W(F),"increment",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem+(typeof oe=="number"?oe:1))}),C(W(F),"moveTo",function(oe){if(typeof oe=="number"){var X=n.Children.count(F.props.children)-1;oe<0&&(oe=F.props.infiniteLoop?X:0),oe>X&&(oe=F.props.infiniteLoop?0:X),F.selectItem({selectedItem:oe}),F.state.autoPlay&&F.state.isMouseEntered===!1&&F.resetAutoPlay()}}),C(W(F),"onClickNext",function(){F.increment(1)}),C(W(F),"onClickPrev",function(){F.decrement(1)}),C(W(F),"onSwipeForward",function(){F.increment(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),C(W(F),"onSwipeBackwards",function(){F.decrement(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),C(W(F),"changeItem",function(oe){return function(X){(!(0,l.isKeyboardEvent)(X)||X.key==="Enter")&&F.moveTo(oe)}}),C(W(F),"selectItem",function(oe){F.setState(I({previousItem:F.state.selectedItem},oe),function(){F.setState(F.animationHandler(F.props,F.state))}),F.handleOnChange(oe.selectedItem,n.Children.toArray(F.props.children)[oe.selectedItem])}),C(W(F),"getInitialImage",function(){var oe=F.props.selectedItem,X=F.itemsRef&&F.itemsRef[oe],pe=X&&X.getElementsByTagName("img")||[];return pe[0]}),C(W(F),"getVariableItemHeight",function(oe){var X=F.itemsRef&&F.itemsRef[oe];if(F.state.hasMount&&X&&X.children.length){var pe=X.children[0].getElementsByTagName("img")||[];if(pe.length>0){var me=pe[0];if(!me.complete){var q=function ke(){F.forceUpdate(),me.removeEventListener("load",ke)};me.addEventListener("load",q)}}var ie=pe[0]||X.children[0],Te=ie.clientHeight;return Te>0?Te:null}return null});var fe={initialized:!1,previousItem:ee.selectedItem,selectedItem:ee.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:ee.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return F.animationHandler=typeof ee.animationHandler=="function"&&ee.animationHandler||ee.animationHandler==="fade"&&u.fadeAnimationHandler||u.slideAnimationHandler,F.state=I(I({},fe),F.animationHandler(ee,fe)),F}return V(x,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(F,fe){!F.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!F.autoFocus&&this.props.autoFocus&&this.forceFocus(),fe.swiping&&!this.state.swiping&&this.setState(I({},this.props.stopSwipingHandler(this.props,this.state))),(F.selectedItem!==this.props.selectedItem||F.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),F.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var F=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var fe=F.getInitialImage();fe&&!fe.complete?fe.addEventListener("load",F.setMountState):F.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.addEventListener("mouseenter",this.stopOnHover),F.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.removeEventListener("mouseenter",this.stopOnHover),F.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var F=this.getInitialImage();F&&F.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var F;(F=this.carouselWrapperRef)===null||F===void 0||F.focus()}},{key:"renderItems",value:function(F){var fe=this;return this.props.children?n.Children.map(this.props.children,function(oe,X){var pe=X===fe.state.selectedItem,me=X===fe.state.previousItem,q=pe&&fe.state.selectedStyle||me&&fe.state.prevStyle||fe.state.slideStyle||{};fe.props.centerMode&&fe.props.axis==="horizontal"&&(q=I(I({},q),{},{minWidth:fe.props.centerSlidePercentage+"%"})),fe.state.swiping&&fe.state.swipeMovementStarted&&(q=I(I({},q),{},{pointerEvents:"none"}));var ie={ref:function(ke){return fe.setItemsRef(ke,X)},key:"itemKey"+X+(F?"clone":""),className:t.default.ITEM(!0,X===fe.state.selectedItem,X===fe.state.previousItem),onClick:fe.handleClickItem.bind(fe,X,oe),style:q};return n.default.createElement("li",ie,fe.props.renderItem(oe,{isSelected:X===fe.state.selectedItem,isPrevious:X===fe.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var F=this,fe=this.props,oe=fe.showIndicators,X=fe.labels,pe=fe.renderIndicator,me=fe.children;return oe?n.default.createElement("ul",{className:"control-dots"},n.Children.map(me,function(q,ie){return pe&&pe(F.changeItem(ie),ie===F.state.selectedItem,ie,X.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var F=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var fe=this.props.swipeable&&n.Children.count(this.props.children)>1,oe=this.props.axis==="horizontal",X=this.props.showArrows&&n.Children.count(this.props.children)>1,pe=X&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,me=X&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,q=this.renderItems(!0),ie=q.shift(),Te=q.pop(),ke={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Ve={};if(oe){if(ke.onSwipeLeft=this.onSwipeForward,ke.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Ue=this.getVariableItemHeight(this.state.selectedItem);Ve.height=Ue||"auto"}}else ke.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ke.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ke.style=I(I({},ke.style),{},{height:this.state.itemSize}),Ve.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,pe,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Ve},fe?n.default.createElement(e.default,_({tagName:"ul",innerRef:this.setListRef},ke,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(qe){return F.setListRef(qe)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie)),this.props.renderArrowNext(this.onClickNext,me,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),x}(n.default.Component);return fd.default=E,C(E,"displayName","Carousel"),C(E,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:l.noop,onClickThumb:l.noop,onChange:l.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(k,x,ee){return n.default.createElement("button",{type:"button","aria-label":ee,className:t.default.ARROW_PREV(!x),onClick:k})},renderArrowNext:function(k,x,ee){return n.default.createElement("button",{type:"button","aria-label":ee,className:t.default.ARROW_NEXT(!x),onClick:k})},renderIndicator:function(k,x,ee,F){return n.default.createElement("li",{className:t.default.DOT(x),onClick:k,onKeyDown:k,value:ee,key:ee,role:"button",tabIndex:0,"aria-label":"".concat(F," ").concat(ee+1)})},renderItem:function(k){return k},renderThumbs:function(k){var x=n.Children.map(k,function(ee){var F=ee;if(ee.type!=="img"&&(F=n.Children.toArray(ee.props.children).find(function(fe){return fe.type==="img"})),!!F)return F});return x.filter(function(ee){return ee}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):x},statusFormatter:l.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler}),fd}var fA={},pA;function B3(){return pA||(pA=1),fA}var mA;function z3(){return mA||(mA=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(j3()),t=B3(),r=i(J1());function i(o){return o&&o.__esModule?o:{default:o}}}(G_)),G_}var $3=z3();const q3="/amazon-clone/assets/10001-C3XGH-uw.jpg",W3="/amazon-clone/assets/10002-CI2wMYdz.jpg",H3="/amazon-clone/assets/10003-BPr44Ttk.jpg",K3="/amazon-clone/assets/10004-Bm1eWZbR.jpg",G3="/amazon-clone/assets/10005-X-_6zMIx.jpg",Q3=[q3,W3,H3,K3,G3],Y3="_carouselContainer_1mca7_2",J3="_carousel_1mca7_2",X3="_slide_1mca7_16",Z3="_gradientOverlay_1mca7_26",wd={carouselContainer:Y3,carousel:J3,slide:X3,gradientOverlay:Z3};function ez(){return B.jsx("div",{className:wd.carouselContainer,children:B.jsx($3.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,showStatus:!1,className:wd.carousel,children:Q3.map((n,e)=>B.jsxs("div",{className:wd.slide,children:[B.jsx("img",{src:n,alt:`Slide ${e}`,className:wd.image}),B.jsx("div",{className:wd.gradientOverlay})," "]},e))})})}const Z_=[{id:10,title:"SanDisk SSD ",category:"electronics",imageLink:"https://fakestoreapi.com/img/81Zt42ioCgL._AC_SX679_.jpg"},{id:7,title:"White Gold Plated Princess",category:"jewelery",imageLink:"https://fakestoreapi.com/img/71YAIFU48IL._AC_UL640_QL65_ML3_.jpg"},{id:3,title:"Mens Cotton Jacket",category:"men's clothing",imageLink:"https://fakestoreapi.com/img/71li-ujtlUL._AC_UX679_.jpg"},{id:17,title:"Rain Jacket Women ",category:"women's clothing",imageLink:"https://fakestoreapi.com/img/71HblAHs5xL._AC_UY879_-2.jpg"}],tz="_catagory_container_1j4mi_2",nz="_catagory_1j4mi_2",Z1={catagory_container:tz,catagory:nz};function rz({data:n}){return B.jsx("div",{className:Z1.catagory,children:B.jsxs(Oi,{to:`/category/${n.category}`,children:[B.jsx("span",{children:n.category}),B.jsx("img",{src:n.imageLink,alt:""}),B.jsx("p",{children:"Shop Now"})]})})}function iz(){return B.jsx("section",{className:Z1.catagory_container,children:Z_==null?void 0:Z_.map((n,e)=>B.jsx(rz,{data:n},e))})}function ex(n,e){return function(){return n.apply(e,arguments)}}const{toString:sz}=Object.prototype,{getPrototypeOf:sE}=Object,xg=(n=>e=>{const t=sz.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ui=n=>(n=n.toLowerCase(),e=>xg(e)===n),Og=n=>e=>typeof e===n,{isArray:ac}=Array,wh=Og("undefined");function oz(n){return n!==null&&!wh(n)&&n.constructor!==null&&!wh(n.constructor)&&_r(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const tx=ui("ArrayBuffer");function az(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&tx(n.buffer),e}const lz=Og("string"),_r=Og("function"),nx=Og("number"),Ng=n=>n!==null&&typeof n=="object",uz=n=>n===!0||n===!1,Yp=n=>{if(xg(n)!=="object")return!1;const e=sE(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},cz=ui("Date"),dz=ui("File"),hz=ui("Blob"),fz=ui("FileList"),pz=n=>Ng(n)&&_r(n.pipe),mz=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||_r(n.append)&&((e=xg(n))==="formdata"||e==="object"&&_r(n.toString)&&n.toString()==="[object FormData]"))},gz=ui("URLSearchParams"),[yz,_z,vz,wz]=["ReadableStream","Request","Response","Headers"].map(ui),Ez=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yh(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),ac(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),l=o.length;let u;for(r=0;r<l;r++)u=o[r],e.call(null,n[u],u,n)}}function rx(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Oa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ix=n=>!wh(n)&&n!==Oa;function Zv(){const{caseless:n}=ix(this)&&this||{},e={},t=(r,i)=>{const o=n&&rx(e,i)||i;Yp(e[o])&&Yp(r)?e[o]=Zv(e[o],r):Yp(r)?e[o]=Zv({},r):ac(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Yh(arguments[r],t);return e}const Iz=(n,e,t,{allOwnKeys:r}={})=>(Yh(e,(i,o)=>{t&&_r(i)?n[o]=ex(i,t):n[o]=i},{allOwnKeys:r}),n),Tz=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Sz=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Rz=(n,e,t,r)=>{let i,o,l;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)l=i[o],(!r||r(l,n,e))&&!u[l]&&(e[l]=n[l],u[l]=!0);n=t!==!1&&sE(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Az=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},bz=n=>{if(!n)return null;if(ac(n))return n;let e=n.length;if(!nx(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Pz=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&sE(Uint8Array)),Cz=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},kz=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},xz=ui("HTMLFormElement"),Oz=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),gA=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Nz=ui("RegExp"),sx=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Yh(t,(i,o)=>{let l;(l=e(i,o,n))!==!1&&(r[o]=l||i)}),Object.defineProperties(n,r)},Dz=n=>{sx(n,(e,t)=>{if(_r(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(_r(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Vz=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return ac(n)?r(n):r(String(n).split(e)),t},Lz=()=>{},Mz=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function Fz(n){return!!(n&&_r(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Uz=n=>{const e=new Array(10),t=(r,i)=>{if(Ng(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=ac(r)?[]:{};return Yh(r,(l,u)=>{const d=t(l,i+1);!wh(d)&&(o[u]=d)}),e[i]=void 0,o}}return r};return t(n,0)},jz=ui("AsyncFunction"),Bz=n=>n&&(Ng(n)||_r(n))&&_r(n.then)&&_r(n.catch),ox=((n,e)=>n?setImmediate:e?((t,r)=>(Oa.addEventListener("message",({source:i,data:o})=>{i===Oa&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Oa.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",_r(Oa.postMessage)),zz=typeof queueMicrotask<"u"?queueMicrotask.bind(Oa):typeof process<"u"&&process.nextTick||ox,re={isArray:ac,isArrayBuffer:tx,isBuffer:oz,isFormData:mz,isArrayBufferView:az,isString:lz,isNumber:nx,isBoolean:uz,isObject:Ng,isPlainObject:Yp,isReadableStream:yz,isRequest:_z,isResponse:vz,isHeaders:wz,isUndefined:wh,isDate:cz,isFile:dz,isBlob:hz,isRegExp:Nz,isFunction:_r,isStream:pz,isURLSearchParams:gz,isTypedArray:Pz,isFileList:fz,forEach:Yh,merge:Zv,extend:Iz,trim:Ez,stripBOM:Tz,inherits:Sz,toFlatObject:Rz,kindOf:xg,kindOfTest:ui,endsWith:Az,toArray:bz,forEachEntry:Cz,matchAll:kz,isHTMLForm:xz,hasOwnProperty:gA,hasOwnProp:gA,reduceDescriptors:sx,freezeMethods:Dz,toObjectSet:Vz,toCamelCase:Oz,noop:Lz,toFiniteNumber:Mz,findKey:rx,global:Oa,isContextDefined:ix,isSpecCompliantForm:Fz,toJSONObject:Uz,isAsyncFn:jz,isThenable:Bz,setImmediate:ox,asap:zz};function Le(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}re.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const ax=Le.prototype,lx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{lx[n]={value:n}});Object.defineProperties(Le,lx);Object.defineProperty(ax,"isAxiosError",{value:!0});Le.from=(n,e,t,r,i,o)=>{const l=Object.create(ax);return re.toFlatObject(n,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),Le.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,o&&Object.assign(l,o),l};const $z=null;function ew(n){return re.isPlainObject(n)||re.isArray(n)}function ux(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function yA(n,e,t){return n?n.concat(e).map(function(i,o){return i=ux(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function qz(n){return re.isArray(n)&&!n.some(ew)}const Wz=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function Dg(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,b){return!re.isUndefined(b[S])});const r=t.metaTokens,i=t.visitor||m,o=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function h(I){if(I===null)return"";if(re.isDate(I))return I.toISOString();if(!d&&re.isBlob(I))throw new Le("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(I)||re.isTypedArray(I)?d&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function m(I,S,b){let V=I;if(I&&!b&&typeof I=="object"){if(re.endsWith(S,"{}"))S=r?S:S.slice(0,-2),I=JSON.stringify(I);else if(re.isArray(I)&&qz(I)||(re.isFileList(I)||re.endsWith(S,"[]"))&&(V=re.toArray(I)))return S=ux(S),V.forEach(function(M,z){!(re.isUndefined(M)||M===null)&&e.append(l===!0?yA([S],z,o):l===null?S:S+"[]",h(M))}),!1}return ew(I)?!0:(e.append(yA(b,S,o),h(I)),!1)}const g=[],_=Object.assign(Wz,{defaultVisitor:m,convertValue:h,isVisitable:ew});function T(I,S){if(!re.isUndefined(I)){if(g.indexOf(I)!==-1)throw Error("Circular reference detected in "+S.join("."));g.push(I),re.forEach(I,function(V,L){(!(re.isUndefined(V)||V===null)&&i.call(e,V,re.isString(L)?L.trim():L,S,_))===!0&&T(V,S?S.concat(L):[L])}),g.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return T(n),e}function _A(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function oE(n,e){this._pairs=[],n&&Dg(n,this,e)}const cx=oE.prototype;cx.append=function(e,t){this._pairs.push([e,t])};cx.toString=function(e){const t=e?function(r){return e.call(this,r,_A)}:_A;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Hz(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dx(n,e,t){if(!e)return n;const r=t&&t.encode||Hz;re.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=re.isURLSearchParams(e)?e.toString():new oE(e,t).toString(r),o){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class vA{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const hx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kz=typeof URLSearchParams<"u"?URLSearchParams:oE,Gz=typeof FormData<"u"?FormData:null,Qz=typeof Blob<"u"?Blob:null,Yz={isBrowser:!0,classes:{URLSearchParams:Kz,FormData:Gz,Blob:Qz},protocols:["http","https","file","blob","url","data"]},aE=typeof window<"u"&&typeof document<"u",tw=typeof navigator=="object"&&navigator||void 0,Jz=aE&&(!tw||["ReactNative","NativeScript","NS"].indexOf(tw.product)<0),Xz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zz=aE&&window.location.href||"http://localhost",e6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:aE,hasStandardBrowserEnv:Jz,hasStandardBrowserWebWorkerEnv:Xz,navigator:tw,origin:Zz},Symbol.toStringTag,{value:"Module"})),Nn={...e6,...Yz};function t6(n,e){return Dg(n,new Nn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return Nn.isNode&&re.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function n6(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function r6(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function fx(n){function e(t,r,i,o){let l=t[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=t.length;return l=!l&&re.isArray(i)?i.length:l,d?(re.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!re.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],o)&&re.isArray(i[l])&&(i[l]=r6(i[l])),!u)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(r,i)=>{e(n6(r),i,t,0)}),t}return null}function i6(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Jh={transitional:hx,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=re.isObject(e);if(o&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i?JSON.stringify(fx(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return t6(e,this.formSerializer).toString();if((u=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Dg(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),i6(e)):e}],transformResponse:[function(e){const t=this.transitional||Jh.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Le.from(u,Le.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nn.classes.FormData,Blob:Nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{Jh.headers[n]={}});const s6=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),o6=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&s6[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},wA=Symbol("internals");function Ed(n){return n&&String(n).trim().toLowerCase()}function Jp(n){return n===!1||n==null?n:re.isArray(n)?n.map(Jp):String(n)}function a6(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const l6=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ev(n,e,t,r,i){if(re.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function u6(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function c6(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,l){return this[r].call(this,e,i,o,l)},configurable:!0})})}let rr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(u,d,h){const m=Ed(d);if(!m)throw new Error("header name must be a non-empty string");const g=re.findKey(i,m);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||d]=Jp(u))}const l=(u,d)=>re.forEach(u,(h,m)=>o(h,m,d));if(re.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(re.isString(e)&&(e=e.trim())&&!l6(e))l(o6(e),t);else if(re.isHeaders(e))for(const[u,d]of e.entries())o(d,u,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=Ed(e),e){const r=re.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return a6(i);if(re.isFunction(t))return t.call(this,i,r);if(re.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ed(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||ev(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(l){if(l=Ed(l),l){const u=re.findKey(r,l);u&&(!t||ev(r,r[u],u,t))&&(delete r[u],i=!0)}}return re.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||ev(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return re.forEach(this,(i,o)=>{const l=re.findKey(r,o);if(l){t[l]=Jp(i),delete t[o];return}const u=e?u6(o):String(o).trim();u!==o&&delete t[o],t[u]=Jp(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&re.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[wA]=this[wA]={accessors:{}}).accessors,i=this.prototype;function o(l){const u=Ed(l);r[u]||(c6(i,l),r[u]=!0)}return re.isArray(e)?e.forEach(o):o(e),this}};rr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(rr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});re.freezeMethods(rr);function tv(n,e){const t=this||Jh,r=e||t,i=rr.from(r.headers);let o=r.data;return re.forEach(n,function(u){o=u.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function px(n){return!!(n&&n.__CANCEL__)}function lc(n,e,t){Le.call(this,n??"canceled",Le.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(lc,Le,{__CANCEL__:!0});function mx(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Le("Request failed with status code "+t.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function d6(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function h6(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[o];l||(l=h),t[i]=d,r[i]=h;let g=o,_=0;for(;g!==i;)_+=t[g++],g=g%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),h-l<e)return;const T=m&&h-m;return T?Math.round(_*1e3/T):void 0}}function f6(n,e){let t=0,r=1e3/e,i,o;const l=(h,m=Date.now())=>{t=m,i=null,o&&(clearTimeout(o),o=null),n.apply(null,h)};return[(...h)=>{const m=Date.now(),g=m-t;g>=r?l(h,m):(i=h,o||(o=setTimeout(()=>{o=null,l(i)},r-g)))},()=>i&&l(i)]}const Lm=(n,e,t=3)=>{let r=0;const i=h6(50,250);return f6(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-r,h=i(d),m=l<=u;r=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&m?(u-l)/h:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(g)},t)},EA=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},IA=n=>(...e)=>re.asap(()=>n(...e)),p6=Nn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Nn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Nn.origin),Nn.navigator&&/(msie|trident)/i.test(Nn.navigator.userAgent)):()=>!0,m6=Nn.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const l=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),re.isString(r)&&l.push("path="+r),re.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function g6(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function y6(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function gx(n,e,t){let r=!g6(e);return n&&r||t==!1?y6(n,e):e}const TA=n=>n instanceof rr?{...n}:n;function Qa(n,e){e=e||{};const t={};function r(h,m,g,_){return re.isPlainObject(h)&&re.isPlainObject(m)?re.merge.call({caseless:_},h,m):re.isPlainObject(m)?re.merge({},m):re.isArray(m)?m.slice():m}function i(h,m,g,_){if(re.isUndefined(m)){if(!re.isUndefined(h))return r(void 0,h,g,_)}else return r(h,m,g,_)}function o(h,m){if(!re.isUndefined(m))return r(void 0,m)}function l(h,m){if(re.isUndefined(m)){if(!re.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function u(h,m,g){if(g in e)return r(h,m);if(g in n)return r(void 0,h)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,m,g)=>i(TA(h),TA(m),g,!0)};return re.forEach(Object.keys(Object.assign({},n,e)),function(m){const g=d[m]||i,_=g(n[m],e[m],m);re.isUndefined(_)&&g!==u||(t[m]=_)}),t}const yx=n=>{const e=Qa({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=rr.from(l),e.url=dx(gx(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(re.isFormData(t)){if(Nn.hasStandardBrowserEnv||Nn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...m]=d?d.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...m].join("; "))}}if(Nn.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&p6(e.url))){const h=i&&o&&m6.read(o);h&&l.set(i,h)}return e},_6=typeof XMLHttpRequest<"u",v6=_6&&function(n){return new Promise(function(t,r){const i=yx(n);let o=i.data;const l=rr.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=i,m,g,_,T,I;function S(){T&&T(),I&&I(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function V(){if(!b)return;const M=rr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),j={data:!u||u==="text"||u==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:M,config:n,request:b};mx(function(D){t(D),S()},function(D){r(D),S()},j),b=null}"onloadend"in b?b.onloadend=V:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(V)},b.onabort=function(){b&&(r(new Le("Request aborted",Le.ECONNABORTED,n,b)),b=null)},b.onerror=function(){r(new Le("Network Error",Le.ERR_NETWORK,n,b)),b=null},b.ontimeout=function(){let z=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||hx;i.timeoutErrorMessage&&(z=i.timeoutErrorMessage),r(new Le(z,j.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,n,b)),b=null},o===void 0&&l.setContentType(null),"setRequestHeader"in b&&re.forEach(l.toJSON(),function(z,j){b.setRequestHeader(j,z)}),re.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),u&&u!=="json"&&(b.responseType=i.responseType),h&&([_,I]=Lm(h,!0),b.addEventListener("progress",_)),d&&b.upload&&([g,T]=Lm(d),b.upload.addEventListener("progress",g),b.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(m=M=>{b&&(r(!M||M.type?new lc(null,n,b):M),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const L=d6(i.url);if(L&&Nn.protocols.indexOf(L)===-1){r(new Le("Unsupported protocol "+L+":",Le.ERR_BAD_REQUEST,n));return}b.send(o||null)})},w6=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(h){if(!i){i=!0,u();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Le?m:new lc(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,o(new Le(`timeout ${e} of ms exceeded`,Le.ETIMEDOUT))},e);const u=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),n=null)};n.forEach(h=>h.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>re.asap(u),d}},E6=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},I6=async function*(n,e){for await(const t of T6(n))yield*E6(t,e)},T6=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},SA=(n,e,t,r)=>{const i=I6(n,e);let o=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await i.next();if(h){u(),d.close();return}let g=m.byteLength;if(t){let _=o+=g;t(_)}d.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},Vg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",_x=Vg&&typeof ReadableStream=="function",S6=Vg&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),vx=(n,...e)=>{try{return!!n(...e)}catch{return!1}},R6=_x&&vx(()=>{let n=!1;const e=new Request(Nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),RA=64*1024,nw=_x&&vx(()=>re.isReadableStream(new Response("").body)),Mm={stream:nw&&(n=>n.body)};Vg&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Mm[e]&&(Mm[e]=re.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Le(`Response type '${e}' is not supported`,Le.ERR_NOT_SUPPORT,r)})})})(new Response);const A6=async n=>{if(n==null)return 0;if(re.isBlob(n))return n.size;if(re.isSpecCompliantForm(n))return(await new Request(Nn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(re.isArrayBufferView(n)||re.isArrayBuffer(n))return n.byteLength;if(re.isURLSearchParams(n)&&(n=n+""),re.isString(n))return(await S6(n)).byteLength},b6=async(n,e)=>{const t=re.toFiniteNumber(n.getContentLength());return t??A6(e)},P6=Vg&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:h,headers:m,withCredentials:g="same-origin",fetchOptions:_}=yx(n);h=h?(h+"").toLowerCase():"text";let T=w6([i,o&&o.toAbortSignal()],l),I;const S=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let b;try{if(d&&R6&&t!=="get"&&t!=="head"&&(b=await b6(m,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),W;if(re.isFormData(r)&&(W=j.headers.get("content-type"))&&m.setContentType(W),j.body){const[D,A]=EA(b,Lm(IA(d)));r=SA(j.body,RA,D,A)}}re.isString(g)||(g=g?"include":"omit");const V="credentials"in Request.prototype;I=new Request(e,{..._,signal:T,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:V?g:void 0});let L=await fetch(I);const M=nw&&(h==="stream"||h==="response");if(nw&&(u||M&&S)){const j={};["status","statusText","headers"].forEach(C=>{j[C]=L[C]});const W=re.toFiniteNumber(L.headers.get("content-length")),[D,A]=u&&EA(W,Lm(IA(u),!0))||[];L=new Response(SA(L.body,RA,D,()=>{A&&A(),S&&S()}),j)}h=h||"text";let z=await Mm[re.findKey(Mm,h)||"text"](L,n);return!M&&S&&S(),await new Promise((j,W)=>{mx(j,W,{data:z,headers:rr.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:I})})}catch(V){throw S&&S(),V&&V.name==="TypeError"&&/fetch/i.test(V.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,n,I),{cause:V.cause||V}):Le.from(V,V&&V.code,n,I)}}),rw={http:$z,xhr:v6,fetch:P6};re.forEach(rw,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const AA=n=>`- ${n}`,C6=n=>re.isFunction(n)||n===null||n===!1,wx={getAdapter:n=>{n=re.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let l;if(r=t,!C6(t)&&(r=rw[(l=String(t)).toLowerCase()],r===void 0))throw new Le(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+o]=r}if(!r){const o=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(AA).join(`
`):" "+AA(o[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:rw};function nv(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new lc(null,n)}function bA(n){return nv(n),n.headers=rr.from(n.headers),n.data=tv.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),wx.getAdapter(n.adapter||Jh.adapter)(n).then(function(r){return nv(n),r.data=tv.call(n,n.transformResponse,r),r.headers=rr.from(r.headers),r},function(r){return px(r)||(nv(n),r&&r.response&&(r.response.data=tv.call(n,n.transformResponse,r.response),r.response.headers=rr.from(r.response.headers))),Promise.reject(r)})}const Ex="1.8.3",Lg={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Lg[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const PA={};Lg.transitional=function(e,t,r){function i(o,l){return"[Axios v"+Ex+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,u)=>{if(e===!1)throw new Le(i(l," has been removed"+(t?" in "+t:"")),Le.ERR_DEPRECATED);return t&&!PA[l]&&(PA[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,u):!0}};Lg.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function k6(n,e,t){if(typeof n!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],l=e[o];if(l){const u=n[o],d=u===void 0||l(u,o,n);if(d!==!0)throw new Le("option "+o+" must be "+d,Le.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Le("Unknown option "+o,Le.ERR_BAD_OPTION)}}const Xp={assertOptions:k6,validators:Lg},Ei=Xp.validators;let La=class{constructor(e){this.defaults=e,this.interceptors={request:new vA,response:new vA}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Qa(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Xp.assertOptions(r,{silentJSONParsing:Ei.transitional(Ei.boolean),forcedJSONParsing:Ei.transitional(Ei.boolean),clarifyTimeoutError:Ei.transitional(Ei.boolean)},!1),i!=null&&(re.isFunction(i)?t.paramsSerializer={serialize:i}:Xp.assertOptions(i,{encode:Ei.function,serialize:Ei.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Xp.assertOptions(t,{baseUrl:Ei.spelling("baseURL"),withXsrfToken:Ei.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&re.merge(o.common,o[t.method]);o&&re.forEach(["delete","get","head","post","put","patch","common"],I=>{delete o[I]}),t.headers=rr.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(t)===!1||(d=d&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let m,g=0,_;if(!d){const I=[bA.bind(this),void 0];for(I.unshift.apply(I,u),I.push.apply(I,h),_=I.length,m=Promise.resolve(t);g<_;)m=m.then(I[g++],I[g++]);return m}_=u.length;let T=t;for(g=0;g<_;){const I=u[g++],S=u[g++];try{T=I(T)}catch(b){S.call(this,b);break}}try{m=bA.call(this,T)}catch(I){return Promise.reject(I)}for(g=0,_=h.length;g<_;)m=m.then(h[g++],h[g++]);return m}getUri(e){e=Qa(this.defaults,e);const t=gx(e.baseURL,e.url,e.allowAbsoluteUrls);return dx(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){La.prototype[e]=function(t,r){return this.request(Qa(r||{},{method:e,url:t,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(r){return function(o,l,u){return this.request(Qa(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}La.prototype[e]=t(),La.prototype[e+"Form"]=t(!0)});let x6=class Ix{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(u=>{r.subscribe(u),o=u}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,u){r.reason||(r.reason=new lc(o,l,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ix(function(i){e=i}),cancel:e}}};function O6(n){return function(t){return n.apply(null,t)}}function N6(n){return re.isObject(n)&&n.isAxiosError===!0}const iw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(iw).forEach(([n,e])=>{iw[e]=n});function Tx(n){const e=new La(n),t=ex(La.prototype.request,e);return re.extend(t,La.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Tx(Qa(n,i))},t}const bt=Tx(Jh);bt.Axios=La;bt.CanceledError=lc;bt.CancelToken=x6;bt.isCancel=px;bt.VERSION=Ex;bt.toFormData=Dg;bt.AxiosError=Le;bt.Cancel=bt.CanceledError;bt.all=function(e){return Promise.all(e)};bt.spread=O6;bt.isAxiosError=N6;bt.mergeConfig=Qa;bt.AxiosHeaders=rr;bt.formToJSON=n=>fx(re.isHTMLForm(n)?new FormData(n):n);bt.getAdapter=wx.getAdapter;bt.HttpStatusCode=iw;bt.default=bt;const{Axios:QH,AxiosError:YH,CanceledError:JH,isCancel:XH,CancelToken:ZH,VERSION:e8,all:t8,Cancel:n8,isAxiosError:r8,spread:i8,toFormData:s8,AxiosHeaders:o8,HttpStatusCode:a8,formToJSON:l8,getAdapter:u8,mergeConfig:c8}=bt,D6="_card_container_11z7m_2",V6="_button_11z7m_18",L6="_rating_11z7m_44",M6="_product_contianer_11z7m_53",F6="_product_flexed_11z7m_63",Dd={card_container:D6,button:V6,rating:L6,product_contianer:M6,product_flexed:F6};var U6=K1();const kt=gw(U6);function Sx(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Sx(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ma(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Sx(n))&&(r&&(r+=" "),r+=e);return r}function Rx(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const j6={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Ax(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let l="",u=!0;for(let d=0;d<o.length;d+=1){const h=o[d];h&&(l+=(u===!0?"":" ")+e(h),u=!1,t&&t[h]&&(l+=" "+t[h]))}r[i]=l}return r}const B6=K.createContext(),z6=()=>K.useContext(B6)??!1;function CA(n){try{return n.matches(":focus-visible")}catch{}return!1}var rv={exports:{}},at={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA;function $6(){if(kA)return at;kA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),T=Symbol.for("react.client.reference");function I(S){if(typeof S=="object"&&S!==null){var b=S.$$typeof;switch(b){case n:switch(S=S.type,S){case t:case i:case r:case d:case h:return S;default:switch(S=S&&S.$$typeof,S){case l:case u:case g:case m:return S;case o:return S;default:return b}}case e:return b}}}return at.ContextConsumer=o,at.ContextProvider=l,at.Element=n,at.ForwardRef=u,at.Fragment=t,at.Lazy=g,at.Memo=m,at.Portal=e,at.Profiler=i,at.StrictMode=r,at.Suspense=d,at.SuspenseList=h,at.isContextConsumer=function(S){return I(S)===o},at.isContextProvider=function(S){return I(S)===l},at.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===n},at.isForwardRef=function(S){return I(S)===u},at.isFragment=function(S){return I(S)===t},at.isLazy=function(S){return I(S)===g},at.isMemo=function(S){return I(S)===m},at.isPortal=function(S){return I(S)===e},at.isProfiler=function(S){return I(S)===i},at.isStrictMode=function(S){return I(S)===r},at.isSuspense=function(S){return I(S)===d},at.isSuspenseList=function(S){return I(S)===h},at.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===t||S===i||S===r||S===d||S===h||S===_||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===m||S.$$typeof===l||S.$$typeof===o||S.$$typeof===u||S.$$typeof===T||S.getModuleId!==void 0)},at.typeOf=I,at}var xA;function q6(){return xA||(xA=1,rv.exports=$6()),rv.exports}var bx=q6();function us(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Px(n){if(K.isValidElement(n)||bx.isValidElementType(n)||!us(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=Px(n[t])}),e}function vr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return us(n)&&us(e)&&Object.keys(e).forEach(i=>{K.isValidElement(e[i])||bx.isValidElementType(e[i])?r[i]=e[i]:us(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&us(n[i])?r[i]=vr(n[i],e[i],t):t.clone?r[i]=us(e[i])?Px(e[i]):e[i]:r[i]=e[i]}),r}function Ya(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function Oo(n){if(typeof n!="string")throw new Error(Ya(7));return n.charAt(0).toUpperCase()+n.slice(1)}function W6(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let OA=0;function H6(n){const[e,t]=K.useState(n),r=n||e;return K.useEffect(()=>{e==null&&(OA+=1,t(`mui-${OA}`))},[e]),r}const K6={...uv},NA=K6.useId;function Cx(n){if(NA!==void 0){const e=NA();return n??e}return H6(n)}function G6({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=K.useRef(n!==void 0),[o,l]=K.useState(e),u=i?n:o,d=K.useCallback(h=>{i||l(h)},[]);return[u,d]}function kx(...n){return K.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{W6(t,e)})},n)}function sw(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],l=e[i];if(!l)t[i]=o||{};else if(!o)t[i]=l;else{t[i]={...l};for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u)){const d=u;t[i][d]=sw(o[d],l[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const DA=n=>n,Q6=()=>{let n=DA;return{configure(e){n=e},generate(e){return n(e)},reset(){n=DA}}},Y6=Q6(),J6={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function lE(n,e,t="Mui"){const r=J6[e];return r?`${t}-${r}`:`${Y6.generate(n)}-${e}`}function xx(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=lE(n,i,t)}),r}function X6(n){return typeof n=="string"}function Z6(n,e,t){return n===void 0||X6(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function e$(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function VA(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function t$(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:o}=n;if(!e){const T=Ma(t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),I={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},S={...t,...i,...r};return T.length>0&&(S.className=T),Object.keys(I).length>0&&(S.style=I),{props:S,internalRef:void 0}}const l=e$({...i,...r}),u=VA(r),d=VA(i),h=e(l),m=Ma(h==null?void 0:h.className,t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),g={...h==null?void 0:h.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},_={...h,...t,...d,...u};return m.length>0&&(_.className=m),Object.keys(g).length>0&&(_.style=g),{props:_,internalRef:h.ref}}function n$(n,e,t){return typeof n=="function"?n(e,t):n}function Qd(n,e){return e?vr(n,e,{clone:!1}):n}function r$(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,u;const o=/min-width:\s*([0-9.]+)/;return+(((l=r.match(o))==null?void 0:l[1])||0)-+(((u=i.match(o))==null?void 0:u[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function i$(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function s$(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function o$(n){const e=(o,l)=>o.replace("@media",l?`@container ${l}`:"@container");function t(o,l){o.up=(...u)=>e(n.breakpoints.up(...u),l),o.down=(...u)=>e(n.breakpoints.down(...u),l),o.between=(...u)=>e(n.breakpoints.between(...u),l),o.only=(...u)=>e(n.breakpoints.only(...u),l),o.not=(...u)=>{const d=e(n.breakpoints.not(...u),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const Mg={xs:0,sm:600,md:900,lg:1200,xl:1536},LA={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Mg[n]}px)`},a$={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Mg[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Ts(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||LA;return e.reduce((l,u,d)=>(l[o.up(o.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const o=r.breakpoints||LA;return Object.keys(e).reduce((l,u)=>{if(i$(o.keys,u)){const d=s$(r.containerQueries?r:a$,u);d&&(l[d]=t(e[u],u))}else if(Object.keys(o.values||Mg).includes(u)){const d=o.up(u);l[d]=t(e[u],u)}else{const d=u;l[d]=e[d]}return l},{})}return t(e)}function l$(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function u$(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Fg(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Fm(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Fg(n,t)||r,e&&(i=e(i,r,n)),i}function Ht(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=l=>{if(l[e]==null)return null;const u=l[e],d=l.theme,h=Fg(d,r)||{};return Ts(l,u,g=>{let _=Fm(h,i,g);return g===_&&typeof g=="string"&&(_=Fm(h,i,`${e}${g==="default"?"":Oo(g)}`,g)),t===!1?_:{[t]:_}})};return o.propTypes={},o.filterProps=[e],o}function c$(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const d$={m:"margin",p:"padding"},h$={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},MA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},f$=c$(n=>{if(n.length>2)if(MA[n])n=MA[n];else return[n];const[e,t]=n.split(""),r=d$[e],i=h$[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),uE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],cE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...uE,...cE];function Xh(n,e,t,r){const i=Fg(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const l=Math.abs(o),u=i[l];return o>=0?u:typeof u=="number"?-u:`-${u}`}:typeof i=="function"?i:()=>{}}function dE(n){return Xh(n,"spacing",8)}function Zh(n,e){return typeof e=="string"||e==null?e:n(e)}function p$(n,e){return t=>n.reduce((r,i)=>(r[i]=Zh(e,t),r),{})}function m$(n,e,t,r){if(!e.includes(t))return null;const i=f$(t),o=p$(i,r),l=n[t];return Ts(n,l,o)}function Ox(n,e){const t=dE(n.theme);return Object.keys(n).map(r=>m$(n,e,r,t)).reduce(Qd,{})}function Lt(n){return Ox(n,uE)}Lt.propTypes={};Lt.filterProps=uE;function Mt(n){return Ox(n,cE)}Mt.propTypes={};Mt.filterProps=cE;function Ug(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?Qd(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Lr(n){return typeof n!="number"?n:`${n}px solid`}function Br(n,e){return Ht({prop:n,themeKey:"borders",transform:e})}const g$=Br("border",Lr),y$=Br("borderTop",Lr),_$=Br("borderRight",Lr),v$=Br("borderBottom",Lr),w$=Br("borderLeft",Lr),E$=Br("borderColor"),I$=Br("borderTopColor"),T$=Br("borderRightColor"),S$=Br("borderBottomColor"),R$=Br("borderLeftColor"),A$=Br("outline",Lr),b$=Br("outlineColor"),jg=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Xh(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Zh(e,r)});return Ts(n,n.borderRadius,t)}return null};jg.propTypes={};jg.filterProps=["borderRadius"];Ug(g$,y$,_$,v$,w$,E$,I$,T$,S$,R$,jg,A$,b$);const Bg=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Xh(n.theme,"spacing",8),t=r=>({gap:Zh(e,r)});return Ts(n,n.gap,t)}return null};Bg.propTypes={};Bg.filterProps=["gap"];const zg=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Xh(n.theme,"spacing",8),t=r=>({columnGap:Zh(e,r)});return Ts(n,n.columnGap,t)}return null};zg.propTypes={};zg.filterProps=["columnGap"];const $g=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Xh(n.theme,"spacing",8),t=r=>({rowGap:Zh(e,r)});return Ts(n,n.rowGap,t)}return null};$g.propTypes={};$g.filterProps=["rowGap"];const P$=Ht({prop:"gridColumn"}),C$=Ht({prop:"gridRow"}),k$=Ht({prop:"gridAutoFlow"}),x$=Ht({prop:"gridAutoColumns"}),O$=Ht({prop:"gridAutoRows"}),N$=Ht({prop:"gridTemplateColumns"}),D$=Ht({prop:"gridTemplateRows"}),V$=Ht({prop:"gridTemplateAreas"}),L$=Ht({prop:"gridArea"});Ug(Bg,zg,$g,P$,C$,k$,x$,O$,N$,D$,V$,L$);function yu(n,e){return e==="grey"?e:n}const M$=Ht({prop:"color",themeKey:"palette",transform:yu}),F$=Ht({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:yu}),U$=Ht({prop:"backgroundColor",themeKey:"palette",transform:yu});Ug(M$,F$,U$);function gr(n){return n<=1&&n!==0?`${n*100}%`:n}const j$=Ht({prop:"width",transform:gr}),hE=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,l,u,d;const r=((l=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:l[t])||Mg[t];return r?((d=(u=n.theme)==null?void 0:u.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:gr(t)}};return Ts(n,n.maxWidth,e)}return null};hE.filterProps=["maxWidth"];const B$=Ht({prop:"minWidth",transform:gr}),z$=Ht({prop:"height",transform:gr}),$$=Ht({prop:"maxHeight",transform:gr}),q$=Ht({prop:"minHeight",transform:gr});Ht({prop:"size",cssProperty:"width",transform:gr});Ht({prop:"size",cssProperty:"height",transform:gr});const W$=Ht({prop:"boxSizing"});Ug(j$,hE,B$,z$,$$,q$,W$);const qg={border:{themeKey:"borders",transform:Lr},borderTop:{themeKey:"borders",transform:Lr},borderRight:{themeKey:"borders",transform:Lr},borderBottom:{themeKey:"borders",transform:Lr},borderLeft:{themeKey:"borders",transform:Lr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Lr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:jg},color:{themeKey:"palette",transform:yu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:yu},backgroundColor:{themeKey:"palette",transform:yu},p:{style:Mt},pt:{style:Mt},pr:{style:Mt},pb:{style:Mt},pl:{style:Mt},px:{style:Mt},py:{style:Mt},padding:{style:Mt},paddingTop:{style:Mt},paddingRight:{style:Mt},paddingBottom:{style:Mt},paddingLeft:{style:Mt},paddingX:{style:Mt},paddingY:{style:Mt},paddingInline:{style:Mt},paddingInlineStart:{style:Mt},paddingInlineEnd:{style:Mt},paddingBlock:{style:Mt},paddingBlockStart:{style:Mt},paddingBlockEnd:{style:Mt},m:{style:Lt},mt:{style:Lt},mr:{style:Lt},mb:{style:Lt},ml:{style:Lt},mx:{style:Lt},my:{style:Lt},margin:{style:Lt},marginTop:{style:Lt},marginRight:{style:Lt},marginBottom:{style:Lt},marginLeft:{style:Lt},marginX:{style:Lt},marginY:{style:Lt},marginInline:{style:Lt},marginInlineStart:{style:Lt},marginInlineEnd:{style:Lt},marginBlock:{style:Lt},marginBlockStart:{style:Lt},marginBlockEnd:{style:Lt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Bg},rowGap:{style:$g},columnGap:{style:zg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:gr},maxWidth:{style:hE},minWidth:{transform:gr},height:{transform:gr},maxHeight:{transform:gr},minHeight:{transform:gr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function H$(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function K$(n,e){return typeof n=="function"?n(e):n}function G$(){function n(t,r,i,o){const l={[t]:r,theme:i},u=o[t];if(!u)return{[t]:r};const{cssProperty:d=t,themeKey:h,transform:m,style:g}=u;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[t]:r};const _=Fg(i,h)||{};return g?g(l):Ts(l,r,I=>{let S=Fm(_,m,I);return I===S&&typeof I=="string"&&(S=Fm(_,m,`${t}${I==="default"?"":Oo(I)}`,I)),d===!1?S:{[d]:S}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??qg;function l(u){let d=u;if(typeof u=="function")d=u(i);else if(typeof u!="object")return u;if(!d)return null;const h=l$(i.breakpoints),m=Object.keys(h);let g=h;return Object.keys(d).forEach(_=>{const T=K$(d[_],i);if(T!=null)if(typeof T=="object")if(o[_])g=Qd(g,n(_,T,i,o));else{const I=Ts({theme:i},T,S=>({[_]:S}));H$(I,T)?g[_]=e({sx:T,theme:i}):g=Qd(g,I)}else g=Qd(g,n(_,T,i,o))}),r$(i,u$(m,g))}return Array.isArray(r)?r.map(l):l(r)}return e}const $u=G$();$u.filterProps=["sx"];function ow(){return ow=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ow.apply(null,arguments)}function Q$(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function Y$(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var J$=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Y$(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Q$(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),xn="-ms-",Um="-moz-",Ze="-webkit-",Nx="comm",fE="rule",pE="decl",X$="@import",Dx="@keyframes",Z$="@layer",e9=Math.abs,Wg=String.fromCharCode,t9=Object.assign;function n9(n,e){return Tn(n,0)^45?(((e<<2^Tn(n,0))<<2^Tn(n,1))<<2^Tn(n,2))<<2^Tn(n,3):0}function Vx(n){return n.trim()}function r9(n,e){return(n=e.exec(n))?n[0]:n}function et(n,e,t){return n.replace(e,t)}function aw(n,e){return n.indexOf(e)}function Tn(n,e){return n.charCodeAt(e)|0}function Eh(n,e,t){return n.slice(e,t)}function Ai(n){return n.length}function mE(n){return n.length}function Cp(n,e){return e.push(n),n}function i9(n,e){return n.map(e).join("")}var Hg=1,qu=1,Lx=0,ir=0,Zt=0,uc="";function Kg(n,e,t,r,i,o,l){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:Hg,column:qu,length:l,return:""}}function Id(n,e){return t9(Kg("",null,null,"",null,null,0),n,{length:-n.length},e)}function s9(){return Zt}function o9(){return Zt=ir>0?Tn(uc,--ir):0,qu--,Zt===10&&(qu=1,Hg--),Zt}function wr(){return Zt=ir<Lx?Tn(uc,ir++):0,qu++,Zt===10&&(qu=1,Hg++),Zt}function Fi(){return Tn(uc,ir)}function Zp(){return ir}function ef(n,e){return Eh(uc,n,e)}function Ih(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Mx(n){return Hg=qu=1,Lx=Ai(uc=n),ir=0,[]}function Fx(n){return uc="",n}function em(n){return Vx(ef(ir-1,lw(n===91?n+2:n===40?n+1:n)))}function a9(n){for(;(Zt=Fi())&&Zt<33;)wr();return Ih(n)>2||Ih(Zt)>3?"":" "}function l9(n,e){for(;--e&&wr()&&!(Zt<48||Zt>102||Zt>57&&Zt<65||Zt>70&&Zt<97););return ef(n,Zp()+(e<6&&Fi()==32&&wr()==32))}function lw(n){for(;wr();)switch(Zt){case n:return ir;case 34:case 39:n!==34&&n!==39&&lw(Zt);break;case 40:n===41&&lw(n);break;case 92:wr();break}return ir}function u9(n,e){for(;wr()&&n+Zt!==57;)if(n+Zt===84&&Fi()===47)break;return"/*"+ef(e,ir-1)+"*"+Wg(n===47?n:wr())}function c9(n){for(;!Ih(Fi());)wr();return ef(n,ir)}function d9(n){return Fx(tm("",null,null,null,[""],n=Mx(n),0,[0],n))}function tm(n,e,t,r,i,o,l,u,d){for(var h=0,m=0,g=l,_=0,T=0,I=0,S=1,b=1,V=1,L=0,M="",z=i,j=o,W=r,D=M;b;)switch(I=L,L=wr()){case 40:if(I!=108&&Tn(D,g-1)==58){aw(D+=et(em(L),"&","&\f"),"&\f")!=-1&&(V=-1);break}case 34:case 39:case 91:D+=em(L);break;case 9:case 10:case 13:case 32:D+=a9(I);break;case 92:D+=l9(Zp()-1,7);continue;case 47:switch(Fi()){case 42:case 47:Cp(h9(u9(wr(),Zp()),e,t),d);break;default:D+="/"}break;case 123*S:u[h++]=Ai(D)*V;case 125*S:case 59:case 0:switch(L){case 0:case 125:b=0;case 59+m:V==-1&&(D=et(D,/\f/g,"")),T>0&&Ai(D)-g&&Cp(T>32?UA(D+";",r,t,g-1):UA(et(D," ","")+";",r,t,g-2),d);break;case 59:D+=";";default:if(Cp(W=FA(D,e,t,h,m,i,u,M,z=[],j=[],g),o),L===123)if(m===0)tm(D,e,W,W,z,o,g,u,j);else switch(_===99&&Tn(D,3)===110?100:_){case 100:case 108:case 109:case 115:tm(n,W,W,r&&Cp(FA(n,W,W,0,0,i,u,M,i,z=[],g),j),i,j,g,u,r?z:j);break;default:tm(D,W,W,W,[""],j,0,u,j)}}h=m=T=0,S=V=1,M=D="",g=l;break;case 58:g=1+Ai(D),T=I;default:if(S<1){if(L==123)--S;else if(L==125&&S++==0&&o9()==125)continue}switch(D+=Wg(L),L*S){case 38:V=m>0?1:(D+="\f",-1);break;case 44:u[h++]=(Ai(D)-1)*V,V=1;break;case 64:Fi()===45&&(D+=em(wr())),_=Fi(),m=g=Ai(M=D+=c9(Zp())),L++;break;case 45:I===45&&Ai(D)==2&&(S=0)}}return o}function FA(n,e,t,r,i,o,l,u,d,h,m){for(var g=i-1,_=i===0?o:[""],T=mE(_),I=0,S=0,b=0;I<r;++I)for(var V=0,L=Eh(n,g+1,g=e9(S=l[I])),M=n;V<T;++V)(M=Vx(S>0?_[V]+" "+L:et(L,/&\f/g,_[V])))&&(d[b++]=M);return Kg(n,e,t,i===0?fE:u,d,h,m)}function h9(n,e,t){return Kg(n,e,t,Nx,Wg(s9()),Eh(n,2,-2),0)}function UA(n,e,t,r){return Kg(n,e,t,pE,Eh(n,0,r),Eh(n,r+1,-1),r)}function _u(n,e){for(var t="",r=mE(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function f9(n,e,t,r){switch(n.type){case Z$:if(n.children.length)break;case X$:case pE:return n.return=n.return||n.value;case Nx:return"";case Dx:return n.return=n.value+"{"+_u(n.children,r)+"}";case fE:n.value=n.props.join(",")}return Ai(t=_u(n.children,r))?n.return=n.value+"{"+t+"}":""}function p9(n){var e=mE(n);return function(t,r,i,o){for(var l="",u=0;u<e;u++)l+=n[u](t,r,i,o)||"";return l}}function m9(n){return function(e){e.root||(e=e.return)&&n(e)}}function Ux(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var g9=function(e,t,r){for(var i=0,o=0;i=o,o=Fi(),i===38&&o===12&&(t[r]=1),!Ih(o);)wr();return ef(e,ir)},y9=function(e,t){var r=-1,i=44;do switch(Ih(i)){case 0:i===38&&Fi()===12&&(t[r]=1),e[r]+=g9(ir-1,t,r);break;case 2:e[r]+=em(i);break;case 4:if(i===44){e[++r]=Fi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Wg(i)}while(i=wr());return e},_9=function(e,t){return Fx(y9(Mx(e),t))},jA=new WeakMap,v9=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!jA.get(r))&&!i){jA.set(e,!0);for(var o=[],l=_9(t,o),u=r.props,d=0,h=0;d<l.length;d++)for(var m=0;m<u.length;m++,h++)e.props[h]=o[d]?l[d].replace(/&\f/g,u[m]):u[m]+" "+l[d]}}},w9=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function jx(n,e){switch(n9(n,e)){case 5103:return Ze+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ze+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ze+n+Um+n+xn+n+n;case 6828:case 4268:return Ze+n+xn+n+n;case 6165:return Ze+n+xn+"flex-"+n+n;case 5187:return Ze+n+et(n,/(\w+).+(:[^]+)/,Ze+"box-$1$2"+xn+"flex-$1$2")+n;case 5443:return Ze+n+xn+"flex-item-"+et(n,/flex-|-self/,"")+n;case 4675:return Ze+n+xn+"flex-line-pack"+et(n,/align-content|flex-|-self/,"")+n;case 5548:return Ze+n+xn+et(n,"shrink","negative")+n;case 5292:return Ze+n+xn+et(n,"basis","preferred-size")+n;case 6060:return Ze+"box-"+et(n,"-grow","")+Ze+n+xn+et(n,"grow","positive")+n;case 4554:return Ze+et(n,/([^-])(transform)/g,"$1"+Ze+"$2")+n;case 6187:return et(et(et(n,/(zoom-|grab)/,Ze+"$1"),/(image-set)/,Ze+"$1"),n,"")+n;case 5495:case 3959:return et(n,/(image-set\([^]*)/,Ze+"$1$`$1");case 4968:return et(et(n,/(.+:)(flex-)?(.*)/,Ze+"box-pack:$3"+xn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ze+n+n;case 4095:case 3583:case 4068:case 2532:return et(n,/(.+)-inline(.+)/,Ze+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ai(n)-1-e>6)switch(Tn(n,e+1)){case 109:if(Tn(n,e+4)!==45)break;case 102:return et(n,/(.+:)(.+)-([^]+)/,"$1"+Ze+"$2-$3$1"+Um+(Tn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~aw(n,"stretch")?jx(et(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Tn(n,e+1)!==115)break;case 6444:switch(Tn(n,Ai(n)-3-(~aw(n,"!important")&&10))){case 107:return et(n,":",":"+Ze)+n;case 101:return et(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ze+(Tn(n,14)===45?"inline-":"")+"box$3$1"+Ze+"$2$3$1"+xn+"$2box$3")+n}break;case 5936:switch(Tn(n,e+11)){case 114:return Ze+n+xn+et(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ze+n+xn+et(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ze+n+xn+et(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ze+n+xn+n+n}return n}var E9=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case pE:e.return=jx(e.value,e.length);break;case Dx:return _u([Id(e,{value:et(e.value,"@","@"+Ze)})],i);case fE:if(e.length)return i9(e.props,function(o){switch(r9(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _u([Id(e,{props:[et(o,/:(read-\w+)/,":"+Um+"$1")]})],i);case"::placeholder":return _u([Id(e,{props:[et(o,/:(plac\w+)/,":"+Ze+"input-$1")]}),Id(e,{props:[et(o,/:(plac\w+)/,":"+Um+"$1")]}),Id(e,{props:[et(o,/:(plac\w+)/,xn+"input-$1")]})],i)}return""})}},I9=[E9],T9=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var b=S.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var i=e.stylisPlugins||I9,o={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(S){for(var b=S.getAttribute("data-emotion").split(" "),V=1;V<b.length;V++)o[b[V]]=!0;u.push(S)});var d,h=[v9,w9];{var m,g=[f9,m9(function(S){m.insert(S)})],_=p9(h.concat(i,g)),T=function(b){return _u(d9(b),_)};d=function(b,V,L,M){m=L,T(b?b+"{"+V.styles+"}":V.styles),M&&(I.inserted[V.name]=!0)}}var I={key:t,sheet:new J$({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return I.sheet.hydrate(u),I},S9=!0;function R9(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var Bx=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||S9===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},A9=function(e,t,r){Bx(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function b9(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var P9={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},C9=/[A-Z]|^ms/g,k9=/_EMO_([^_]+?)_([^]*?)_EMO_/g,zx=function(e){return e.charCodeAt(1)===45},BA=function(e){return e!=null&&typeof e!="boolean"},iv=Ux(function(n){return zx(n)?n:n.replace(C9,"-$&").toLowerCase()}),zA=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(k9,function(r,i,o){return bi={name:i,styles:o,next:bi},i})}return P9[e]!==1&&!zx(e)&&typeof t=="number"&&t!==0?t+"px":t};function Th(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return bi={name:i.name,styles:i.styles,next:bi},i.name;var o=t;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)bi={name:l.name,styles:l.styles,next:bi},l=l.next;var u=o.styles+";";return u}return x9(n,e,t)}case"function":{if(n!==void 0){var d=bi,h=t(n);return bi=d,Th(n,e,h)}break}}var m=t;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function x9(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Th(n,e,t[i])+";";else for(var o in t){var l=t[o];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?r+=o+"{"+e[u]+"}":BA(u)&&(r+=iv(o)+":"+zA(o,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)BA(l[d])&&(r+=iv(o)+":"+zA(o,l[d])+";");else{var h=Th(n,e,l);switch(o){case"animation":case"animationName":{r+=iv(o)+":"+h+";";break}default:r+=o+"{"+h+"}"}}}return r}var $A=/label:\s*([^\s;{]+)\s*(;|$)/g,bi;function $x(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";bi=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=Th(t,e,o);else{var l=o;i+=l[0]}for(var u=1;u<n.length;u++)if(i+=Th(t,e,n[u]),r){var d=o;i+=d[u]}$A.lastIndex=0;for(var h="",m;(m=$A.exec(i))!==null;)h+="-"+m[1];var g=b9(i)+h;return{name:g,styles:i,next:bi}}var O9=function(e){return e()},N9=uv.useInsertionEffect?uv.useInsertionEffect:!1,D9=N9||O9,qx=K.createContext(typeof HTMLElement<"u"?T9({key:"css"}):null);qx.Provider;var V9=function(e){return K.forwardRef(function(t,r){var i=K.useContext(qx);return e(t,i,r)})},L9=K.createContext({}),M9=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,F9=Ux(function(n){return M9.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),U9=F9,j9=function(e){return e!=="theme"},qA=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?U9:j9},WA=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(l){return e.__emotion_forwardProp(l)&&o(l)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},B9=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return Bx(t,r,i),D9(function(){return A9(t,r,i)}),null},z9=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,l;t!==void 0&&(o=t.label,l=t.target);var u=WA(e,t,r),d=u||qA(i),h=!d("as");return function(){var m=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&g.push("label:"+o+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var _=m[0];g.push(_[0]);for(var T=m.length,I=1;I<T;I++)g.push(m[I],_[I])}var S=V9(function(b,V,L){var M=h&&b.as||i,z="",j=[],W=b;if(b.theme==null){W={};for(var D in b)W[D]=b[D];W.theme=K.useContext(L9)}typeof b.className=="string"?z=R9(V.registered,j,b.className):b.className!=null&&(z=b.className+" ");var A=$x(g.concat(j),V.registered,W);z+=V.key+"-"+A.name,l!==void 0&&(z+=" "+l);var C=h&&u===void 0?qA(M):d,E={};for(var O in b)h&&O==="as"||C(O)&&(E[O]=b[O]);return E.className=z,L&&(E.ref=L),K.createElement(K.Fragment,null,K.createElement(B9,{cache:V,serialized:A,isStringTag:typeof M=="string"}),K.createElement(M,E))});return S.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=i,S.__emotion_styles=g,S.__emotion_forwardProp=u,Object.defineProperty(S,"toString",{value:function(){return"."+l}}),S.withComponent=function(b,V){var L=n(b,ow({},t,V,{shouldForwardProp:WA(S,V,!0)}));return L.apply(void 0,g)},S}},$9=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],uw=z9.bind(null);$9.forEach(function(n){uw[n]=uw(n)});/**
 * @mui/styled-engine v6.4.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function q9(n,e){return uw(n,e)}function W9(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const HA=[];function KA(n){return HA[0]=n,$x(HA)}const H9=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function K9(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=H9(e),l=Object.keys(o);function u(_){return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t})`}function d(_){return`@media (max-width:${(typeof e[_]=="number"?e[_]:_)-r/100}${t})`}function h(_,T){const I=l.indexOf(T);return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t}) and (max-width:${(I!==-1&&typeof e[l[I]]=="number"?e[l[I]]:T)-r/100}${t})`}function m(_){return l.indexOf(_)+1<l.length?h(_,l[l.indexOf(_)+1]):u(_)}function g(_){const T=l.indexOf(_);return T===0?u(l[1]):T===l.length-1?d(l[T]):h(_,l[l.indexOf(_)+1]).replace("@media","@media not all and")}return{keys:l,values:o,up:u,down:d,between:h,only:m,not:g,unit:t,...i}}const G9={borderRadius:4};function Wx(n=8,e=dE({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function Q9(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function Hx(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...l}=n,u=K9(t),d=Wx(i);let h=vr({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...G9,...o}},l);return h=o$(h),h.applyStyles=Q9,h=e.reduce((m,g)=>vr(m,g),h),h.unstable_sxConfig={...qg,...l==null?void 0:l.unstable_sxConfig},h.unstable_sx=function(g){return $u({sx:g,theme:this})},h}function Kx(n){const{variants:e,...t}=n,r={variants:e,style:KA(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=KA(i.style))}),r}const Y9=Hx();function sv(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function J9(n){return n?(e,t)=>t[n]:null}function X9(n,e,t){n.theme=tq(n.theme)?t:n.theme[e]||n.theme}function nm(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>nm(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return Gx(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function Gx(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const l=e[o];if(typeof l.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(r))continue}else for(const u in l.props)if(n[u]!==l.props[u]&&((i=n.ownerState)==null?void 0:i[u])!==l.props[u])continue e;typeof l.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(r))):t.push(l.style)}return t}function Z9(n={}){const{themeId:e,defaultTheme:t=Y9,rootShouldForwardProp:r=sv,slotShouldForwardProp:i=sv}=n;function o(u){X9(u,e,t)}return(u,d={})=>{W9(u,j=>j.filter(W=>W!==$u));const{name:h,slot:m,skipVariantsResolver:g,skipSx:_,overridesResolver:T=J9(rq(m)),...I}=d,S=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,b=_||!1;let V=sv;m==="Root"||m==="root"?V=r:m?V=i:nq(u)&&(V=void 0);const L=q9(u,{shouldForwardProp:V,label:eq(),...I}),M=j=>{if(typeof j=="function"&&j.__emotion_real!==j)return function(D){return nm(D,j)};if(us(j)){const W=Kx(j);return W.variants?function(A){return nm(A,W)}:W.style}return j},z=(...j)=>{const W=[],D=j.map(M),A=[];if(W.push(o),h&&T&&A.push(function(k){var fe,oe;const ee=(oe=(fe=k.theme.components)==null?void 0:fe[h])==null?void 0:oe.styleOverrides;if(!ee)return null;const F={};for(const X in ee)F[X]=nm(k,ee[X]);return T(k,F)}),h&&!S&&A.push(function(k){var F,fe;const x=k.theme,ee=(fe=(F=x==null?void 0:x.components)==null?void 0:F[h])==null?void 0:fe.variants;return ee?Gx(k,ee):null}),b||A.push($u),Array.isArray(D[0])){const O=D.shift(),k=new Array(W.length).fill(""),x=new Array(A.length).fill("");let ee;ee=[...k,...O,...x],ee.raw=[...k,...O.raw,...x],W.unshift(ee)}const C=[...W,...D,...A],E=L(...C);return u.muiName&&(E.muiName=u.muiName),E};return L.withConfig&&(z.withConfig=L.withConfig),z}}function eq(n,e){return void 0}function tq(n){for(const e in n)return!1;return!0}function nq(n){return typeof n=="string"&&n.charCodeAt(0)>96}function rq(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function gE(n,e=0,t=1){return Rx(n,e,t)}function iq(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function No(n){if(n.type)return n;if(n.charAt(0)==="#")return No(iq(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Ya(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Ya(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const sq=n=>{const e=No(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Vd=(n,e)=>{try{return sq(n)}catch{return n}};function Gg(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Qx(n){n=No(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),l=(h,m=(h+t/30)%12)=>i-o*Math.max(Math.min(m-3,9-m,1),-1);let u="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(u+="a",d.push(e[3])),Gg({type:u,values:d})}function cw(n){n=No(n);let e=n.type==="hsl"||n.type==="hsla"?No(Qx(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function oq(n,e){const t=cw(n),r=cw(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function aq(n,e){return n=No(n),e=gE(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Gg(n)}function kp(n,e,t){try{return aq(n,e)}catch{return n}}function yE(n,e){if(n=No(n),e=gE(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Gg(n)}function ut(n,e,t){try{return yE(n,e)}catch{return n}}function _E(n,e){if(n=No(n),e=gE(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Gg(n)}function ct(n,e,t){try{return _E(n,e)}catch{return n}}function lq(n,e=.15){return cw(n)>.5?yE(n,e):_E(n,e)}function xp(n,e,t){try{return lq(n,e)}catch{return n}}const uq=K.createContext(void 0);function cq(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?sw(i.defaultProps,r):!i.styleOverrides&&!i.variants?sw(i,r):r}function dq({props:n,name:e}){const t=K.useContext(uq);return cq({props:n,name:e,theme:{components:t}})}const GA={theme:void 0};function hq(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(GA.theme=i.theme,o=Kx(n(GA)),e=o,t=i.theme),o}}function fq(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const QA=(n,e,t,r=[])=>{let i=n;e.forEach((o,l)=>{l===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},pq=(n,e,t)=>{function r(i,o=[],l=[]){Object.entries(i).forEach(([u,d])=>{(!t||t&&!t([...o,u]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,u],Array.isArray(d)?[...l,u]:l):e([...o,u],d,l))})}r(n)},mq=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function ov(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},l={};return pq(n,(u,d,h)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(u,d))){const m=`--${t?`${t}-`:""}${u.join("-")}`,g=mq(u,d);Object.assign(i,{[m]:g}),QA(o,u,`var(${m})`,h),QA(l,u,`var(${m}, ${g})`,h)}},u=>u[0]==="vars"),{css:i,vars:o,varsWithDefaults:l}}function gq(n,e={}){const{getSelector:t=b,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:l,defaultColorScheme:u="light",...d}=n,{vars:h,css:m,varsWithDefaults:g}=ov(d,e);let _=g;const T={},{[u]:I,...S}=o;if(Object.entries(S||{}).forEach(([M,z])=>{const{vars:j,css:W,varsWithDefaults:D}=ov(z,e);_=vr(_,D),T[M]={css:W,vars:j}}),I){const{css:M,vars:z,varsWithDefaults:j}=ov(I,e);_=vr(_,j),T[u]={css:M,vars:z}}function b(M,z){var W,D;let j=i;if(i==="class"&&(j=".%s"),i==="data"&&(j="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(j=`[${i}="%s"]`),M){if(j==="media")return n.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${((D=(W=o[M])==null?void 0:W.palette)==null?void 0:D.mode)||M})`]:{":root":z}};if(j)return n.defaultColorScheme===M?`:root, ${j.replace("%s",String(M))}`:j.replace("%s",String(M))}return":root"}return{vars:_,generateThemeVars:()=>{let M={...h};return Object.entries(T).forEach(([,{vars:z}])=>{M=vr(M,z)}),M},generateStyleSheets:()=>{var A,C;const M=[],z=n.defaultColorScheme||"light";function j(E,O){Object.keys(O).length&&M.push(typeof E=="string"?{[E]:{...O}}:E)}j(t(void 0,{...m}),m);const{[z]:W,...D}=T;if(W){const{css:E}=W,O=(C=(A=o[z])==null?void 0:A.palette)==null?void 0:C.mode,k=!r&&O?{colorScheme:O,...E}:{...E};j(t(z,{...k}),k)}return Object.entries(D).forEach(([E,{css:O}])=>{var ee,F;const k=(F=(ee=o[E])==null?void 0:ee.palette)==null?void 0:F.mode,x=!r&&k?{colorScheme:k,...O}:{...O};j(t(E,{...x}),x)}),M}}}function yq(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const Sh={black:"#000",white:"#fff"},_q={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Xl={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Zl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Td={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},eu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},tu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},nu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function Yx(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Sh.white,default:Sh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const vq=Yx();function Jx(){return{text:{primary:Sh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Sh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const YA=Jx();function JA(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=_E(n.main,i):e==="dark"&&(n.dark=yE(n.main,o)))}function wq(n="light"){return n==="dark"?{main:eu[200],light:eu[50],dark:eu[400]}:{main:eu[700],light:eu[400],dark:eu[800]}}function Eq(n="light"){return n==="dark"?{main:Xl[200],light:Xl[50],dark:Xl[400]}:{main:Xl[500],light:Xl[300],dark:Xl[700]}}function Iq(n="light"){return n==="dark"?{main:Zl[500],light:Zl[300],dark:Zl[700]}:{main:Zl[700],light:Zl[400],dark:Zl[800]}}function Tq(n="light"){return n==="dark"?{main:tu[400],light:tu[300],dark:tu[700]}:{main:tu[700],light:tu[500],dark:tu[900]}}function Sq(n="light"){return n==="dark"?{main:nu[400],light:nu[300],dark:nu[700]}:{main:nu[800],light:nu[500],dark:nu[900]}}function Rq(n="light"){return n==="dark"?{main:Td[400],light:Td[300],dark:Td[700]}:{main:"#ed6c02",light:Td[500],dark:Td[900]}}function vE(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||wq(e),l=n.secondary||Eq(e),u=n.error||Iq(e),d=n.info||Tq(e),h=n.success||Sq(e),m=n.warning||Rq(e);function g(S){return oq(S,YA.text.primary)>=t?YA.text.primary:vq.text.primary}const _=({color:S,name:b,mainShade:V=500,lightShade:L=300,darkShade:M=700})=>{if(S={...S},!S.main&&S[V]&&(S.main=S[V]),!S.hasOwnProperty("main"))throw new Error(Ya(11,b?` (${b})`:"",V));if(typeof S.main!="string")throw new Error(Ya(12,b?` (${b})`:"",JSON.stringify(S.main)));return JA(S,"light",L,r),JA(S,"dark",M,r),S.contrastText||(S.contrastText=g(S.main)),S};let T;return e==="light"?T=Yx():e==="dark"&&(T=Jx()),vr({common:{...Sh},mode:e,primary:_({color:o,name:"primary"}),secondary:_({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:_({color:u,name:"error"}),warning:_({color:m,name:"warning"}),info:_({color:d,name:"info"}),success:_({color:h,name:"success"}),grey:_q,contrastThreshold:t,getContrastText:g,augmentColor:_,tonalOffset:r,...T},i)}function Aq(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function bq(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function Pq(n){return Math.round(n*1e5)/1e5}const XA={textTransform:"uppercase"},ZA='"Roboto", "Helvetica", "Arial", sans-serif';function Cq(n,e){const{fontFamily:t=ZA,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:h,pxToRem:m,...g}=typeof e=="function"?e(n):e,_=r/14,T=m||(b=>`${b/d*_}rem`),I=(b,V,L,M,z)=>({fontFamily:t,fontWeight:b,fontSize:T(V),lineHeight:L,...t===ZA?{letterSpacing:`${Pq(M/V)}em`}:{},...z,...h}),S={h1:I(i,96,1.167,-1.5),h2:I(i,60,1.2,-.5),h3:I(o,48,1.167,0),h4:I(o,34,1.235,.25),h5:I(o,24,1.334,0),h6:I(l,20,1.6,.15),subtitle1:I(o,16,1.75,.15),subtitle2:I(l,14,1.57,.1),body1:I(o,16,1.5,.15),body2:I(o,14,1.43,.15),button:I(l,14,1.75,.4,XA),caption:I(o,12,1.66,.4),overline:I(o,12,2.66,1,XA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return vr({htmlFontSize:d,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:u,...S},g,{clone:!1})}const kq=.2,xq=.14,Oq=.12;function Et(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${kq})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${xq})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Oq})`].join(",")}const Nq=["none",Et(0,2,1,-1,0,1,1,0,0,1,3,0),Et(0,3,1,-2,0,2,2,0,0,1,5,0),Et(0,3,3,-2,0,3,4,0,0,1,8,0),Et(0,2,4,-1,0,4,5,0,0,1,10,0),Et(0,3,5,-1,0,5,8,0,0,1,14,0),Et(0,3,5,-1,0,6,10,0,0,1,18,0),Et(0,4,5,-2,0,7,10,1,0,2,16,1),Et(0,5,5,-3,0,8,10,1,0,3,14,2),Et(0,5,6,-3,0,9,12,1,0,3,16,2),Et(0,6,6,-3,0,10,14,1,0,4,18,3),Et(0,6,7,-4,0,11,15,1,0,4,20,3),Et(0,7,8,-4,0,12,17,2,0,5,22,4),Et(0,7,8,-4,0,13,19,2,0,5,24,4),Et(0,7,9,-4,0,14,21,2,0,5,26,4),Et(0,8,9,-5,0,15,22,2,0,6,28,5),Et(0,8,10,-5,0,16,24,2,0,6,30,5),Et(0,8,11,-5,0,17,26,2,0,6,32,5),Et(0,9,11,-5,0,18,28,2,0,7,34,6),Et(0,9,12,-6,0,19,29,2,0,7,36,6),Et(0,10,13,-6,0,20,31,3,0,8,38,7),Et(0,10,13,-6,0,21,33,3,0,8,40,7),Et(0,10,14,-6,0,22,35,3,0,8,42,7),Et(0,11,14,-7,0,23,36,3,0,9,44,8),Et(0,11,15,-7,0,24,38,3,0,9,46,8)],Dq={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Vq={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function eb(n){return`${Math.round(n)}ms`}function Lq(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Mq(n){const e={...Dq,...n.easing},t={...Vq,...n.duration};return{getAutoHeightDuration:Lq,create:(i=["all"],o={})=>{const{duration:l=t.standard,easing:u=e.easeInOut,delay:d=0,...h}=o;return(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof l=="string"?l:eb(l)} ${u} ${typeof d=="string"?d:eb(d)}`).join(",")},...n,easing:e,duration:t}}const Fq={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Uq(n){return us(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function Xx(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[l,u]=i[o];!Uq(u)||l.startsWith("unstable_")?delete r[l]:us(u)&&(r[l]={...u},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function dw(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:l={},typography:u={},shape:d,...h}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Ya(20));const m=vE(o),g=Hx(n);let _=vr(g,{mixins:bq(g.breakpoints,r),palette:m,shadows:Nq.slice(),typography:Cq(m,u),transitions:Mq(l),zIndex:{...Fq}});return _=vr(_,h),_=e.reduce((T,I)=>vr(T,I),_),_.unstable_sxConfig={...qg,...h==null?void 0:h.unstable_sxConfig},_.unstable_sx=function(I){return $u({sx:I,theme:this})},_.toRuntimeSource=Xx,_}function jq(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const Bq=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=jq(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function Zx(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function eO(n){return n==="dark"?Bq:[]}function zq(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=vE(e);return{palette:o,opacity:{...Zx(o.mode),...t},overlays:r||eO(o.mode),...i}}function $q(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const qq=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],Wq=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return qq(n.cssVarPrefix).forEach(u=>{l[u]=t[u],delete t[u]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:o?{[o.replace("%s",e)]:l,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function Hq(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function se(n,e,t){!n[e]&&t&&(n[e]=t)}function Ld(n){return typeof n!="string"||!n.startsWith("hsl")?n:Qx(n)}function ls(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Vd(Ld(n[e])))}function Kq(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Ii=n=>{try{return n()}catch{}},Gq=(n="mui")=>fq(n);function av(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=zq({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...l}=dw({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...Zx(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||eO(i)},l}function Qq(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:l=$q,colorSchemeSelector:u=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...h}=n,m=Object.keys(t)[0],g=r||(t.light&&m!=="light"?"light":m),_=Gq(o),{[g]:T,light:I,dark:S,...b}=t,V={...b};let L=T;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(Ya(21,g));const M=av(V,L,h,g);I&&!V.light&&av(V,I,void 0,"light"),S&&!V.dark&&av(V,S,void 0,"dark");let z={defaultColorScheme:g,...M,cssVarPrefix:o,colorSchemeSelector:u,rootSelector:d,getCssVar:_,colorSchemes:V,font:{...Aq(M.typography),...M.font},spacing:Kq(h.spacing)};Object.keys(z.colorSchemes).forEach(C=>{const E=z.colorSchemes[C].palette,O=k=>{const x=k.split("-"),ee=x[1],F=x[2];return _(k,E[ee][F])};if(E.mode==="light"&&(se(E.common,"background","#fff"),se(E.common,"onBackground","#000")),E.mode==="dark"&&(se(E.common,"background","#000"),se(E.common,"onBackground","#fff")),Hq(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){se(E.Alert,"errorColor",ut(E.error.light,.6)),se(E.Alert,"infoColor",ut(E.info.light,.6)),se(E.Alert,"successColor",ut(E.success.light,.6)),se(E.Alert,"warningColor",ut(E.warning.light,.6)),se(E.Alert,"errorFilledBg",O("palette-error-main")),se(E.Alert,"infoFilledBg",O("palette-info-main")),se(E.Alert,"successFilledBg",O("palette-success-main")),se(E.Alert,"warningFilledBg",O("palette-warning-main")),se(E.Alert,"errorFilledColor",Ii(()=>E.getContrastText(E.error.main))),se(E.Alert,"infoFilledColor",Ii(()=>E.getContrastText(E.info.main))),se(E.Alert,"successFilledColor",Ii(()=>E.getContrastText(E.success.main))),se(E.Alert,"warningFilledColor",Ii(()=>E.getContrastText(E.warning.main))),se(E.Alert,"errorStandardBg",ct(E.error.light,.9)),se(E.Alert,"infoStandardBg",ct(E.info.light,.9)),se(E.Alert,"successStandardBg",ct(E.success.light,.9)),se(E.Alert,"warningStandardBg",ct(E.warning.light,.9)),se(E.Alert,"errorIconColor",O("palette-error-main")),se(E.Alert,"infoIconColor",O("palette-info-main")),se(E.Alert,"successIconColor",O("palette-success-main")),se(E.Alert,"warningIconColor",O("palette-warning-main")),se(E.AppBar,"defaultBg",O("palette-grey-100")),se(E.Avatar,"defaultBg",O("palette-grey-400")),se(E.Button,"inheritContainedBg",O("palette-grey-300")),se(E.Button,"inheritContainedHoverBg",O("palette-grey-A100")),se(E.Chip,"defaultBorder",O("palette-grey-400")),se(E.Chip,"defaultAvatarColor",O("palette-grey-700")),se(E.Chip,"defaultIconColor",O("palette-grey-700")),se(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),se(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),se(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),se(E.LinearProgress,"primaryBg",ct(E.primary.main,.62)),se(E.LinearProgress,"secondaryBg",ct(E.secondary.main,.62)),se(E.LinearProgress,"errorBg",ct(E.error.main,.62)),se(E.LinearProgress,"infoBg",ct(E.info.main,.62)),se(E.LinearProgress,"successBg",ct(E.success.main,.62)),se(E.LinearProgress,"warningBg",ct(E.warning.main,.62)),se(E.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.11)`),se(E.Slider,"primaryTrack",ct(E.primary.main,.62)),se(E.Slider,"secondaryTrack",ct(E.secondary.main,.62)),se(E.Slider,"errorTrack",ct(E.error.main,.62)),se(E.Slider,"infoTrack",ct(E.info.main,.62)),se(E.Slider,"successTrack",ct(E.success.main,.62)),se(E.Slider,"warningTrack",ct(E.warning.main,.62));const k=xp(E.background.default,.8);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",Ii(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",xp(E.background.paper,.15)),se(E.StepConnector,"border",O("palette-grey-400")),se(E.StepContent,"border",O("palette-grey-400")),se(E.Switch,"defaultColor",O("palette-common-white")),se(E.Switch,"defaultDisabledColor",O("palette-grey-100")),se(E.Switch,"primaryDisabledColor",ct(E.primary.main,.62)),se(E.Switch,"secondaryDisabledColor",ct(E.secondary.main,.62)),se(E.Switch,"errorDisabledColor",ct(E.error.main,.62)),se(E.Switch,"infoDisabledColor",ct(E.info.main,.62)),se(E.Switch,"successDisabledColor",ct(E.success.main,.62)),se(E.Switch,"warningDisabledColor",ct(E.warning.main,.62)),se(E.TableCell,"border",ct(kp(E.divider,1),.88)),se(E.Tooltip,"bg",kp(E.grey[700],.92))}if(E.mode==="dark"){se(E.Alert,"errorColor",ct(E.error.light,.6)),se(E.Alert,"infoColor",ct(E.info.light,.6)),se(E.Alert,"successColor",ct(E.success.light,.6)),se(E.Alert,"warningColor",ct(E.warning.light,.6)),se(E.Alert,"errorFilledBg",O("palette-error-dark")),se(E.Alert,"infoFilledBg",O("palette-info-dark")),se(E.Alert,"successFilledBg",O("palette-success-dark")),se(E.Alert,"warningFilledBg",O("palette-warning-dark")),se(E.Alert,"errorFilledColor",Ii(()=>E.getContrastText(E.error.dark))),se(E.Alert,"infoFilledColor",Ii(()=>E.getContrastText(E.info.dark))),se(E.Alert,"successFilledColor",Ii(()=>E.getContrastText(E.success.dark))),se(E.Alert,"warningFilledColor",Ii(()=>E.getContrastText(E.warning.dark))),se(E.Alert,"errorStandardBg",ut(E.error.light,.9)),se(E.Alert,"infoStandardBg",ut(E.info.light,.9)),se(E.Alert,"successStandardBg",ut(E.success.light,.9)),se(E.Alert,"warningStandardBg",ut(E.warning.light,.9)),se(E.Alert,"errorIconColor",O("palette-error-main")),se(E.Alert,"infoIconColor",O("palette-info-main")),se(E.Alert,"successIconColor",O("palette-success-main")),se(E.Alert,"warningIconColor",O("palette-warning-main")),se(E.AppBar,"defaultBg",O("palette-grey-900")),se(E.AppBar,"darkBg",O("palette-background-paper")),se(E.AppBar,"darkColor",O("palette-text-primary")),se(E.Avatar,"defaultBg",O("palette-grey-600")),se(E.Button,"inheritContainedBg",O("palette-grey-800")),se(E.Button,"inheritContainedHoverBg",O("palette-grey-700")),se(E.Chip,"defaultBorder",O("palette-grey-700")),se(E.Chip,"defaultAvatarColor",O("palette-grey-300")),se(E.Chip,"defaultIconColor",O("palette-grey-300")),se(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),se(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),se(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),se(E.LinearProgress,"primaryBg",ut(E.primary.main,.5)),se(E.LinearProgress,"secondaryBg",ut(E.secondary.main,.5)),se(E.LinearProgress,"errorBg",ut(E.error.main,.5)),se(E.LinearProgress,"infoBg",ut(E.info.main,.5)),se(E.LinearProgress,"successBg",ut(E.success.main,.5)),se(E.LinearProgress,"warningBg",ut(E.warning.main,.5)),se(E.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.13)`),se(E.Slider,"primaryTrack",ut(E.primary.main,.5)),se(E.Slider,"secondaryTrack",ut(E.secondary.main,.5)),se(E.Slider,"errorTrack",ut(E.error.main,.5)),se(E.Slider,"infoTrack",ut(E.info.main,.5)),se(E.Slider,"successTrack",ut(E.success.main,.5)),se(E.Slider,"warningTrack",ut(E.warning.main,.5));const k=xp(E.background.default,.98);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",Ii(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",xp(E.background.paper,.15)),se(E.StepConnector,"border",O("palette-grey-600")),se(E.StepContent,"border",O("palette-grey-600")),se(E.Switch,"defaultColor",O("palette-grey-300")),se(E.Switch,"defaultDisabledColor",O("palette-grey-600")),se(E.Switch,"primaryDisabledColor",ut(E.primary.main,.55)),se(E.Switch,"secondaryDisabledColor",ut(E.secondary.main,.55)),se(E.Switch,"errorDisabledColor",ut(E.error.main,.55)),se(E.Switch,"infoDisabledColor",ut(E.info.main,.55)),se(E.Switch,"successDisabledColor",ut(E.success.main,.55)),se(E.Switch,"warningDisabledColor",ut(E.warning.main,.55)),se(E.TableCell,"border",ut(kp(E.divider,1),.68)),se(E.Tooltip,"bg",kp(E.grey[700],.92))}ls(E.background,"default"),ls(E.background,"paper"),ls(E.common,"background"),ls(E.common,"onBackground"),ls(E,"divider"),Object.keys(E).forEach(k=>{const x=E[k];k!=="tonalOffset"&&x&&typeof x=="object"&&(x.main&&se(E[k],"mainChannel",Vd(Ld(x.main))),x.light&&se(E[k],"lightChannel",Vd(Ld(x.light))),x.dark&&se(E[k],"darkChannel",Vd(Ld(x.dark))),x.contrastText&&se(E[k],"contrastTextChannel",Vd(Ld(x.contrastText))),k==="text"&&(ls(E[k],"primary"),ls(E[k],"secondary")),k==="action"&&(x.active&&ls(E[k],"active"),x.selected&&ls(E[k],"selected")))})}),z=e.reduce((C,E)=>vr(C,E),z);const j={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:Wq(z)},{vars:W,generateThemeVars:D,generateStyleSheets:A}=gq(z,j);return z.vars=W,Object.entries(z.colorSchemes[z.defaultColorScheme]).forEach(([C,E])=>{z[C]=E}),z.generateThemeVars=D,z.generateStyleSheets=A,z.generateSpacing=function(){return Wx(h.spacing,dE(this))},z.getColorSchemeSelector=yq(u),z.spacing=z.generateSpacing(),z.shouldSkipGeneratingVar=l,z.unstable_sxConfig={...qg,...h==null?void 0:h.unstable_sxConfig},z.unstable_sx=function(E){return $u({sx:E,theme:this})},z.toRuntimeSource=Xx,z}function tb(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:vE({...t===!0?{}:t.palette,mode:e})})}function Yq(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...l}=n,u=o||"light",d=i==null?void 0:i[u],h={...i,...t?{[u]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return dw(n,...e);let m=t;"palette"in n||h[u]&&(h[u]!==!0?m=h[u].palette:u==="dark"&&(m={mode:"dark"}));const g=dw({...n,palette:m},...e);return g.defaultColorScheme=u,g.colorSchemes=h,g.palette.mode==="light"&&(g.colorSchemes.light={...h.light!==!0&&h.light,palette:g.palette},tb(g,"dark",h.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:g.palette},tb(g,"light",h.light)),g}return!t&&!("light"in h)&&u==="light"&&(h.light=!0),Qq({...l,colorSchemes:h,defaultColorScheme:u,...typeof r!="boolean"&&r},...e)}const Jq=Yq(),Xq="$$material";function tO(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Zq=n=>tO(n)&&n!=="classes",tf=Z9({themeId:Xq,defaultTheme:Jq,rootShouldForwardProp:Zq}),wE=hq;function nO(n){return dq(n)}function eW(n){return lE("MuiSvgIcon",n)}xx("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const tW=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Oo(e)}`,`fontSize${Oo(t)}`]};return Ax(i,eW,r)},nW=tf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Oo(t.color)}`],e[`fontSize${Oo(t.fontSize)}`]]}})(wE(({theme:n})=>{var e,t,r,i,o,l,u,d,h,m,g,_,T,I;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:S=>!S.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:l.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(u=n.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:m.call(h,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,S])=>S&&S.main).map(([S])=>{var b,V;return{props:{color:S},style:{color:(V=(b=(n.vars??n).palette)==null?void 0:b[S])==null?void 0:V.main}}}),{props:{color:"action"},style:{color:(_=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:_.active}},{props:{color:"disabled"},style:{color:(I=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:I.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),hw=K.forwardRef(function(e,t){const r=nO({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:m=!1,titleAccess:g,viewBox:_="0 0 24 24",...T}=r,I=K.isValidElement(i)&&i.type==="svg",S={...r,color:l,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:_,hasSvgAsChild:I},b={};m||(b.viewBox=_);const V=tW(S);return B.jsxs(nW,{as:u,className:Ma(V.root,o),focusable:"false",color:h,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...b,...T,...I&&i.props,ownerState:S,children:[I?i.props.children:i,g?B.jsx("title",{children:g}):null]})});hw.muiName="SvgIcon";function rO(n,e){function t(r,i){return B.jsx(hw,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=hw.muiName,K.memo(K.forwardRef(t))}const rW=rO(B.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),iW=rO(B.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function sW(n){return lE("MuiRating",n)}const Sd=xx("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function Yd(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:l,shouldForwardComponentProp:u=!1,...d}=e,{component:h,slots:m={[n]:void 0},slotProps:g={[n]:void 0},..._}=o,T=m[n]||r,I=n$(g[n],i),{props:{component:S,...b},internalRef:V}=t$({className:t,...d,externalForwardedProps:n==="root"?_:void 0,externalSlotProps:I}),L=kx(V,I==null?void 0:I.ref,e.ref),M=n==="root"?S||h:S,z=Z6(T,{...n==="root"&&!h&&!m[n]&&l,...n!=="root"&&!m[n]&&l,...b,...M&&!u&&{as:M},...M&&u&&{component:M},ref:L},i);return[T,z]}function oW(n){const e=n.toString().split(".")[1];return e?e.length:0}function lv(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(oW(e)))}const aW=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:l}=n,u={root:["root",`size${Oo(t)}`,i&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return Ax(u,sW,e)},lW=tf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Sd.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Oo(t.size)}`],t.readOnly&&e.readOnly]}})(wE(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Sd.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Sd.focusVisible} .${Sd.iconActive}`]:{outline:"1px solid #999"},[`& .${Sd.visuallyHidden}`]:j6,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),iO=tf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),uW=tf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(wE(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),cW=tf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>tO(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function dW(n){const{value:e,...t}=n;return B.jsx("span",{...t})}function nb(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:l,hover:u,icon:d,IconContainerComponent:h,isActive:m,itemValue:g,labelProps:_,name:T,onBlur:I,onChange:S,onClick:b,onFocus:V,readOnly:L,ownerState:M,ratingValue:z,ratingValueRounded:j,slots:W={},slotProps:D={}}=n,A=l?g===z:g<=z,C=g<=u,E=g<=i,O=g===j,k=`${T}-${Cx()}`,x={slots:W,slotProps:D},[ee,F]=Yd("icon",{elementType:uW,className:Ma(e.icon,A?e.iconFilled:e.iconEmpty,C&&e.iconHover,E&&e.iconFocus,m&&e.iconActive),externalForwardedProps:x,ownerState:{...M,iconEmpty:!A,iconFilled:A,iconHover:C,iconFocus:E,iconActive:m},additionalProps:{value:g},internalForwardedProps:{as:h}}),[fe,oe]=Yd("label",{elementType:iO,externalForwardedProps:x,ownerState:{...M,emptyValueFocused:void 0},additionalProps:{style:_==null?void 0:_.style,htmlFor:k}}),X=B.jsx(ee,{...F,children:r&&!A?r:d});return L?B.jsx("span",{..._,children:X}):B.jsxs(K.Fragment,{children:[B.jsxs(fe,{...oe,children:[X,B.jsx("span",{className:e.visuallyHidden,children:o(g)})]}),B.jsx("input",{className:e.visuallyHidden,onFocus:V,onBlur:I,onChange:S,onClick:b,disabled:t,value:g,id:k,type:"radio",name:T,checked:O})]})}const hW=B.jsx(rW,{fontSize:"inherit"}),fW=B.jsx(iW,{fontSize:"inherit"});function pW(n){return`${n||"0"} Star${n!==1?"s":""}`}const mW=K.forwardRef(function(e,t){const r=nO({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:l=null,disabled:u=!1,emptyIcon:d=fW,emptyLabelText:h="Empty",getLabelText:m=pW,highlightSelectedOnly:g=!1,icon:_=hW,IconContainerComponent:T=dW,max:I=5,name:S,onChange:b,onChangeActive:V,onMouseLeave:L,onMouseMove:M,precision:z=1,readOnly:j=!1,size:W="medium",value:D,slots:A={},slotProps:C={},...E}=r,O=Cx(S),[k,x]=G6({controlled:D,default:l,name:"Rating"}),ee=lv(k,z),F=z6(),[{hover:fe,focus:oe},X]=K.useState({hover:-1,focus:-1});let pe=ee;fe!==-1&&(pe=fe),oe!==-1&&(pe=oe);const[me,q]=K.useState(!1),ie=K.useRef(),Te=kx(ie,t),ke=Fe=>{M&&M(Fe);const ot=ie.current,{right:_t,left:$r,width:Rr}=ot.getBoundingClientRect();let dt;F?dt=(_t-Fe.clientX)/Rr:dt=(Fe.clientX-$r)/Rr;let tt=lv(I*dt+z/2,z);tt=Rx(tt,z,I),X(yn=>yn.hover===tt&&yn.focus===tt?yn:{hover:tt,focus:tt}),q(!1),V&&fe!==tt&&V(Fe,tt)},Ve=Fe=>{L&&L(Fe);const ot=-1;X({hover:ot,focus:ot}),V&&fe!==ot&&V(Fe,ot)},Ue=Fe=>{let ot=Fe.target.value===""?null:parseFloat(Fe.target.value);fe!==-1&&(ot=fe),x(ot),b&&b(Fe,ot)},Ke=Fe=>{Fe.clientX===0&&Fe.clientY===0||(X({hover:-1,focus:-1}),x(null),b&&parseFloat(Fe.target.value)===ee&&b(Fe,null))},qe=Fe=>{CA(Fe.target)&&q(!0);const ot=parseFloat(Fe.target.value);X(_t=>({hover:_t.hover,focus:ot}))},st=Fe=>{if(fe!==-1)return;CA(Fe.target)||q(!1);const ot=-1;X(_t=>({hover:_t.hover,focus:ot}))},[Kt,Ir]=K.useState(!1),Tr={...r,component:i,defaultValue:l,disabled:u,emptyIcon:d,emptyLabelText:h,emptyValueFocused:Kt,focusVisible:me,getLabelText:m,icon:_,IconContainerComponent:T,max:I,precision:z,readOnly:j,size:W},gn=aW(Tr),zr={slots:A,slotProps:C},[xs,$o]=Yd("root",{ref:Te,className:Ma(gn.root,o),elementType:lW,externalForwardedProps:{...zr,...E,component:i},getSlotProps:Fe=>({...Fe,onMouseMove:ot=>{var _t;ke(ot),(_t=Fe.onMouseMove)==null||_t.call(Fe,ot)},onMouseLeave:ot=>{var _t;Ve(ot),(_t=Fe.onMouseLeave)==null||_t.call(Fe,ot)}}),ownerState:Tr,additionalProps:{role:j?"img":null,"aria-label":j?m(pe):null}}),[qo,rl]=Yd("label",{className:Ma(gn.label,gn.labelEmptyValue),elementType:iO,externalForwardedProps:zr,ownerState:Tr}),[Os,Sr]=Yd("decimal",{className:gn.decimal,elementType:cW,externalForwardedProps:zr,ownerState:Tr});return B.jsxs(xs,{...$o,children:[Array.from(new Array(I)).map((Fe,ot)=>{const _t=ot+1,$r={classes:gn,disabled:u,emptyIcon:d,focus:oe,getLabelText:m,highlightSelectedOnly:g,hover:fe,icon:_,IconContainerComponent:T,name:O,onBlur:st,onChange:Ue,onClick:Ke,onFocus:qe,ratingValue:pe,ratingValueRounded:ee,readOnly:j,ownerState:Tr,slots:A,slotProps:C},Rr=_t===Math.ceil(pe)&&(fe!==-1||oe!==-1);if(z<1){const dt=Array.from(new Array(1/z));return K.createElement(Os,{...Sr,key:_t,className:Ma(Sr.className,Rr&&gn.iconActive),iconActive:Rr},dt.map((tt,yn)=>{const Ki=lv(_t-1+(yn+1)*z,z);return B.jsx(nb,{...$r,isActive:!1,itemValue:Ki,labelProps:{style:dt.length-1===yn?{}:{width:Ki===pe?`${(yn+1)*z*100}%`:"0%",overflow:"hidden",position:"absolute"}}},Ki)}))}return B.jsx(nb,{...$r,isActive:Rr,itemValue:_t},_t)}),!j&&!u&&B.jsxs(qo,{...rl,children:[B.jsx("input",{className:gn.visuallyHidden,value:"",id:`${O}-empty`,type:"radio",name:O,checked:ee==null,onFocus:()=>Ir(!0),onBlur:()=>Ir(!1),onChange:Ue}),B.jsx("span",{className:gn.visuallyHidden,children:h})]})]})});var rm={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var gW=rm.exports,rb;function yW(){return rb||(rb=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(gW,function(){var e,t,r="2.0.6",i={},o={},l={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:l.currentLocale,zeroFormat:l.zeroFormat,nullFormat:l.nullFormat,defaultFormat:l.defaultFormat,scalePercentBy100:l.scalePercentBy100};function d(h,m){this._input=h,this._value=m}return e=function(h){var m,g,_,T;if(e.isNumeral(h))m=h.value();else if(h===0||typeof h>"u")m=0;else if(h===null||t.isNaN(h))m=null;else if(typeof h=="string")if(u.zeroFormat&&h===u.zeroFormat)m=0;else if(u.nullFormat&&h===u.nullFormat||!h.replace(/[^0-9]+/g,"").length)m=null;else{for(g in i)if(T=typeof i[g].regexps.unformat=="function"?i[g].regexps.unformat():i[g].regexps.unformat,T&&h.match(T)){_=i[g].unformat;break}_=_||e._.stringToNumber,m=_(h)}else m=Number(h)||null;return new d(h,m)},e.version=r,e.isNumeral=function(h){return h instanceof d},e._=t={numberToFormat:function(h,m,g){var _=o[e.options.currentLocale],T=!1,I=!1,S=0,b="",V=1e12,L=1e9,M=1e6,z=1e3,j="",W=!1,D,A,C,E,O,k,x;if(h=h||0,A=Math.abs(h),e._.includes(m,"(")?(T=!0,m=m.replace(/[\(|\)]/g,"")):(e._.includes(m,"+")||e._.includes(m,"-"))&&(O=e._.includes(m,"+")?m.indexOf("+"):h<0?m.indexOf("-"):-1,m=m.replace(/[\+|\-]/g,"")),e._.includes(m,"a")&&(D=m.match(/a(k|m|b|t)?/),D=D?D[1]:!1,e._.includes(m," a")&&(b=" "),m=m.replace(new RegExp(b+"a[kmbt]?"),""),A>=V&&!D||D==="t"?(b+=_.abbreviations.trillion,h=h/V):A<V&&A>=L&&!D||D==="b"?(b+=_.abbreviations.billion,h=h/L):A<L&&A>=M&&!D||D==="m"?(b+=_.abbreviations.million,h=h/M):(A<M&&A>=z&&!D||D==="k")&&(b+=_.abbreviations.thousand,h=h/z)),e._.includes(m,"[.]")&&(I=!0,m=m.replace("[.]",".")),C=h.toString().split(".")[0],E=m.split(".")[1],k=m.indexOf(","),S=(m.split(".")[0].split(",")[0].match(/0/g)||[]).length,E?(e._.includes(E,"[")?(E=E.replace("]",""),E=E.split("["),j=e._.toFixed(h,E[0].length+E[1].length,g,E[1].length)):j=e._.toFixed(h,E.length,g),C=j.split(".")[0],e._.includes(j,".")?j=_.delimiters.decimal+j.split(".")[1]:j="",I&&Number(j.slice(1))===0&&(j="")):C=e._.toFixed(h,0,g),b&&!D&&Number(C)>=1e3&&b!==_.abbreviations.trillion)switch(C=String(Number(C)/1e3),b){case _.abbreviations.thousand:b=_.abbreviations.million;break;case _.abbreviations.million:b=_.abbreviations.billion;break;case _.abbreviations.billion:b=_.abbreviations.trillion;break}if(e._.includes(C,"-")&&(C=C.slice(1),W=!0),C.length<S)for(var ee=S-C.length;ee>0;ee--)C="0"+C;return k>-1&&(C=C.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+_.delimiters.thousands)),m.indexOf(".")===0&&(C=""),x=C+j+(b||""),T?x=(T&&W?"(":"")+x+(T&&W?")":""):O>=0?x=O===0?(W?"-":"+")+x:x+(W?"-":"+"):W&&(x="-"+x),x},stringToNumber:function(h){var m=o[u.currentLocale],g=h,_={thousand:3,million:6,billion:9,trillion:12},T,I,S;if(u.zeroFormat&&h===u.zeroFormat)I=0;else if(u.nullFormat&&h===u.nullFormat||!h.replace(/[^0-9]+/g,"").length)I=null;else{I=1,m.delimiters.decimal!=="."&&(h=h.replace(/\./g,"").replace(m.delimiters.decimal,"."));for(T in _)if(S=new RegExp("[^a-zA-Z]"+m.abbreviations[T]+"(?:\\)|(\\"+m.currency.symbol+")?(?:\\))?)?$"),g.match(S)){I*=Math.pow(10,_[T]);break}I*=(h.split("-").length+Math.min(h.split("(").length-1,h.split(")").length-1))%2?1:-1,h=h.replace(/[^0-9\.]+/g,""),I*=Number(h)}return I},isNaN:function(h){return typeof h=="number"&&isNaN(h)},includes:function(h,m){return h.indexOf(m)!==-1},insert:function(h,m,g){return h.slice(0,g)+m+h.slice(g)},reduce:function(h,m){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof m!="function")throw new TypeError(m+" is not a function");var g=Object(h),_=g.length>>>0,T=0,I;if(arguments.length===3)I=arguments[2];else{for(;T<_&&!(T in g);)T++;if(T>=_)throw new TypeError("Reduce of empty array with no initial value");I=g[T++]}for(;T<_;T++)T in g&&(I=m(I,g[T],T,g));return I},multiplier:function(h){var m=h.toString().split(".");return m.length<2?1:Math.pow(10,m[1].length)},correctionFactor:function(){var h=Array.prototype.slice.call(arguments);return h.reduce(function(m,g){var _=t.multiplier(g);return m>_?m:_},1)},toFixed:function(h,m,g,_){var T=h.toString().split("."),I=m-(_||0),S,b,V,L;return T.length===2?S=Math.min(Math.max(T[1].length,I),m):S=I,V=Math.pow(10,S),L=(g(h+"e+"+S)/V).toFixed(S),_>m-S&&(b=new RegExp("\\.?0{1,"+(_-(m-S))+"}$"),L=L.replace(b,"")),L}},e.options=u,e.formats=i,e.locales=o,e.locale=function(h){return h&&(u.currentLocale=h.toLowerCase()),u.currentLocale},e.localeData=function(h){if(!h)return o[u.currentLocale];if(h=h.toLowerCase(),!o[h])throw new Error("Unknown locale : "+h);return o[h]},e.reset=function(){for(var h in l)u[h]=l[h]},e.zeroFormat=function(h){u.zeroFormat=typeof h=="string"?h:null},e.nullFormat=function(h){u.nullFormat=typeof h=="string"?h:null},e.defaultFormat=function(h){u.defaultFormat=typeof h=="string"?h:"0.0"},e.register=function(h,m,g){if(m=m.toLowerCase(),this[h+"s"][m])throw new TypeError(m+" "+h+" already registered.");return this[h+"s"][m]=g,g},e.validate=function(h,m){var g,_,T,I,S,b,V,L;if(typeof h!="string"&&(h+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",h)),h=h.trim(),h.match(/^\d+$/))return!0;if(h==="")return!1;try{V=e.localeData(m)}catch{V=e.localeData(e.locale())}return T=V.currency.symbol,S=V.abbreviations,g=V.delimiters.decimal,V.delimiters.thousands==="."?_="\\.":_=V.delimiters.thousands,L=h.match(/^[^\d]+/),L!==null&&(h=h.substr(1),L[0]!==T)||(L=h.match(/[^\d]+$/),L!==null&&(h=h.slice(0,-1),L[0]!==S.thousand&&L[0]!==S.million&&L[0]!==S.billion&&L[0]!==S.trillion))?!1:(b=new RegExp(_+"{2}"),h.match(/[^\d.,]/g)?!1:(I=h.split(g),I.length>2?!1:I.length<2?!!I[0].match(/^\d+.*\d$/)&&!I[0].match(b):I[0].length===1?!!I[0].match(/^\d+$/)&&!I[0].match(b)&&!!I[1].match(/^\d+$/):!!I[0].match(/^\d+.*\d$/)&&!I[0].match(b)&&!!I[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(h,m){var g=this._value,_=h||u.defaultFormat,T,I,S;if(m=m||Math.round,g===0&&u.zeroFormat!==null)I=u.zeroFormat;else if(g===null&&u.nullFormat!==null)I=u.nullFormat;else{for(T in i)if(_.match(i[T].regexps.format)){S=i[T].format;break}S=S||e._.numberToFormat,I=S(g,_,m)}return I},value:function(){return this._value},input:function(){return this._input},set:function(h){return this._value=Number(h),this},add:function(h){var m=t.correctionFactor.call(null,this._value,h);function g(_,T,I,S){return _+Math.round(m*T)}return this._value=t.reduce([this._value,h],g,0)/m,this},subtract:function(h){var m=t.correctionFactor.call(null,this._value,h);function g(_,T,I,S){return _-Math.round(m*T)}return this._value=t.reduce([h],g,Math.round(this._value*m))/m,this},multiply:function(h){function m(g,_,T,I){var S=t.correctionFactor(g,_);return Math.round(g*S)*Math.round(_*S)/Math.round(S*S)}return this._value=t.reduce([this._value,h],m,1),this},divide:function(h){function m(g,_,T,I){var S=t.correctionFactor(g,_);return Math.round(g*S)/Math.round(_*S)}return this._value=t.reduce([this._value,h],m),this},difference:function(h){return Math.abs(e(this._value).subtract(h).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(h){var m=h%10;return~~(h%100/10)===1?"th":m===1?"st":m===2?"nd":m===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(h,m,g){var _=e._.includes(m," BPS")?" ":"",T;return h=h*1e4,m=m.replace(/\s?BPS/,""),T=e._.numberToFormat(h,m,g),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,_+"BPS"),T=T.join("")):T=T+_+"BPS",T},unformat:function(h){return+(e._.stringToNumber(h)*1e-4).toFixed(15)}})}(),function(){var h={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},m={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},g=h.suffixes.concat(m.suffixes.filter(function(T){return h.suffixes.indexOf(T)<0})),_=g.join("|");_="("+_.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(_)},format:function(T,I,S){var b,V=e._.includes(I,"ib")?m:h,L=e._.includes(I," b")||e._.includes(I," ib")?" ":"",M,z,j;for(I=I.replace(/\s?i?b/,""),M=0;M<=V.suffixes.length;M++)if(z=Math.pow(V.base,M),j=Math.pow(V.base,M+1),T===null||T===0||T>=z&&T<j){L+=V.suffixes[M],z>0&&(T=T/z);break}return b=e._.numberToFormat(T,I,S),b+L},unformat:function(T){var I=e._.stringToNumber(T),S,b;if(I){for(S=h.suffixes.length-1;S>=0;S--){if(e._.includes(T,h.suffixes[S])){b=Math.pow(h.base,S);break}if(e._.includes(T,m.suffixes[S])){b=Math.pow(m.base,S);break}}I*=b||1}return I}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(h,m,g){var _=e.locales[e.options.currentLocale],T={before:m.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:m.match(/([\+|\-|\)|\s|\$]*)$/)[0]},I,S,b;for(m=m.replace(/\s?\$\s?/,""),I=e._.numberToFormat(h,m,g),h>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):h<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),b=0;b<T.before.length;b++)switch(S=T.before[b],S){case"$":I=e._.insert(I,_.currency.symbol,b);break;case" ":I=e._.insert(I," ",b+_.currency.symbol.length-1);break}for(b=T.after.length-1;b>=0;b--)switch(S=T.after[b],S){case"$":I=b===T.after.length-1?I+_.currency.symbol:e._.insert(I,_.currency.symbol,-(T.after.length-(1+b)));break;case" ":I=b===T.after.length-1?I+" ":e._.insert(I," ",-(T.after.length-(1+b)+_.currency.symbol.length-1));break}return I}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(h,m,g){var _,T=typeof h=="number"&&!e._.isNaN(h)?h.toExponential():"0e+0",I=T.split("e");return m=m.replace(/e[\+|\-]{1}0/,""),_=e._.numberToFormat(Number(I[0]),m,g),_+"e"+I[1]},unformat:function(h){var m=e._.includes(h,"e+")?h.split("e+"):h.split("e-"),g=Number(m[0]),_=Number(m[1]);_=e._.includes(h,"e-")?_*=-1:_;function T(I,S,b,V){var L=e._.correctionFactor(I,S),M=I*L*(S*L)/(L*L);return M}return e._.reduce([g,Math.pow(10,_)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(h,m,g){var _=e.locales[e.options.currentLocale],T,I=e._.includes(m," o")?" ":"";return m=m.replace(/\s?o/,""),I+=_.ordinal(h),T=e._.numberToFormat(h,m,g),T+I}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(h,m,g){var _=e._.includes(m," %")?" ":"",T;return e.options.scalePercentBy100&&(h=h*100),m=m.replace(/\s?\%/,""),T=e._.numberToFormat(h,m,g),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,_+"%"),T=T.join("")):T=T+_+"%",T},unformat:function(h){var m=e._.stringToNumber(h);return e.options.scalePercentBy100?m*.01:m}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(h,m,g){var _=Math.floor(h/60/60),T=Math.floor((h-_*60*60)/60),I=Math.round(h-_*60*60-T*60);return _+":"+(T<10?"0"+T:T)+":"+(I<10?"0"+I:I)},unformat:function(h){var m=h.split(":"),g=0;return m.length===3?(g=g+Number(m[0])*60*60,g=g+Number(m[1])*60,g=g+Number(m[2])):m.length===2&&(g=g+Number(m[0])*60,g=g+Number(m[1])),Number(g)}})}(),e})}(rm)),rm.exports}var _W=yW();const vW=gw(_W),EE=({amount:n})=>{const e=vW(n).format("$0,0.00");return B.jsx("div",{children:e})},Fr={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function cc({data:n,flex:e,renderDesc:t,renderADD:r}){const{image:i,title:o,id:l,rating:u,price:d,description:h}=n,[m,g]=K.useContext(Ss),_=()=>{g({type:Fr.ADD_TO_BASKET,item:{image:i,title:o,id:l,rating:u,price:d,description:h}})};return B.jsxs("div",{className:`${Dd.card_container} ${e?Dd.product_flexed:""}`,children:[B.jsx(Oi,{to:`/products/${l}`,children:B.jsx("img",{src:i,alt:""})}),B.jsxs("div",{children:[B.jsx("h3",{children:o}),t&&B.jsx("div",{style:{maxWidth:"700px"},children:h}),B.jsxs("div",{className:Dd.rating,children:[B.jsx(mW,{value:u.rate,precision:.1}),B.jsx("small",{children:u.count})]}),B.jsx("div",{children:B.jsx(EE,{amount:d})}),r&&B.jsx("button",{className:Dd.button,onClick:_,children:"Add to cart"})]})]})}function wW(){const[n,e]=K.useState();return K.useEffect(()=>{bt.get("https://fakestoreapi.com/products").then(t=>{e(t.data)}).catch(t=>{console.log(t)})},[]),B.jsx("div",{className:Dd.product_contianer,children:n==null?void 0:n.map((t,r)=>B.jsx(cc,{data:t,renderADD:!0},r))})}function dc({children:n}){return B.jsxs("div",{children:[B.jsx(O3,{}),n]})}function EW(){return B.jsxs(dc,{children:[B.jsx(ez,{}),B.jsx(iz,{}),B.jsx(wW,{})]})}const IW="_login_1vj5v_2",TW="_loginContainer_1vj5v_11",SW="_login_signInBtn_1vj5v_47",RW="_login_registerBtn_1vj5v_47",AW="_loginCondition_1vj5v_64",Rd={login:IW,loginContainer:TW,login_signInBtn:SW,login_registerBtn:RW,loginCondition:AW};var bW={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function sO(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return bW[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function cu(n){var e=sO(n);return"".concat(e.value).concat(e.unit)}var oO=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,l=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(l,0),r},jm=function(){return jm=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},jm.apply(this,arguments)},PW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},CW=oO("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function fw(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,l=o===void 0?1:o,u=n.cssOverride,d=u===void 0?{}:u,h=n.size,m=h===void 0?35:h,g=PW(n,["loading","color","speedMultiplier","cssOverride","size"]),_=jm({background:"transparent !important",width:cu(m),height:cu(m),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(CW," ").concat(.75/l,"s 0s infinite linear"),animationFillMode:"both"},d);return t?K.createElement("span",jm({style:_},g)):null}var Yt=function(){return Yt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Yt.apply(this,arguments)},kW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},xW=oO("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function OW(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,l=o===void 0?1:o,u=n.cssOverride,d=u===void 0?{}:u,h=n.height,m=h===void 0?15:h,g=n.width,_=g===void 0?5:g,T=n.radius,I=T===void 0?2:T,S=n.margin,b=S===void 0?2:S,V=kW(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),L=sO(b).value,M=L+18,z=M/2+M/5.5,j=Yt({display:"inherit",position:"relative",fontSize:"0",top:M,left:M,width:"".concat(M*3,"px"),height:"".concat(M*3,"px")},d),W=function(F){return{position:"absolute",width:cu(_),height:cu(m),margin:cu(b),backgroundColor:i,borderRadius:cu(I),transition:"2s",animationFillMode:"both",animation:"".concat(xW," ").concat(1.2/l,"s ").concat(F*.12,"s infinite ease-in-out")}},D=Yt(Yt({},W(1)),{top:"".concat(M,"px"),left:"0"}),A=Yt(Yt({},W(2)),{top:"".concat(z,"px"),left:"".concat(z,"px"),transform:"rotate(-45deg)"}),C=Yt(Yt({},W(3)),{top:"0",left:"".concat(M,"px"),transform:"rotate(90deg)"}),E=Yt(Yt({},W(4)),{top:"".concat(-1*z,"px"),left:"".concat(z,"px"),transform:"rotate(45deg)"}),O=Yt(Yt({},W(5)),{top:"".concat(-1*M,"px"),left:"0"}),k=Yt(Yt({},W(6)),{top:"".concat(-1*z,"px"),left:"".concat(-1*z,"px"),transform:"rotate(-45deg)"}),x=Yt(Yt({},W(7)),{top:"0",left:"".concat(-1*M,"px"),transform:"rotate(90deg)"}),ee=Yt(Yt({},W(8)),{top:"".concat(z,"px"),left:"".concat(-1*z,"px"),transform:"rotate(45deg)"});return t?K.createElement("span",Yt({style:j},V),K.createElement("span",{style:D}),K.createElement("span",{style:A}),K.createElement("span",{style:C}),K.createElement("span",{style:E}),K.createElement("span",{style:O}),K.createElement("span",{style:k}),K.createElement("span",{style:x}),K.createElement("span",{style:ee})):null}function NW(){const[n,e]=K.useState(""),[t,r]=K.useState(""),[i,o]=K.useState(""),[l,u]=K.useState({signIn:!1,signUp:!1}),[{user:d},h]=K.useContext(Ss),m=zm(),g=Vo();console.log(g),console.log("User state from context:",d),console.log("Email:",n,"Password:",t);const _=T=>{T.preventDefault();const I=T.target.name;u(S=>({...S,[I]:!0})),I==="signIn"?NP(Vm,n,t).then(S=>{var b;h({type:Fr.SET_USER,user:S.user}),u(V=>({...V,signIn:!1})),o(""),m(((b=g==null?void 0:g.state)==null?void 0:b.redirect)||"/")}).catch(S=>{o(S.message),u(b=>({...b,signIn:!1}))}):OP(Vm,n,t).then(S=>{var b;h({type:Fr.SET_USER,user:S.user}),o(""),u(V=>({...V,signUp:!1})),m(((b=g==null?void 0:g.state)==null?void 0:b.redirect)||"/")}).catch(S=>{o(S.message),u(b=>({...b,signUp:!1}))})};return B.jsxs("section",{className:Rd.login,children:[B.jsx(Oi,{to:"/",children:B.jsx("img",{src:"/amazon_logo_black.png",alt:"Amazon Logo"})}),B.jsxs("div",{className:Rd.loginContainer,children:[B.jsx("h1",{children:"Sign In"}),B.jsxs("form",{children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"email",children:"Email"}),B.jsx("input",{type:"email",id:"email",value:n,onChange:T=>e(T.target.value)})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"password",children:"Password"}),B.jsx("input",{type:"password",id:"password",value:t,onChange:T=>r(T.target.value)})]}),B.jsx("button",{type:"submit",name:"signIn",onClick:_,className:Rd.login_signInBtn,children:l.signIn?B.jsx(fw,{color:"white",size:25}):"Sign In"})]}),B.jsx("p",{className:Rd.loginCondition,children:"By signing in, you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, Cookies Notice, and Interest-Based Ads Notice."}),B.jsx("button",{type:"submit",onClick:_,name:"signUp",className:Rd.login_registerBtn,children:l.signUp?B.jsx(fw,{color:"white",size:25}):"Create Your Amazon Account"}),i&&B.jsx("small",{children:i})]})]})}const DW="_container_wdr9l_1",VW="_orders__container_wdr9l_5",ib={container:DW,orders__container:VW};function LW(){const[{user:n},e]=K.useContext(Ss),[t,r]=K.useState([]);return K.useEffect(()=>{n?H1.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{console.log(i),r(i.docs.map(o=>({id:o.id,data:o.data()})))}):r([])},[]),B.jsx(dc,{children:B.jsx("section",{className:ib.container,children:B.jsxs("div",{className:ib.orders__container,children:[B.jsx("h2",{children:"Your Orders"}),(t==null?void 0:t.length)==0&&B.jsx("div",{style:{padding:"20px"},children:"You don't have any orders yet"}),B.jsx("div",{children:t==null?void 0:t.map((i,o)=>{var l,u;return B.jsxs("div",{children:[B.jsx("hr",{}),B.jsxs("p",{children:["Order ID: ",i==null?void 0:i.id]}),(u=(l=i==null?void 0:i.data)==null?void 0:l.basket)==null?void 0:u.map(d=>B.jsx(cc,{flex:!0,data:d},d.id))]},o)})})]})})})}const MW="_cart_container_1gyyp_2",FW="_item_container_1gyyp_15",UW="_checkout_container_1gyyp_29",jW="_cart_product_1gyyp_63",BW="_cart_addsub_1gyyp_69",zW="_btn_1gyyp_77",va={cart_container:MW,item_container:FW,checkout_container:UW,cart_product:jW,cart_addsub:BW,btn:zW};function $W(n){return Rh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function qW(n){return Rh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function WW(){const[{basket:n},e]=K.useContext(Ss);console.log(n);const t=n.reduce((o,l)=>o+l.price*l.amount,0),r=o=>{e({type:Fr.ADD_TO_BASKET,item:o})},i=o=>{e({type:Fr.REMOVE_FROM_BASKET,id:o})};return B.jsx(dc,{children:B.jsxs("section",{className:va.cart_container,children:[B.jsxs("div",{className:va.item_container,children:[B.jsx("h2",{children:"Hello"}),B.jsx("h3",{children:"Your Shopping Cart"}),B.jsx("hr",{}),(n==null?void 0:n.lenght)===0?B.jsx("p",{children:"Oh! Your basket is empty, pls add item!"}):n==null?void 0:n.map((o,l)=>B.jsxs("section",{className:va.cart_product,children:[B.jsx(cc,{data:o,flex:!0,renderDesc:!0,renderADD:!1}),B.jsxs("div",{className:va.cart_addsub,children:[B.jsx("button",{className:va.btn,onClick:()=>r(o),children:B.jsx(qW,{size:35})}),B.jsx("span",{children:o.amount}),B.jsx("button",{className:va.btn,onClick:()=>i(o.id),children:B.jsx($W,{size:35})})]})]},l))]}),(n==null?void 0:n.length)!==0&&B.jsxs("div",{className:va.checkout_container,children:[B.jsxs("div",{children:[B.jsxs("p",{children:["SubTotal(",n==null?void 0:n.length," items)"]}),B.jsx(EE,{amount:t})]}),B.jsxs("span",{children:[B.jsx("input",{type:"checkbox"}),B.jsx("small",{children:"This order contain a gift"})]}),B.jsx(Oi,{to:"/payments",children:"Proceed to Checkout"})]})]})})}const aO="https://fakestoreapi.com",HW="_products_container_1bor2_1",KW={products_container:HW};function lO(){return B.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:B.jsx(OW,{color:"#3db7"})})}function GW(){const{categoryName:n}=Sb(),[e,t]=K.useState([]),[r,i]=K.useState(!0);return K.useEffect(()=>{i(!0),bt.get(`${aO}/products/category/${n}`).then(o=>{t(o.data),i(!1)}).catch(o=>{console.log(o)})},[]),B.jsx(dc,{children:B.jsxs("div",{children:[B.jsx("h1",{style:{padding:"10px"},children:"Results"}),B.jsxs("p",{style:{padding:"10px"},children:["Category/",n]}),B.jsx("hr",{}),r?B.jsx(lO,{}):B.jsx("div",{className:KW.products_container,children:e==null?void 0:e.map(o=>B.jsx(cc,{data:o,renderADD:!0},o.id))})]})})}const QW="_payment__header_18y5l_3",YW="_payment_18y5l_3",JW="_flex_18y5l_21",ru={payment__header:QW,payment:YW,flex:JW};function sb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ob(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sb(Object(t),!0).forEach(function(r){uO(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function im(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?im=function(e){return typeof e}:im=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(n)}function uO(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cO(n,e){return XW(n)||ZW(n,e)||eH(n,e)||tH()}function XW(n){if(Array.isArray(n))return n}function ZW(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,l,u;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){o=!0,u=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw u}}return r}}function eH(n,e){if(n){if(typeof n=="string")return ab(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ab(n,e)}}function ab(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function tH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fr=function(e,t,r){var i=!!r,o=He.useRef(r);He.useEffect(function(){o.current=r},[r]),He.useEffect(function(){if(!i||!e)return function(){};var l=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,l),function(){e.off(t,l)}},[i,t,e,o])},pw=function(e){var t=He.useRef(e);return He.useEffect(function(){t.current=e},[e]),t.current},Wu=function(e){return e!==null&&im(e)==="object"},nH=function(e){return Wu(e)&&typeof e.then=="function"},rH=function(e){return Wu(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},lb="[object Object]",iH=function n(e,t){if(!Wu(e)||!Wu(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===lb,l=Object.prototype.toString.call(t)===lb;if(o!==l)return!1;if(!o&&!r)return e===t;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var h={},m=0;m<u.length;m+=1)h[u[m]]=!0;for(var g=0;g<d.length;g+=1)h[d[g]]=!0;var _=Object.keys(h);if(_.length!==u.length)return!1;var T=e,I=t,S=function(V){return n(T[V],I[V])};return _.every(S)},dO=function(e,t,r){return Wu(e)?Object.keys(e).reduce(function(i,o){var l=!Wu(t)||!iH(e[o],t[o]);return r.includes(o)?(l&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):l?ob(ob({},i||{}),{},uO({},o,e[o])):i},null):null},hO="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ub=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hO;if(e===null||rH(e))return e;throw new Error(t)},sH=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hO;if(nH(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return ub(i,t)})};var r=ub(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},oH=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.4.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.4.0",url:"https://stripe.com/docs/stripe-js/react"}))},Qg=He.createContext(null);Qg.displayName="ElementsContext";var fO=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},pO=function(e){var t=e.stripe,r=e.options,i=e.children,o=He.useMemo(function(){return sH(t)},[t]),l=He.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),u=cO(l,2),d=u[0],h=u[1];He.useEffect(function(){var _=!0,T=function(S){h(function(b){return b.stripe?b:{stripe:S,elements:S.elements(r)}})};return o.tag==="async"&&!d.stripe?o.stripePromise.then(function(I){I&&_&&T(I)}):o.tag==="sync"&&!d.stripe&&T(o.stripe),function(){_=!1}},[o,d,r]);var m=pw(t);He.useEffect(function(){m!==null&&m!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,t]);var g=pw(r);return He.useEffect(function(){if(d.elements){var _=dO(r,g,["clientSecret","fonts"]);_&&d.elements.update(_)}},[r,g,d.elements]),He.useEffect(function(){oH(d.stripe)},[d.stripe]),He.createElement(Qg.Provider,{value:d},i)};pO.propTypes={stripe:kt.any,options:kt.object};var aH=function(e){var t=He.useContext(Qg);return fO(t,e)},lH=function(){var e=aH("calls useElements()"),t=e.elements;return t};kt.func.isRequired;var mO=He.createContext(null);mO.displayName="CheckoutSdkContext";var uH=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},cH=He.createContext(null);cH.displayName="CheckoutContext";kt.any,kt.shape({clientSecret:kt.string.isRequired,elementsOptions:kt.object}).isRequired;var mw=function(e){var t=He.useContext(mO),r=He.useContext(Qg);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?uH(t,e):fO(r,e)},dH=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},en=function(e,t){var r="".concat(dH(e),"Element"),i=function(d){var h=d.id,m=d.className,g=d.options,_=g===void 0?{}:g,T=d.onBlur,I=d.onFocus,S=d.onReady,b=d.onChange,V=d.onEscape,L=d.onClick,M=d.onLoadError,z=d.onLoaderStart,j=d.onNetworksChange,W=d.onConfirm,D=d.onCancel,A=d.onShippingAddressChange,C=d.onShippingRateChange,E=mw("mounts <".concat(r,">")),O="elements"in E?E.elements:null,k="checkoutSdk"in E?E.checkoutSdk:null,x=He.useState(null),ee=cO(x,2),F=ee[0],fe=ee[1],oe=He.useRef(null),X=He.useRef(null);fr(F,"blur",T),fr(F,"focus",I),fr(F,"escape",V),fr(F,"click",L),fr(F,"loaderror",M),fr(F,"loaderstart",z),fr(F,"networkschange",j),fr(F,"confirm",W),fr(F,"cancel",D),fr(F,"shippingaddresschange",A),fr(F,"shippingratechange",C),fr(F,"change",b);var pe;S&&(e==="expressCheckout"?pe=S:pe=function(){S(F)}),fr(F,"ready",pe),He.useLayoutEffect(function(){if(oe.current===null&&X.current!==null&&(O||k)){var q=null;k?q=k.createElement(e,_):O&&(q=O.create(e,_)),oe.current=q,fe(q),q&&q.mount(X.current)}},[O,k,_]);var me=pw(_);return He.useEffect(function(){if(oe.current){var q=dO(_,me,["paymentRequest"]);q&&"update"in oe.current&&oe.current.update(q)}},[_,me]),He.useLayoutEffect(function(){return function(){if(oe.current&&typeof oe.current.destroy=="function")try{oe.current.destroy(),oe.current=null}catch{}}},[]),He.createElement("div",{id:h,className:m,ref:X})},o=function(d){mw("mounts <".concat(r,">"));var h=d.id,m=d.className;return He.createElement("div",{id:h,className:m})},l=t?o:i;return l.propTypes={id:kt.string,className:kt.string,onChange:kt.func,onBlur:kt.func,onFocus:kt.func,onReady:kt.func,onEscape:kt.func,onClick:kt.func,onLoadError:kt.func,onLoaderStart:kt.func,onNetworksChange:kt.func,onConfirm:kt.func,onCancel:kt.func,onShippingAddressChange:kt.func,onShippingRateChange:kt.func,options:kt.object},l.displayName=r,l.__elementType=e,l},tn=typeof window>"u",hH=He.createContext(null);hH.displayName="EmbeddedCheckoutProviderContext";var fH=function(){var e=mw("calls useStripe()"),t=e.stripe;return t};en("auBankAccount",tn);var cb=en("card",tn);en("cardNumber",tn);en("cardExpiry",tn);en("cardCvc",tn);en("fpxBank",tn);en("iban",tn);en("idealBank",tn);en("p24Bank",tn);en("epsBank",tn);en("payment",tn);en("expressCheckout",tn);en("currencySelector",tn);en("paymentRequestButton",tn);en("linkAuthentication",tn);en("address",tn);en("shippingAddress",tn);en("paymentMethodMessaging",tn);en("affirmMessage",tn);en("afterpayClearpayMessage",tn);const pH=bt.create({baseURL:"https://api-wojinmq43q-uc.a.run.app"});function mH(){const[{user:n,basket:e},t]=K.useContext(Ss),r=(e==null?void 0:e.reduce((I,S)=>I+S.amount,0))||0,i=e.reduce((I,S)=>I+S.price*S.amount,0),[o,l]=K.useState(null),[u,d]=K.useState(!1),h=fH(),m=lH(),g=zm(),_=I=>{var S,b;(S=I==null?void 0:I.error)!=null&&S.message?l((b=I==null?void 0:I.error)==null?void 0:b.message):l("")},T=async I=>{var S;I.preventDefault();try{d(!0);const V=(S=(await pH({method:"POST",url:`/payments/create?total=${i*100}`})).data)==null?void 0:S.clientSecret,{paymentIntent:L}=await h.confirmCardPayment(V,{payment_method:{card:m.getElement(cb)}});console.log(L),await H1.collection("users").doc(n.uid).collection("orders").doc(L.id).set({basket:e,amount:L.amount,created:L.created}),t({type:Fr.EMPTY_BASKET}),d(!1),g("/orders",{state:{msg:"you have placed new Order"}})}catch(b){console.error(b),d(!1)}};return B.jsxs(dc,{children:[B.jsxs("div",{className:ru.payment__header,children:["Checkout (",r,") items"]}),B.jsxs("section",{className:ru.payment,children:[B.jsxs("div",{className:ru.flex,children:[B.jsx("h3",{children:"Delivery Address"}),B.jsx("div",{children:n==null?void 0:n.email}),B.jsx("div",{children:"1919 Fruitdale Avenue"}),B.jsx("div",{children:"San Francisco, CA"})]}),B.jsx("hr",{}),B.jsxs("div",{className:ru.flex,children:[B.jsx("h3",{children:"Review items and delivery"}),B.jsx("div",{children:(e==null?void 0:e.length)>0?e.map(I=>B.jsx(cc,{data:I,flex:!0},I.id)):B.jsx("p",{children:"No items in your basket."})})]}),B.jsx("hr",{}),B.jsxs("div",{className:ru.flex,children:[B.jsx("h3",{children:"Payment Methods"}),B.jsxs("form",{onSubmit:T,children:[o&&B.jsx("small",{children:o}),B.jsx(cb,{onChange:_}),B.jsxs("div",{children:[B.jsx("div",{children:B.jsxs("span",{children:["Total Order  | ",B.jsx(EE,{amount:i})]})}),B.jsx("button",{type:"submit",children:u?B.jsxs("div",{className:ru.loading,children:[B.jsx(fw,{color:"gray",size:20}),B.jsx("p",{children:"Please Wait...."})]}):"Pay Now"})]})]})]})]})]})}function gH(){const{productId:n}=Sb(),[e,t]=K.useState({}),[r,i]=K.useState(!0);return K.useEffect(()=>{i(!0),bt.get(`${aO}/products/${n}`).then(o=>{t(o.data),i(!1)}).catch(o=>{console.log(o)})},[]),B.jsx(dc,{children:r?B.jsx(lO,{}):B.jsx(cc,{data:e,flex:!0,renderDesc:!0,renderADD:!0})})}var gO="acacia",yH=function(e){return e===3?"v3":e},yO="https://js.stripe.com",_H="".concat(yO,"/").concat(gO,"/stripe.js"),vH=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,wH=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var EH=function(e){return vH.test(e)||wH.test(e)},IH=function(){for(var e=document.querySelectorAll('script[src^="'.concat(yO,'"]')),t=0;t<e.length;t++){var r=e[t];if(EH(r.src))return r}return null},db=function(e){var t="",r=document.createElement("script");r.src="".concat(_H).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},TH=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"6.0.0",startTime:t})},Ad=null,Op=null,Np=null,SH=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},RH=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},AH=function(e){return Ad!==null?Ad:(Ad=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=IH();if(!(i&&e)){if(!i)i=db(e);else if(i&&Np!==null&&Op!==null){var o;i.removeEventListener("load",Np),i.removeEventListener("error",Op),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=db(e)}}Np=RH(t,r),Op=SH(r),i.addEventListener("load",Np),i.addEventListener("error",Op)}catch(l){r(l);return}}),Ad.catch(function(t){return Ad=null,Promise.reject(t)}))},bH=function(e,t,r){if(e===null)return null;var i=t[0],o=i.match(/^pk_test/),l=yH(e.version),u=gO;o&&l!==u&&console.warn("Stripe.js@".concat(l," was loaded on the page, but @stripe/stripe-js@").concat("6.0.0"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=e.apply(void 0,t);return TH(d,r),d},bd,_O=!1,vO=function(){return bd||(bd=AH(null).catch(function(e){return bd=null,Promise.reject(e)}),bd)};Promise.resolve().then(function(){return vO()}).catch(function(n){_O||console.warn(n)});var PH=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];_O=!0;var i=Date.now();return vO().then(function(o){return bH(o,t,i)})};const hb=({children:n,msg:e,redirect:t})=>{const r=zm(),[{user:i},o]=K.useContext(Ss);return K.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n},CH=PH("pk_test_51R1ezgF2bhEuiD08pl9hLevt8kyGXiQEkD3qDvMR94pUtViC9NoAhtmyyQjNbnUz4AWRSmDr5rGm36uJncTo9wxt00mGxdBRun");function kH(){return B.jsx("div",{children:B.jsx(h2,{children:B.jsxs($D,{children:[B.jsx(lo,{path:"/",element:B.jsx(EW,{})}),B.jsx(lo,{path:"/auth",element:B.jsx(NW,{})}),B.jsx(lo,{path:"/cart",element:B.jsx(WW,{})}),B.jsx(lo,{path:"/Payments",element:B.jsx(hb,{msg:"you must log in to pay",redirect:"/payments",children:B.jsx(pO,{stripe:CH,children:B.jsx(mH,{})})})}),B.jsx(lo,{path:"/orders",element:B.jsx(hb,{msg:"you must log in to see your orders",redirect:"/orders",children:B.jsx(LW,{})})}),B.jsx(lo,{path:"/category/:categoryName",element:B.jsx(GW,{})}),B.jsx(lo,{path:"/products/:productId",element:B.jsx(gH,{})})]})})})}function xH(){const[{user:n},e]=K.useContext(Ss);return K.useEffect(()=>{Vm.onAuthStateChanged(t=>{console.log(t,"from firebase"),t?(console.log(t,"from in"),e({type:Fr.SET_USER,user:t})):(console.log(t,"from null"),e({type:Fr.SET_USER,user:null}))})},[]),B.jsx("div",{children:B.jsx(kH,{})})}const OH={basket:[]},NH=(n,e)=>{switch(e.type){case Fr.ADD_TO_BASKET:if(n.basket.find(r=>r.id===e.item.id)){const r=n.basket.map(i=>i.id===e.item.id?{...i,amount:i.amount+1}:i);return{...n,basket:r}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case Fr.REMOVE_FROM_BASKET:{const t=n.basket.findIndex(i=>i.id===e.id);let r=[...n.basket];return t>=0&&(r[t].amount>1?r[t]={...r[t],amount:r[t].amount-1}:r.splice(t,1)),{...n,basket:r}}case Fr.EMPTY_BASKET:return{...n,basket:[]};case Fr.SET_USER:return{...n,user:e.user};default:return n}};ON.createRoot(document.getElementById("root")).render(B.jsx(K.StrictMode,{children:B.jsx(I2,{reducer:NH,initialState:OH,children:B.jsx(xH,{})})}));
